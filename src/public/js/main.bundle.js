/*! For license information please see main.bundle.js.LICENSE.txt */
(self.webpackChunkPortfolio2021=self.webpackChunkPortfolio2021||[]).push([["main"],{"./src/js/app.js":(e,t,a)=>{"use strict";a.r(t);var n=a("./src/js/data/config.js"),s=a("./src/js/utils/detector.js"),r=(a("./src/js/app/main.js"),a("./node_modules/three/build/three.module.js")),o=a("./node_modules/three/examples/jsm/controls/OrbitControls.js"),i=a("./node_modules/dat.gui/build/dat.gui.module.js"),l=a("./node_modules/gsap/index.js"),h=(a("./src/css/app.scss"),a("./src/js/app/loaders/GLTFLoader.js"));console.log("----- RUNNING IN DEV ENVIRONMENT! -----"),n.default.isDev=!0,function(){if(s.default.webgl){new i.GUI;const e=document.querySelector("canvas.webgl"),t=new r.Scene,a=new r.LoadingManager((()=>{window.setTimeout((()=>{const e=document.querySelector(".loading-bar");l.default.to(p.uniforms.uAlpha,{duration:3,value:0,delay:1}),e.classList.add("ended"),e.style.transform="",document.getElementById("htmlContainer").classList.remove("hidden")}),500);const e=l.default.timeline();e.from(".reveal-line *",1.8,{y:300,ease:"power4.out",delay:1,skewY:10,stagger:{amount:.2}}),e.eventCallback("onComplete",(()=>{document.querySelectorAll(".reveal-line").forEach((e=>{e.classList.remove("reveal-line")}))}))}),((e,t,a)=>{const n=t/a;document.querySelector(".loading-bar").style.transform=`scaleX(${n})`})),n=new h.GLTFLoader(a),s=new r.Group;let c=null;n.load("/assets/models/skull.glb",(e=>{console.log(e),e.scene.traverse((e=>{e.isMesh})),e.scene.position.y=.25,e.scene.scale.set(.002,.002,.002),e.scene.rotation.x=Math.PI/7,s.add(e.scene),c=e.scene,t.add(e.scene);const a=new r.PointLight(15795365,3,100);a.position.set(0,-5,10),null!=s&&a.lookAt(s.position),t.add(a)}));const d=new r.AmbientLight(4210752);t.add(d);const u=new r.DirectionalLight(16777215,1);t.add(u);const m=new r.PlaneGeometry(2,2,1,1),p=new r.ShaderMaterial({transparent:!0,vertexShader:"\n          void main()\n          {\n              gl_Position = vec4(position, 1.0);\n          }\n      ",uniforms:{uAlpha:{value:1}},fragmentShader:"\n      uniform float uAlpha;\n      void main()\n      {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, uAlpha);\n      }"}),g=new r.Mesh(m,p);t.add(g);const f=new r.Raycaster;let v=null;new r.Vector3(-3,0,0);new r.Vector3(10,0,0).normalize();const b=document.querySelectorAll("nav > .hover-this"),y=document.querySelector(".cursor"),w=function(e){const t=this.querySelector("span"),{offsetX:a,offsetY:n}=e,{offsetWidth:s,offsetHeight:r}=this,o=a/s*50-25,i=n/r*50-25;t.style.transform=`translate(${o}px, ${i}px)`,"mouseleave"===e.type?(t.style.transform="",L()):M()},L=function(){y.classList.remove("cursor-expand")},M=function(){y.classList.add("cursor-expand")},x=e=>{const{clientX:t,clientY:a}=e;y.style.left=t+"px",y.style.top=a+"px"};b.forEach((e=>e.addEventListener("mousemove",w))),b.forEach((e=>e.addEventListener("mouseleave",w))),window.addEventListener("mousemove",x);const E={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",(()=>{E.width=window.innerWidth,E.height=window.innerHeight,R.aspect=E.width/E.height,R.updateProjectionMatrix(),A.setSize(E.width,E.height),A.setPixelRatio(Math.min(window.devicePixelRatio,2))}));const T=new r.Vector2;window.addEventListener("mousemove",(e=>{T.x=e.clientX/E.width*2-1,T.y=-e.clientY/E.height*2+1})),window.addEventListener("click",(()=>{if(v)switch(v.object){case object1:console.log("click on object 1");break;case object2:console.log("click on object 2");break;case object3:console.log("click on object 3")}}));const R=new r.PerspectiveCamera(75,E.width/E.height,.1,100);R.position.z=3,t.add(R);const S=new o.OrbitControls(R,e);S.enableDamping=!0;const A=new r.WebGLRenderer({canvas:e});A.setSize(E.width,E.height),A.setPixelRatio(Math.min(window.devicePixelRatio,2)),A.setClearColor(461578,1);const C=new r.Clock,j=()=>{const e=C.getElapsedTime();null!=c&&(c.position.y=.15*Math.sin(.3*e)),f.setFromCamera(T,R),S.update(),A.render(t,R),window.requestAnimationFrame(j)};j()}else s.default.addGetWebGLMessage()}()},"./src/js/app/components/camera.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var n=a("./node_modules/three/build/three.module.js"),s=a("./src/js/data/config.js");class r{constructor(e){const t=e.domElement.width,a=e.domElement.height;this.threeCamera=new n.PerspectiveCamera(s.default.camera.fov,t/a,s.default.camera.near,s.default.camera.far),this.threeCamera.position.set(s.default.camera.posX,s.default.camera.posY,s.default.camera.posZ),this.updateSize(e),window.addEventListener("resize",(()=>this.updateSize(e)),!1)}updateSize(e){this.threeCamera.aspect=e.domElement.width/e.domElement.height,this.threeCamera.updateProjectionMatrix()}}},"./src/js/app/components/controls.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var n=a("./node_modules/three/build/three.module.js"),s=a("./src/js/utils/orbitControls.js"),r=a.n(s),o=a("./src/js/data/config.js");class i{constructor(e,t){const a=new(r())(n);this.threeControls=new a(e,t),this.init()}init(){this.threeControls.target.set(o.default.controls.target.x,o.default.controls.target.y,o.default.controls.target.z),this.threeControls.autoRotate=o.default.controls.autoRotate,this.threeControls.autoRotateSpeed=o.default.controls.autoRotateSpeed,this.threeControls.rotateSpeed=o.default.controls.rotateSpeed,this.threeControls.zoomSpeed=o.default.controls.zoomSpeed,this.threeControls.minDistance=o.default.controls.minDistance,this.threeControls.maxDistance=o.default.controls.maxDistance,this.threeControls.minPolarAngle=o.default.controls.minPolarAngle,this.threeControls.maxPolarAngle=o.default.controls.maxPolarAngle,this.threeControls.enableDamping=o.default.controls.enableDamping,this.threeControls.enableZoom=o.default.controls.enableZoom,this.threeControls.dampingFactor=o.default.controls.dampingFactor}}},"./src/js/app/components/geometry.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var n=a("./node_modules/three/build/three.module.js"),s=a("./src/js/app/components/material.js"),r=a("./src/js/data/config.js");class o{constructor(e){this.scene=e,this.geo=null}make(e){return"plane"===e?(e,t,a=1,s=1)=>{this.geo=new n.PlaneGeometry(e,t,a,s)}:"sphere"===e?(e,t=32,a=32)=>{this.geo=new n.SphereGeometry(e,t,a)}:void 0}place(e,t){const a=new s.default(15658734).standard,o=new n.Mesh(this.geo,a);o.position.set(...e),o.rotation.set(...t),r.default.shadow.enabled&&(o.receiveShadow=!0),this.scene.add(o)}}},"./src/js/app/components/light.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var n=a("./node_modules/three/build/three.module.js"),s=a("./src/js/data/config.js");class r{constructor(e){this.scene=e,this.init()}init(){this.ambientLight=new n.AmbientLight(s.default.ambientLight.color),this.ambientLight.visible=s.default.ambientLight.enabled,this.pointLight=new n.PointLight(s.default.pointLight.color,s.default.pointLight.intensity,s.default.pointLight.distance),this.pointLight.position.set(s.default.pointLight.x,s.default.pointLight.y,s.default.pointLight.z),this.pointLight.visible=s.default.pointLight.enabled,this.directionalLight=new n.DirectionalLight(s.default.directionalLight.color,s.default.directionalLight.intensity),this.directionalLight.position.set(s.default.directionalLight.x,s.default.directionalLight.y,s.default.directionalLight.z),this.directionalLight.visible=s.default.directionalLight.enabled,this.directionalLight.castShadow=s.default.shadow.enabled,this.directionalLight.shadow.bias=s.default.shadow.bias,this.directionalLight.shadow.camera.near=s.default.shadow.near,this.directionalLight.shadow.camera.far=s.default.shadow.far,this.directionalLight.shadow.camera.left=s.default.shadow.left,this.directionalLight.shadow.camera.right=s.default.shadow.right,this.directionalLight.shadow.camera.top=s.default.shadow.top,this.directionalLight.shadow.camera.bottom=s.default.shadow.bottom,this.directionalLight.shadow.mapSize.width=s.default.shadow.mapWidth,this.directionalLight.shadow.mapSize.height=s.default.shadow.mapHeight,s.default.isDev&&(this.directionalLightHelper=new n.CameraHelper(this.directionalLight.shadow.camera),this.directionalLightHelper.visible=s.default.shadow.helperEnabled),this.hemiLight=new n.HemisphereLight(s.default.hemiLight.color,s.default.hemiLight.groundColor,s.default.hemiLight.intensity),this.hemiLight.position.set(s.default.hemiLight.x,s.default.hemiLight.y,s.default.hemiLight.z),this.hemiLight.visible=s.default.hemiLight.enabled}place(e){switch(e){case"ambient":this.scene.add(this.ambientLight);break;case"directional":this.scene.add(this.directionalLight),s.default.isDev&&this.scene.add(this.directionalLightHelper);break;case"point":this.scene.add(this.pointLight);break;case"hemi":this.scene.add(this.hemiLight)}}}},"./src/js/app/components/material.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a("./node_modules/three/build/three.module.js");class s{constructor(e){this.basic=new n.MeshBasicMaterial({color:e,side:n.DoubleSide}),this.standard=new n.MeshStandardMaterial({color:e,shading:n.FlatShading,roughness:1,metalness:0,side:n.DoubleSide}),this.wire=new n.MeshBasicMaterial({wireframe:!0})}}},"./src/js/app/components/renderer.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var n=a("./node_modules/three/build/three.module.js"),s=a("./src/js/data/config.js");class r{constructor(e,t){this.scene=e,this.container=t,this.threeRenderer=new n.WebGLRenderer({antialias:!0}),this.threeRenderer.setClearColor(e.fog.color),this.threeRenderer.setPixelRatio(window.devicePixelRatio),t.insertBefore(this.threeRenderer.domElement,t.firstChild),this.threeRenderer.shadowMap.enabled=!0,this.threeRenderer.shadowMap.type=n.PCFSoftShadowMap,s.default.maxAnisotropy=this.threeRenderer.capabilities.getMaxAnisotropy(),this.updateSize(),document.addEventListener("DOMContentLoaded",(()=>this.updateSize()),!1),window.addEventListener("resize",(()=>this.updateSize()),!1)}updateSize(){this.threeRenderer.setSize(this.container.offsetWidth,this.container.offsetHeight)}render(e,t){this.threeRenderer.render(e,t)}}},"./src/js/app/helpers/meshHelper.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var n=a("./node_modules/three/build/three.module.js"),s=a("./src/js/app/helpers/vertexNormalsHelper.js");class r{constructor(e,t){this.mesh=t,this.scene=e;const a=new n.WireframeGeometry(this.mesh.geometry);this.wireLine=new n.LineSegments(a),this.wireLine.material.depthTest=!1,this.wireLine.material.opacity=.25,this.wireLine.material.transparent=!0;const r=new n.EdgesGeometry(this.mesh.geometry);this.edgesLine=new n.LineSegments(r),this.edgesLine.material.depthTest=!1,this.edgesLine.material.opacity=.25,this.edgesLine.material.transparent=!0,this.vertexHelper=new s.VertexNormalsHelper(this.mesh,2),this.boxHelper=new n.BoxHelper(this.mesh)}enable(){this.mesh.add(this.wireLine),this.mesh.add(this.edgesLine),this.scene.add(this.vertexHelper),this.scene.add(this.boxHelper)}disable(){this.mesh.remove(this.wireLine),this.mesh.remove(this.edgesLine),this.scene.remove(this.vertexHelper),this.scene.remove(this.boxHelper)}}},"./src/js/app/helpers/stats.js":(e,t,a)=>{"use strict";let n,s,r,o;a.r(t),a.d(t,{default:()=>i});class i{constructor(e){this.renderer=e}setUp(){s=new BrowserStats,r=new glStats,o=new threeStats(this.renderer.threeRenderer),n=new rStats({CSSPath:"./css/",userTimingAPI:!0,values:{frame:{caption:"Total frame time (ms)",over:16,average:!0,avgMs:100},fps:{caption:"Framerate (FPS)",below:30},calls:{caption:"Calls (three.js)",over:3e3},raf:{caption:"Time since last rAF (ms)",average:!0,avgMs:100},rstats:{caption:"rStats update (ms)",average:!0,avgMs:100},texture:{caption:"GenTex",average:!0,avgMs:100}},groups:[{caption:"Framerate",values:["fps","raf"]},{caption:"Frame Budget",values:["frame","texture","setup","render"]}],fractions:[{base:"frame",steps:["texture","setup","render"]}],plugins:[s,o]})}static start(){n("frame").start(),r.start(),n("rAF").tick(),n("FPS").frame(),n("render").start()}static end(){n("render").end(),n("frame").end(),n("rStats").start(),n().update(),n("rStats").end()}}},"./src/js/app/helpers/vertexNormalsHelper.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{VertexNormalsHelper:()=>l});var n=a("./node_modules/three/build/three.module.js");const s=new n.Vector3,r=new n.Vector3,o=new n.Matrix3,i=["a","b","c"];function l(e,t,a){this.object=e,this.size=void 0!==t?t:.1;const s=void 0!==a?a:16711680;let r=0;const o=this.object.geometry;o&&o.isGeometry?r=3*o.faces.length:o&&o.isBufferGeometry&&(r=o.attributes.normal.count);const i=new n.BufferGeometry,l=new n.Float32BufferAttribute(2*r*3,3);i.setAttribute("position",l),n.LineSegments.call(this,i,new n.LineBasicMaterial({color:s,toneMapped:!1})),this.type="VertexNormalsHelper",this.matrixAutoUpdate=!1,this.update()}l.prototype=Object.create(n.LineSegments.prototype),l.prototype.constructor=l,l.prototype.update=function(){let e;this.object.updateMatrixWorld(!0),o.getNormalMatrix(this.object.matrixWorld);const t=this.object.matrixWorld,a=this.geometry.attributes.position,n=this.object.geometry;if(n&&n.isGeometry){const l=n.vertices,h=n.faces;e=0;for(let n=0,c=h.length;n<c;n++){const c=h[n];for(let n=0,h=c.vertexNormals.length;n<h;n++){const h=l[c[i[n]]],d=c.vertexNormals[n];s.copy(h).applyMatrix4(t),r.copy(d).applyMatrix3(o).normalize().multiplyScalar(this.size).add(s),a.setXYZ(e,s.x,s.y,s.z),e+=1,a.setXYZ(e,r.x,r.y,r.z),e+=1}}}else if(n&&n.isBufferGeometry){const i=n.attributes.position,c=n.attributes.normal;e=0;for(var l=0,h=i.count;l<h;l++)s.set(i.getX(l),i.getY(l),i.getZ(l)).applyMatrix4(t),r.set(c.getX(l),c.getY(l),c.getZ(l)),r.applyMatrix3(o).normalize().multiplyScalar(this.size).add(s),a.setXYZ(e,s.x,s.y,s.z),e+=1,a.setXYZ(e,r.x,r.y,r.z),e+=1}a.needsUpdate=!0}},"./src/js/app/loaders/GLTFLoader.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{GLTFLoader:()=>s});var n=a("./node_modules/three/build/three.module.js");const s=function(){function e(e){n.Loader.call(this,e),this.dracoLoader=null,this.ddsLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,a){e[t]=a},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(n.Loader.prototype),{constructor:e,load:function(e,t,a,s){var r,o=this;r=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:n.LoaderUtils.extractUrlBase(e),o.manager.itemStart(e);var i=function(t){s?s(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},l=new n.FileLoader(o.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),"use-credentials"===o.crossOrigin&&l.setWithCredentials(!0),l.load(e,(function(a){try{o.parse(a,r,(function(a){t(a),o.manager.itemEnd(e)}),i)}catch(e){i(e)}}),a,i)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},parse:function(e,t,h,c){var p,v={};if("string"==typeof e)p=e;else if(n.LoaderUtils.decodeText(new Uint8Array(e,0,4))===l){try{v[a.KHR_BINARY_GLTF]=new d(e)}catch(e){return void(c&&c(e))}p=v[a.KHR_BINARY_GLTF].content}else p=n.LoaderUtils.decodeText(new Uint8Array(e));var b=JSON.parse(p);if(void 0===b.asset||b.asset.version[0]<2)c&&c(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{if(b.extensionsUsed)for(var y=0;y<b.extensionsUsed.length;++y){var w=b.extensionsUsed[y],L=b.extensionsRequired||[];switch(w){case a.KHR_LIGHTS_PUNCTUAL:v[w]=new r(b);break;case a.KHR_MATERIALS_CLEARCOAT:v[w]=new i;break;case a.KHR_MATERIALS_UNLIT:v[w]=new o;break;case a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:v[w]=new g;break;case a.KHR_DRACO_MESH_COMPRESSION:v[w]=new u(b,this.dracoLoader);break;case a.MSFT_TEXTURE_DDS:v[w]=new s(this.ddsLoader);break;case a.KHR_TEXTURE_TRANSFORM:v[w]=new m;break;case a.KHR_MESH_QUANTIZATION:v[w]=new f;break;default:L.indexOf(w)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}new B(b,v,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(h,c)}}});var a={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function s(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=a.MSFT_TEXTURE_DDS,this.ddsLoader=e}function r(e){this.name=a.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[a.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function o(){this.name=a.KHR_MATERIALS_UNLIT}function i(){this.name=a.KHR_MATERIALS_CLEARCOAT}r.prototype.loadLight=function(e){var t,a=this.lightDefs[e],s=new n.Color(16777215);void 0!==a.color&&s.fromArray(a.color);var r=void 0!==a.range?a.range:0;switch(a.type){case"directional":(t=new n.DirectionalLight(s)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new n.PointLight(s)).distance=r;break;case"spot":(t=new n.SpotLight(s)).distance=r,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,t.angle=a.spot.outerConeAngle,t.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+a.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==a.intensity&&(t.intensity=a.intensity),t.name=a.name||"light_"+e,Promise.resolve(t)},o.prototype.getMaterialType=function(){return n.MeshBasicMaterial},o.prototype.extendParams=function(e,t,a){var s=[];e.color=new n.Color(1,1,1),e.opacity=1;var r=t.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){var o=r.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==r.baseColorTexture&&s.push(a.assignTexture(e,"map",r.baseColorTexture))}return Promise.all(s)},i.prototype.getMaterialType=function(){return n.MeshPhysicalMaterial},i.prototype.extendParams=function(e,t,a){var s=[],r=t.extensions[this.name];if(void 0!==r.clearcoatFactor&&(e.clearcoat=r.clearcoatFactor),void 0!==r.clearcoatTexture&&s.push(a.assignTexture(e,"clearcoatMap",r.clearcoatTexture)),void 0!==r.clearcoatRoughnessFactor&&(e.clearcoatRoughness=r.clearcoatRoughnessFactor),void 0!==r.clearcoatRoughnessTexture&&s.push(a.assignTexture(e,"clearcoatRoughnessMap",r.clearcoatRoughnessTexture)),void 0!==r.clearcoatNormalTexture&&(s.push(a.assignTexture(e,"clearcoatNormalMap",r.clearcoatNormalTexture)),void 0!==r.clearcoatNormalTexture.scale)){var o=r.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new n.Vector2(o,o)}return Promise.all(s)};var l="glTF",h=1313821514,c=5130562;function d(e){this.name=a.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,12);if(this.header={magic:n.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==l)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var s=new DataView(e,12),r=0;r<s.byteLength;){var o=s.getUint32(r,!0);r+=4;var i=s.getUint32(r,!0);if(r+=4,i===h){var d=new Uint8Array(e,12+r,o);this.content=n.LoaderUtils.decodeText(d)}else if(i===c){var u=12+r;this.body=e.slice(u,u+o)}r+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function u(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=a.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function m(){this.name=a.KHR_TEXTURE_TRANSFORM}function p(e){n.MeshStandardMaterial.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),a=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),s=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),r=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),i={specular:{value:(new n.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=i,this.onBeforeCompile=function(e){for(var n in i)e.uniforms[n]=i[n];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;"),e.fragmentShader=e.fragmentShader.replace("uniform float metalness;","uniform float glossiness;"),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_pars_fragment>",t),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_pars_fragment>",a),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_fragment>",s),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_fragment>",r),e.fragmentShader=e.fragmentShader.replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return i.specular.value},set:function(e){i.specular.value=e}},specularMap:{get:function(){return i.specularMap.value},set:function(e){i.specularMap.value=e}},glossiness:{get:function(){return i.glossiness.value},set:function(e){i.glossiness.value=e}},glossinessMap:{get:function(){return i.glossinessMap.value},set:function(e){i.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_ROUGHNESSMAP=""):(delete this.defines.USE_ROUGHNESSMAP,delete this.defines.USE_GLOSSINESSMAP)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function g(){return{name:a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return p},extendParams:function(e,t,a){var s=t.extensions[this.name];e.color=new n.Color(1,1,1),e.opacity=1;var r=[];if(Array.isArray(s.diffuseFactor)){var o=s.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(void 0!==s.diffuseTexture&&r.push(a.assignTexture(e,"map",s.diffuseTexture)),e.emissive=new n.Color(0,0,0),e.glossiness=void 0!==s.glossinessFactor?s.glossinessFactor:1,e.specular=new n.Color(1,1,1),Array.isArray(s.specularFactor)&&e.specular.fromArray(s.specularFactor),void 0!==s.specularGlossinessTexture){var i=s.specularGlossinessTexture;r.push(a.assignTexture(e,"glossinessMap",i)),r.push(a.assignTexture(e,"specularMap",i))}return Promise.all(r)},createMaterial:function(e){var t=new p(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=n.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function f(){this.name=a.KHR_MESH_QUANTIZATION}function v(e,t,a,s){n.Interpolant.call(this,e,t,a,s)}u.prototype.decodePrimitive=function(e,t){var a=this.json,n=this.dracoLoader,s=e.extensions[this.name].bufferView,r=e.extensions[this.name].attributes,o={},i={},l={};for(var h in r){var c=C[h]||h.toLowerCase();o[c]=r[h]}for(h in e.attributes){c=C[h]||h.toLowerCase();if(void 0!==r[h]){var d=a.accessors[e.attributes[h]],u=T[d.componentType];l[c]=u,i[c]=!0===d.normalized}}return t.getDependency("bufferView",s).then((function(e){return new Promise((function(t){n.decodeDracoFile(e,(function(e){for(var a in e.attributes){var n=e.attributes[a],s=i[a];void 0!==s&&(n.normalized=s)}t(e)}),o,l)}))}))},m.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},p.prototype=Object.create(n.MeshStandardMaterial.prototype),p.prototype.constructor=p,p.prototype.copy=function(e){return n.MeshStandardMaterial.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},v.prototype=Object.create(n.Interpolant.prototype),v.prototype.constructor=v,v.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,a=this.sampleValues,n=this.valueSize,s=e*n*3+n,r=0;r!==n;r++)t[r]=a[s+r];return t},v.prototype.beforeStart_=v.prototype.copySampleValue_,v.prototype.afterEnd_=v.prototype.copySampleValue_,v.prototype.interpolate_=function(e,t,a,n){for(var s=this.resultBuffer,r=this.sampleValues,o=this.valueSize,i=2*o,l=3*o,h=n-t,c=(a-t)/h,d=c*c,u=d*c,m=e*l,p=m-l,g=-2*u+3*d,f=u-d,v=1-g,b=f-d+c,y=0;y!==o;y++){var w=r[p+y+o],L=r[p+y+i]*h,M=r[m+y+o],x=r[m+y]*h;s[y]=v*w+b*L+g*M+f*x}return s};var b=0,y=1,w=2,L=3,M=4,x=5,E=6,T={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},R={9728:n.NearestFilter,9729:n.LinearFilter,9984:n.NearestMipmapNearestFilter,9985:n.LinearMipmapNearestFilter,9986:n.NearestMipmapLinearFilter,9987:n.LinearMipmapLinearFilter},S={33071:n.ClampToEdgeWrapping,33648:n.MirroredRepeatWrapping,10497:n.RepeatWrapping},A={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},C={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},j={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},P={CUBICSPLINE:void 0,LINEAR:n.InterpolateLinear,STEP:n.InterpolateDiscrete},_="OPAQUE",F="MASK",H="BLEND",U={"image/png":n.RGBAFormat,"image/jpeg":n.RGBFormat};function I(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function D(e,t,a){for(var n in a.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=a.extensions[n])}function O(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function G(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var a=0,n=t.weights.length;a<n;a++)e.morphTargetInfluences[a]=t.weights[a];if(t.extras&&Array.isArray(t.extras.targetNames)){var s=t.extras.targetNames;if(e.morphTargetInfluences.length===s.length){e.morphTargetDictionary={};for(a=0,n=s.length;a<n;a++)e.morphTargetDictionary[s[a]]=a}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function k(e){for(var t="",a=Object.keys(e).sort(),n=0,s=a.length;n<s;n++)t+=a[n]+":"+e[a[n]]+";";return t}function B(e,a,s){this.json=e||{},this.extensions=a||{},this.options=s||{},this.cache=new t,this.primitiveCache={},this.textureLoader=new n.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new n.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function N(e,t,a){var s=t.attributes,r=[];function o(t,n){return a.getDependency("accessor",t).then((function(t){e.setAttribute(n,t)}))}for(var i in s){var l=C[i]||i.toLowerCase();l in e.attributes||r.push(o(s[i],l))}if(void 0!==t.indices&&!e.index){var h=a.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));r.push(h)}return O(e,t),function(e,t,a){var s=t.attributes,r=new n.Box3;if(void 0!==s.POSITION){var o=(m=a.json.accessors[s.POSITION]).min,i=m.max;if(void 0!==o&&void 0!==i){r.set(new n.Vector3(o[0],o[1],o[2]),new n.Vector3(i[0],i[1],i[2]));var l=t.targets;if(void 0!==l){for(var h=new n.Vector3,c=new n.Vector3,d=0,u=l.length;d<u;d++){var m,p=l[d];if(void 0!==p.POSITION)o=(m=a.json.accessors[p.POSITION]).min,i=m.max,void 0!==o&&void 0!==i?(c.setX(Math.max(Math.abs(o[0]),Math.abs(i[0]))),c.setY(Math.max(Math.abs(o[1]),Math.abs(i[1]))),c.setZ(Math.max(Math.abs(o[2]),Math.abs(i[2]))),h.max(c)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}r.expandByVector(h)}e.boundingBox=r;var g=new n.Sphere;r.getCenter(g.center),g.radius=r.min.distanceTo(r.max)/2,e.boundingSphere=g}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,a),Promise.all(r).then((function(){return void 0!==t.targets?function(e,t,a){for(var n=!1,s=!1,r=0,o=t.length;r<o&&(void 0!==(h=t[r]).POSITION&&(n=!0),void 0!==h.NORMAL&&(s=!0),!n||!s);r++);if(!n&&!s)return Promise.resolve(e);var i=[],l=[];for(r=0,o=t.length;r<o;r++){var h=t[r];if(n){var c=void 0!==h.POSITION?a.getDependency("accessor",h.POSITION):e.attributes.position;i.push(c)}s&&(c=void 0!==h.NORMAL?a.getDependency("accessor",h.NORMAL):e.attributes.normal,l.push(c))}return Promise.all([Promise.all(i),Promise.all(l)]).then((function(t){var a=t[0],r=t[1];return n&&(e.morphAttributes.position=a),s&&(e.morphAttributes.normal=r),e.morphTargetsRelative=!0,e}))}(e,t.targets,a):e}))}function z(e,t){var a=e.getIndex();if(null===a){var s=[],r=e.getAttribute("position");if(void 0===r)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var o=0;o<r.count;o++)s.push(o);e.setIndex(s),a=e.getIndex()}var i=a.count-2,l=[];if(t===n.TriangleFanDrawMode)for(o=1;o<=i;o++)l.push(a.getX(0)),l.push(a.getX(o)),l.push(a.getX(o+1));else for(o=0;o<i;o++)o%2==0?(l.push(a.getX(o)),l.push(a.getX(o+1)),l.push(a.getX(o+2))):(l.push(a.getX(o+2)),l.push(a.getX(o+1)),l.push(a.getX(o)));l.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var h=e.clone();return h.setIndex(l),h}return B.prototype.parse=function(e,t){var a=this,n=this.json,s=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var r={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:a,userData:{}};D(s,r,n),O(r,n),e(r)})).catch(t)},B.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],a=this.json.meshes||[],n={},s={},r=0,o=t.length;r<o;r++)for(var i=t[r].joints,l=0,h=i.length;l<h;l++)e[i[l]].isBone=!0;for(var c=0,d=e.length;c<d;c++){var u=e[c];void 0!==u.mesh&&(void 0===n[u.mesh]&&(n[u.mesh]=s[u.mesh]=0),n[u.mesh]++,void 0!==u.skin&&(a[u.mesh].isSkinnedMesh=!0))}this.json.meshReferences=n,this.json.meshUses=s},B.prototype.getDependency=function(e,t){var n=e+":"+t,s=this.cache.get(n);if(!s){switch(e){case"scene":s=this.loadScene(t);break;case"node":s=this.loadNode(t);break;case"mesh":s=this.loadMesh(t);break;case"accessor":s=this.loadAccessor(t);break;case"bufferView":s=this.loadBufferView(t);break;case"buffer":s=this.loadBuffer(t);break;case"material":s=this.loadMaterial(t);break;case"texture":s=this.loadTexture(t);break;case"skin":s=this.loadSkin(t);break;case"animation":s=this.loadAnimation(t);break;case"camera":s=this.loadCamera(t);break;case"light":s=this.extensions[a.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,s)}return s},B.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var a=this,n=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(n.map((function(t,n){return a.getDependency(e,n)}))),this.cache.add(e,t)}return t},B.prototype.loadBuffer=function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[a.KHR_BINARY_GLTF].body);var s=this.options;return new Promise((function(e,a){n.load(I(t.uri,s.path),e,void 0,(function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},B.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var a=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+a)}))},B.prototype.loadAccessor=function(e){var t=this,a=this.json,s=this.json.accessors[e];if(void 0===s.bufferView&&void 0===s.sparse)return Promise.resolve(null);var r=[];return void 0!==s.bufferView?r.push(this.getDependency("bufferView",s.bufferView)):r.push(null),void 0!==s.sparse&&(r.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(r).then((function(e){var r,o,i=e[0],l=A[s.type],h=T[s.componentType],c=h.BYTES_PER_ELEMENT,d=c*l,u=s.byteOffset||0,m=void 0!==s.bufferView?a.bufferViews[s.bufferView].byteStride:void 0,p=!0===s.normalized;if(m&&m!==d){var g=Math.floor(u/m),f="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+g+":"+s.count,v=t.cache.get(f);v||(r=new h(i,g*m,s.count*m/c),v=new n.InterleavedBuffer(r,m/c),t.cache.add(f,v)),o=new n.InterleavedBufferAttribute(v,l,u%m/c,p)}else r=null===i?new h(s.count*l):new h(i,u,s.count*l),o=new n.BufferAttribute(r,l,p);if(void 0!==s.sparse){var b=A.SCALAR,y=T[s.sparse.indices.componentType],w=s.sparse.indices.byteOffset||0,L=s.sparse.values.byteOffset||0,M=new y(e[1],w,s.sparse.count*b),x=new h(e[2],L,s.sparse.count*l);null!==i&&(o=new n.BufferAttribute(o.array.slice(),o.itemSize,o.normalized));for(var E=0,R=M.length;E<R;E++){var S=M[E];if(o.setX(S,x[E*l]),l>=2&&o.setY(S,x[E*l+1]),l>=3&&o.setZ(S,x[E*l+2]),l>=4&&o.setW(S,x[E*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o}))},B.prototype.loadTexture=function(e){var t,s=this,r=this.json,o=this.options,i=this.textureLoader,l=self.URL||self.webkitURL,h=r.textures[e],c=h.extensions||{},d=(t=c[a.MSFT_TEXTURE_DDS]?r.images[c[a.MSFT_TEXTURE_DDS].source]:r.images[h.source]).uri,u=!1;return void 0!==t.bufferView&&(d=s.getDependency("bufferView",t.bufferView).then((function(e){u=!0;var a=new Blob([e],{type:t.mimeType});return d=l.createObjectURL(a)}))),Promise.resolve(d).then((function(e){var t=o.manager.getHandler(e);return t||(t=c[a.MSFT_TEXTURE_DDS]?s.extensions[a.MSFT_TEXTURE_DDS].ddsLoader:i),new Promise((function(a,n){t.load(I(e,o.path),a,void 0,n)}))})).then((function(e){!0===u&&l.revokeObjectURL(d),e.flipY=!1,h.name&&(e.name=h.name),t.mimeType in U&&(e.format=U[t.mimeType]);var a=(r.samplers||{})[h.sampler]||{};return e.magFilter=R[a.magFilter]||n.LinearFilter,e.minFilter=R[a.minFilter]||n.LinearMipmapLinearFilter,e.wrapS=S[a.wrapS]||n.RepeatWrapping,e.wrapT=S[a.wrapT]||n.RepeatWrapping,e}))},B.prototype.assignTexture=function(e,t,s){var r=this;return this.getDependency("texture",s.index).then((function(o){if(!o.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":o.format=n.RGBFormat}if(void 0===s.texCoord||0==s.texCoord||"aoMap"===t&&1==s.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+s.texCoord+" for texture "+t+" not yet supported."),r.extensions[a.KHR_TEXTURE_TRANSFORM]){var i=void 0!==s.extensions?s.extensions[a.KHR_TEXTURE_TRANSFORM]:void 0;i&&(o=r.extensions[a.KHR_TEXTURE_TRANSFORM].extendTexture(o,i))}e[t]=o}))},B.prototype.assignFinalMaterial=function(e){var t=e.geometry,a=e.material,s=void 0!==t.attributes.tangent,r=void 0!==t.attributes.color,o=void 0===t.attributes.normal,i=!0===e.isSkinnedMesh,l=Object.keys(t.morphAttributes).length>0,h=l&&void 0!==t.morphAttributes.normal;if(e.isPoints){var c="PointsMaterial:"+a.uuid,d=this.cache.get(c);d||(d=new n.PointsMaterial,n.Material.prototype.copy.call(d,a),d.color.copy(a.color),d.map=a.map,d.sizeAttenuation=!1,this.cache.add(c,d)),a=d}else if(e.isLine){c="LineBasicMaterial:"+a.uuid;var u=this.cache.get(c);u||(u=new n.LineBasicMaterial,n.Material.prototype.copy.call(u,a),u.color.copy(a.color),this.cache.add(c,u)),a=u}if(s||r||o||i||l){c="ClonedMaterial:"+a.uuid+":";a.isGLTFSpecularGlossinessMaterial&&(c+="specular-glossiness:"),i&&(c+="skinning:"),s&&(c+="vertex-tangents:"),r&&(c+="vertex-colors:"),o&&(c+="flat-shading:"),l&&(c+="morph-targets:"),h&&(c+="morph-normals:");var m=this.cache.get(c);m||(m=a.clone(),i&&(m.skinning=!0),s&&(m.vertexTangents=!0),r&&(m.vertexColors=!0),o&&(m.flatShading=!0),l&&(m.morphTargets=!0),h&&(m.morphNormals=!0),this.cache.add(c,m)),a=m}a.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),a.normalScale&&!s&&(a.normalScale.y=-a.normalScale.y),a.clearcoatNormalScale&&!s&&(a.clearcoatNormalScale.y=-a.clearcoatNormalScale.y),e.material=a},B.prototype.loadMaterial=function(e){var t,s=this,r=this.json,o=this.extensions,i=r.materials[e],l={},h=i.extensions||{},c=[];if(h[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var d=o[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=d.getMaterialType(),c.push(d.extendParams(l,i,s))}else if(h[a.KHR_MATERIALS_UNLIT]){var u=o[a.KHR_MATERIALS_UNLIT];t=u.getMaterialType(),c.push(u.extendParams(l,i,s))}else{t=n.MeshStandardMaterial;var m=i.pbrMetallicRoughness||{};if(l.color=new n.Color(1,1,1),l.opacity=1,Array.isArray(m.baseColorFactor)){var g=m.baseColorFactor;l.color.fromArray(g),l.opacity=g[3]}void 0!==m.baseColorTexture&&c.push(s.assignTexture(l,"map",m.baseColorTexture)),l.metalness=void 0!==m.metallicFactor?m.metallicFactor:1,l.roughness=void 0!==m.roughnessFactor?m.roughnessFactor:1,void 0!==m.metallicRoughnessTexture&&(c.push(s.assignTexture(l,"metalnessMap",m.metallicRoughnessTexture)),c.push(s.assignTexture(l,"roughnessMap",m.metallicRoughnessTexture)))}!0===i.doubleSided&&(l.side=n.DoubleSide);var f=i.alphaMode||_;if(f===H?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,f===F&&(l.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&t!==n.MeshBasicMaterial&&(c.push(s.assignTexture(l,"normalMap",i.normalTexture)),l.normalScale=new n.Vector2(1,1),void 0!==i.normalTexture.scale&&l.normalScale.set(i.normalTexture.scale,i.normalTexture.scale)),void 0!==i.occlusionTexture&&t!==n.MeshBasicMaterial&&(c.push(s.assignTexture(l,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(l.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&t!==n.MeshBasicMaterial&&(l.emissive=(new n.Color).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&t!==n.MeshBasicMaterial&&c.push(s.assignTexture(l,"emissiveMap",i.emissiveTexture)),h[a.KHR_MATERIALS_CLEARCOAT]){var v=o[a.KHR_MATERIALS_CLEARCOAT];t=v.getMaterialType(),c.push(v.extendParams(l,{extensions:h},s))}return Promise.all(c).then((function(){var e;return e=t===p?o[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(l):new t(l),i.name&&(e.name=i.name),e.map&&(e.map.encoding=n.sRGBEncoding),e.emissiveMap&&(e.emissiveMap.encoding=n.sRGBEncoding),O(e,i),i.extensions&&D(o,e,i),e}))},B.prototype.loadGeometries=function(e){var t=this,s=this.extensions,r=this.primitiveCache;function o(e){return s[a.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(a){return N(a,e,t)}))}for(var i,l,h=[],c=0,d=e.length;c<d;c++){var u,m=e[c],p=(l=void 0,(l=(i=m).extensions&&i.extensions[a.KHR_DRACO_MESH_COMPRESSION])?"draco:"+l.bufferView+":"+l.indices+":"+k(l.attributes):i.indices+":"+k(i.attributes)+":"+i.mode),g=r[p];if(g)h.push(g.promise);else u=m.extensions&&m.extensions[a.KHR_DRACO_MESH_COMPRESSION]?o(m):N(new n.BufferGeometry,m,t),r[p]={primitive:m,promise:u},h.push(u)}return Promise.all(h)},B.prototype.loadMesh=function(e){for(var t,a=this,s=this.json.meshes[e],r=s.primitives,o=[],i=0,l=r.length;i<l;i++){var h=void 0===r[i].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new n.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:n.FrontSide})),t.DefaultMaterial):this.getDependency("material",r[i].material);o.push(h)}return o.push(a.loadGeometries(r)),Promise.all(o).then((function(t){for(var o=t.slice(0,t.length-1),i=t[t.length-1],l=[],h=0,c=i.length;h<c;h++){var d,u=i[h],m=r[h],p=o[h];if(m.mode===M||m.mode===x||m.mode===E||void 0===m.mode)!0!==(d=!0===s.isSkinnedMesh?new n.SkinnedMesh(u,p):new n.Mesh(u,p)).isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),m.mode===x?d.geometry=z(d.geometry,n.TriangleStripDrawMode):m.mode===E&&(d.geometry=z(d.geometry,n.TriangleFanDrawMode));else if(m.mode===y)d=new n.LineSegments(u,p);else if(m.mode===L)d=new n.Line(u,p);else if(m.mode===w)d=new n.LineLoop(u,p);else{if(m.mode!==b)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+m.mode);d=new n.Points(u,p)}Object.keys(d.geometry.morphAttributes).length>0&&G(d,s),d.name=s.name||"mesh_"+e,i.length>1&&(d.name+="_"+h),O(d,s),a.assignFinalMaterial(d),l.push(d)}if(1===l.length)return l[0];var g=new n.Group;for(h=0,c=l.length;h<c;h++)g.add(l[h]);return g}))},B.prototype.loadCamera=function(e){var t,a=this.json.cameras[e],s=a[a.type];if(s)return"perspective"===a.type?t=new n.PerspectiveCamera(n.MathUtils.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):"orthographic"===a.type&&(t=new n.OrthographicCamera(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),a.name&&(t.name=a.name),O(t,a),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},B.prototype.loadSkin=function(e){var t=this.json.skins[e],a={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(a):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return a.inverseBindMatrices=e,a}))},B.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],a=[],s=[],r=[],o=[],i=[],l=0,h=t.channels.length;l<h;l++){var c=t.channels[l],d=t.samplers[c.sampler],u=c.target,m=void 0!==u.node?u.node:u.id,p=void 0!==t.parameters?t.parameters[d.input]:d.input,g=void 0!==t.parameters?t.parameters[d.output]:d.output;a.push(this.getDependency("node",m)),s.push(this.getDependency("accessor",p)),r.push(this.getDependency("accessor",g)),o.push(d),i.push(u)}return Promise.all([Promise.all(a),Promise.all(s),Promise.all(r),Promise.all(o),Promise.all(i)]).then((function(a){for(var s=a[0],r=a[1],o=a[2],i=a[3],l=a[4],h=[],c=0,d=s.length;c<d;c++){var u=s[c],m=r[c],p=o[c],g=i[c],f=l[c];if(void 0!==u){var b;switch(u.updateMatrix(),u.matrixAutoUpdate=!0,j[f.path]){case j.weights:b=n.NumberKeyframeTrack;break;case j.rotation:b=n.QuaternionKeyframeTrack;break;case j.position:case j.scale:default:b=n.VectorKeyframeTrack}var y=u.name?u.name:u.uuid,w=void 0!==g.interpolation?P[g.interpolation]:n.InterpolateLinear,L=[];j[f.path]===j.weights?u.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&L.push(e.name?e.name:e.uuid)})):L.push(y);var M=p.array;if(p.normalized){var x;if(M.constructor===Int8Array)x=1/127;else if(M.constructor===Uint8Array)x=1/255;else if(M.constructor==Int16Array)x=1/32767;else{if(M.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");x=1/65535}for(var E=new Float32Array(M.length),T=0,R=M.length;T<R;T++)E[T]=M[T]*x;M=E}for(T=0,R=L.length;T<R;T++){var S=new b(L[T]+"."+j[f.path],m.array,M,w);"CUBICSPLINE"===g.interpolation&&(S.createInterpolant=function(e){return new v(this.times,this.values,this.getValueSize()/3,e)},S.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),h.push(S)}}}var A=t.name?t.name:"animation_"+e;return new n.AnimationClip(A,void 0,h)}))},B.prototype.loadNode=function(e){var t,s=this.json,r=this.extensions,o=this,i=s.meshReferences,l=s.meshUses,h=s.nodes[e];return(t=[],void 0!==h.mesh&&t.push(o.getDependency("mesh",h.mesh).then((function(e){var t;if(i[h.mesh]>1){var a=l[h.mesh]++;(t=e.clone()).name+="_instance_"+a}else t=e;return void 0!==h.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,a=h.weights.length;t<a;t++)e.morphTargetInfluences[t]=h.weights[t]})),t}))),void 0!==h.camera&&t.push(o.getDependency("camera",h.camera)),h.extensions&&h.extensions[a.KHR_LIGHTS_PUNCTUAL]&&void 0!==h.extensions[a.KHR_LIGHTS_PUNCTUAL].light&&t.push(o.getDependency("light",h.extensions[a.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(t)).then((function(e){var t;if((t=!0===h.isBone?new n.Bone:e.length>1?new n.Group:1===e.length?e[0]:new n.Object3D)!==e[0])for(var a=0,s=e.length;a<s;a++)t.add(e[a]);if(h.name&&(t.userData.name=h.name,t.name=n.PropertyBinding.sanitizeNodeName(h.name)),O(t,h),h.extensions&&D(r,t,h),void 0!==h.matrix){var o=new n.Matrix4;o.fromArray(h.matrix),t.applyMatrix4(o)}else void 0!==h.translation&&t.position.fromArray(h.translation),void 0!==h.rotation&&t.quaternion.fromArray(h.rotation),void 0!==h.scale&&t.scale.fromArray(h.scale);return t}))},B.prototype.loadScene=function(){function e(t,a,s,r){var o=s.nodes[t];return r.getDependency("node",t).then((function(e){return void 0===o.skin?e:r.getDependency("skin",o.skin).then((function(e){for(var a=[],n=0,s=(t=e).joints.length;n<s;n++)a.push(r.getDependency("node",t.joints[n]));return Promise.all(a)})).then((function(a){return e.traverse((function(e){if(e.isMesh){for(var s=[],r=[],o=0,i=a.length;o<i;o++){var l=a[o];if(l){s.push(l);var h=new n.Matrix4;void 0!==t.inverseBindMatrices&&h.fromArray(t.inverseBindMatrices.array,16*o),r.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}e.bind(new n.Skeleton(s,r),e.matrixWorld)}})),e}));var t})).then((function(t){a.add(t);var n=[];if(o.children)for(var i=o.children,l=0,h=i.length;l<h;l++){var c=i[l];n.push(e(c,t,s,r))}return Promise.all(n)}))}return function(t){var a=this.json,s=this.extensions,r=this.json.scenes[t],o=new n.Group;r.name&&(o.name=r.name),O(o,r),r.extensions&&D(s,o,r);for(var i=r.nodes||[],l=[],h=0,c=i.length;h<c;h++)l.push(e(i[h],o,a,this));return Promise.all(l).then((function(){return o}))}}(),e}()},"./src/js/app/main.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var n=a("./node_modules/three/build/three.module.js"),s=a("./node_modules/@tweenjs/tween.js/dist/tween.esm.js"),r=a("./src/js/app/components/renderer.js"),o=a("./src/js/app/components/camera.js"),i=a("./src/js/app/components/light.js"),l=a("./src/js/app/components/controls.js"),h=a("./src/js/app/components/geometry.js"),c=a("./src/js/app/helpers/stats.js"),d=a("./src/js/app/helpers/meshHelper.js"),u=a("./src/js/app/model/texture.js"),m=a("./src/js/app/model/model.js"),p=a("./src/js/app/managers/interaction.js"),g=a("./src/js/app/managers/datGUI.js"),f=a("./src/js/data/config.js");class v{constructor(e){this.container=e,this.clock=new n.Clock,this.scene=new n.Scene,this.scene.fog=new n.FogExp2(f.default.fog.color,f.default.fog.near),window.devicePixelRatio&&(f.default.dpr=window.devicePixelRatio),this.renderer=new r.default(this.scene,e),this.camera=new o.default(this.renderer.threeRenderer),this.controls=new l.default(this.camera.threeCamera,e),this.light=new i.default(this.scene);["ambient","directional","point","hemi"].forEach((e=>this.light.place(e))),this.geometry=new h.default(this.scene),this.geometry.make("plane")(150,150,10,10),this.geometry.place([0,-20,0],[Math.PI/2,0,0]),f.default.isDev&&f.default.isShowingStats&&(this.stats=new c.default(this.renderer),this.stats.setUp()),f.default.isDev&&(this.gui=new g.default(this)),this.texture=new u.default,this.texture.load().then((()=>{this.manager=new n.LoadingManager,this.model=new m.default(this.scene,this.manager,this.texture.textures),this.model.load(f.default.models[f.default.model.selected].type),this.manager.onProgress=(e,t,a)=>{console.log(`${e}: ${t} ${a}`)},this.manager.onLoad=()=>{new p.default(this.renderer.threeRenderer,this.scene,this.camera.threeCamera,this.controls.threeControls),f.default.isDev&&(this.meshHelper=new d.default(this.scene,this.model.obj),f.default.mesh.enableHelper&&this.meshHelper.enable(),this.gui.load(this,this.model.obj)),f.default.isLoaded=!0,this.container.querySelector("#loading").style.display="none"}})),this.render()}render(){f.default.isDev&&f.default.isShowingStats&&c.default.start(),this.renderer.render(this.scene,this.camera.threeCamera),f.default.isDev&&f.default.isShowingStats&&c.default.end(),s.default.update(),this.controls.threeControls.update(),requestAnimationFrame(this.render.bind(this))}}},"./src/js/app/managers/datGUI.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a("./src/js/data/config.js");class s{constructor(e){this.gui=new dat.GUI,this.camera=e.camera.threeCamera,this.controls=e.controls.threeControls,this.light=e.light,this.scene=e.scene,this.model=null,this.meshHelper=null}load(e,t){this.model=e.model,this.meshHelper=e.meshHelper;const a=this.gui.addFolder("Camera"),s=a.add(n.default.camera,"fov",0,180).name("Camera FOV");s.onChange((e=>{this.controls.enableRotate=!1,this.camera.fov=e})),s.onFinishChange((()=>{this.camera.updateProjectionMatrix(),this.controls.enableRotate=!0}));const r=a.add(n.default.camera,"aspect",0,4).name("Camera Aspect");r.onChange((e=>{this.controls.enableRotate=!1,this.camera.aspect=e})),r.onFinishChange((()=>{this.camera.updateProjectionMatrix(),this.controls.enableRotate=!0}));a.addColor(n.default.fog,"color").name("Fog Color").onChange((e=>{this.scene.fog.color.setHex(e)}));const o=a.add(n.default.fog,"near",0,.01).name("Fog Near");o.onChange((e=>{this.controls.enableRotate=!1,this.scene.fog.density=e})),o.onFinishChange((()=>{this.controls.enableRotate=!0}));const i=this.gui.addFolder("Controls");i.add(n.default.controls,"autoRotate").name("Auto Rotate").onChange((e=>{this.controls.autoRotate=e}));const l=i.add(n.default.controls,"autoRotateSpeed",-1,1).name("Rotation Speed");l.onChange((e=>{this.controls.enableRotate=!1,this.controls.autoRotateSpeed=e})),l.onFinishChange((()=>{this.controls.enableRotate=!0}));this.gui.addFolder("Model").add(n.default.model,"type",[...n.default.model.initialTypes]).name("Select Model").onChange((e=>{e&&(n.default.mesh.enableHelper&&this.meshHelper.disable(),n.default.model.selected=n.default.model.initialTypes.indexOf(e),this.unload(),this.model.unload(),this.model.load(e))}));const h=this.gui.addFolder("Mesh");h.add(n.default.mesh,"enableHelper",!0).name("Enable Helpers").onChange((e=>{e?this.meshHelper.enable():this.meshHelper.disable()})),h.add(n.default.mesh,"translucent",!0).name("Translucent").onChange((e=>{e?(t.material.transparent=!0,t.material.opacity=.5):t.material.opacity=1})),h.add(n.default.mesh,"wireframe",!0).name("Wireframe").onChange((e=>{t.material.wireframe=e}));const c=this.gui.addFolder("Ambient Light");c.add(n.default.ambientLight,"enabled").name("Enabled").onChange((e=>{this.light.ambientLight.visible=e})),c.addColor(n.default.ambientLight,"color").name("Color").onChange((e=>{this.light.ambientLight.color.setHex(e)}));const d=this.gui.addFolder("Directional Light");d.add(n.default.directionalLight,"enabled").name("Enabled").onChange((e=>{this.light.directionalLight.visible=e})),d.addColor(n.default.directionalLight,"color").name("Color").onChange((e=>{this.light.directionalLight.color.setHex(e)}));const u=d.add(n.default.directionalLight,"intensity",0,2).name("Intensity");u.onChange((e=>{this.controls.enableRotate=!1,this.light.directionalLight.intensity=e})),u.onFinishChange((()=>{this.controls.enableRotate=!0}));const m=d.add(n.default.directionalLight,"x",-1e3,1e3).name("Position X");m.onChange((e=>{this.controls.enableRotate=!1,this.light.directionalLight.position.x=e})),m.onFinishChange((()=>{this.controls.enableRotate=!0}));const p=d.add(n.default.directionalLight,"y",-1e3,1e3).name("Position Y");p.onChange((e=>{this.controls.enableRotate=!1,this.light.directionalLight.position.y=e})),p.onFinishChange((()=>{this.controls.enableRotate=!0}));const g=d.add(n.default.directionalLight,"z",-1e3,1e3).name("Position Z");g.onChange((e=>{this.controls.enableRotate=!1,this.light.directionalLight.position.z=e})),g.onFinishChange((()=>{this.controls.enableRotate=!0}));const f=this.gui.addFolder("Shadow Map");f.add(n.default.shadow,"enabled").name("Enabled").onChange((e=>{this.light.directionalLight.castShadow=e})),f.add(n.default.shadow,"helperEnabled").name("Helper Enabled").onChange((e=>{this.light.directionalLightHelper.visible=e}));const v=f.add(n.default.shadow,"near",0,400).name("Near");v.onChange((e=>{this.controls.enableRotate=!1,this.light.directionalLight.shadow.camera.near=e})),v.onFinishChange((()=>{this.controls.enableRotate=!0,this.light.directionalLight.shadow.map.dispose(),this.light.directionalLight.shadow.map=null,this.light.directionalLightHelper.update()}));const b=f.add(n.default.shadow,"far",0,1200).name("Far");b.onChange((e=>{this.controls.enableRotate=!1,this.light.directionalLight.shadow.camera.far=e})),b.onFinishChange((()=>{this.controls.enableRotate=!0,this.light.directionalLight.shadow.map.dispose(),this.light.directionalLight.shadow.map=null,this.light.directionalLightHelper.update()}));const y=f.add(n.default.shadow,"top",-400,400).name("Top");y.onChange((e=>{this.controls.enableRotate=!1,this.light.directionalLight.shadow.camera.top=e})),y.onFinishChange((()=>{this.controls.enableRotate=!0,this.light.directionalLight.shadow.map.dispose(),this.light.directionalLight.shadow.map=null,this.light.directionalLightHelper.update()}));const w=f.add(n.default.shadow,"right",-400,400).name("Right");w.onChange((e=>{this.controls.enableRotate=!1,this.light.directionalLight.shadow.camera.right=e})),w.onFinishChange((()=>{this.controls.enableRotate=!0,this.light.directionalLight.shadow.map.dispose(),this.light.directionalLight.shadow.map=null,this.light.directionalLightHelper.update()}));const L=f.add(n.default.shadow,"bottom",-400,400).name("Bottom");L.onChange((e=>{this.controls.enableRotate=!1,this.light.directionalLight.shadow.camera.bottom=e})),L.onFinishChange((()=>{this.controls.enableRotate=!0,this.light.directionalLight.shadow.map.dispose(),this.light.directionalLight.shadow.map=null,this.light.directionalLightHelper.update()}));const M=f.add(n.default.shadow,"left",-400,400).name("Left");M.onChange((e=>{this.controls.enableRotate=!1,this.light.directionalLight.shadow.camera.left=e})),M.onFinishChange((()=>{this.controls.enableRotate=!0,this.light.directionalLight.shadow.map.dispose(),this.light.directionalLight.shadow.map=null,this.light.directionalLightHelper.update()}));const x=f.add(n.default.shadow,"bias",-1e-5,1).name("Bias");x.onChange((e=>{this.controls.enableRotate=!1,this.light.directionalLight.shadow.bias=e})),x.onFinishChange((()=>{this.controls.enableRotate=!0,this.light.directionalLight.shadow.map.dispose(),this.light.directionalLight.shadow.map=null,this.light.directionalLightHelper.update()}));const E=this.gui.addFolder("Point Light");E.add(n.default.pointLight,"enabled").name("Enabled").onChange((e=>{this.light.pointLight.visible=e})),E.addColor(n.default.pointLight,"color").name("Color").onChange((e=>{this.light.pointLight.color.setHex(e)}));const T=E.add(n.default.pointLight,"intensity",0,2).name("Intensity");T.onChange((e=>{this.controls.enableRotate=!1,this.light.pointLight.intensity=e})),T.onFinishChange((()=>{this.controls.enableRotate=!0}));const R=E.add(n.default.pointLight,"distance",0,1e3).name("Distance");R.onChange((e=>{this.controls.enableRotate=!1,this.light.pointLight.distance=e})),R.onFinishChange((()=>{this.controls.enableRotate=!0}));const S=E.add(n.default.pointLight,"x",-1e3,1e3).name("Position X");S.onChange((e=>{this.controls.enableRotate=!1,this.light.pointLight.position.x=e})),S.onFinishChange((()=>{this.controls.enableRotate=!0}));const A=E.add(n.default.pointLight,"y",-1e3,1e3).name("Position Y");A.onChange((e=>{this.controls.enableRotate=!1,this.light.pointLight.position.y=e})),A.onFinishChange((()=>{this.controls.enableRotate=!0}));const C=E.add(n.default.pointLight,"z",-1e3,1e3).name("Position Z");C.onChange((e=>{this.controls.enableRotate=!1,this.light.pointLight.position.z=e})),C.onFinishChange((()=>{this.controls.enableRotate=!0}));const j=this.gui.addFolder("Hemi Light");j.add(n.default.hemiLight,"enabled").name("Enabled").onChange((e=>{this.light.hemiLight.visible=e})),j.addColor(n.default.hemiLight,"color").name("Color").onChange((e=>{this.light.hemiLight.color.setHex(e)})),j.addColor(n.default.hemiLight,"groundColor").name("ground Color").onChange((e=>{this.light.hemiLight.groundColor.setHex(e)}));const P=j.add(n.default.hemiLight,"intensity",0,2).name("Intensity");P.onChange((e=>{this.controls.enableRotate=!1,this.light.hemiLight.intensity=e})),P.onFinishChange((()=>{this.controls.enableRotate=!0}));const _=j.add(n.default.hemiLight,"x",-1e3,1e3).name("Position X");_.onChange((e=>{this.controls.enableRotate=!1,this.light.hemiLight.position.x=e})),_.onFinishChange((()=>{this.controls.enableRotate=!0}));const F=j.add(n.default.hemiLight,"y",-500,1e3).name("Position Y");F.onChange((e=>{this.controls.enableRotate=!1,this.light.hemiLight.position.y=e})),F.onFinishChange((()=>{this.controls.enableRotate=!0}));const H=j.add(n.default.hemiLight,"z",-1e3,1e3).name("Position Z");H.onChange((e=>{this.controls.enableRotate=!1,this.light.hemiLight.position.z=e})),H.onFinishChange((()=>{this.controls.enableRotate=!0}))}unload(){this.gui.destroy(),this.gui=new dat.GUI}}},"./src/js/app/managers/interaction.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var n=a("./src/js/utils/keyboard.js"),s=a("./src/js/utils/helpers.js"),r=a("./src/js/data/config.js");class o{constructor(e,t,a,r){this.renderer=e,this.scene=t,this.camera=a,this.controls=r,this.timeout=null,this.keyboard=new n.default,this.renderer.domElement.addEventListener("mousemove",(e=>s.default.throttle(this.onMouseMove(e),250)),!1),this.renderer.domElement.addEventListener("mouseleave",(e=>this.onMouseLeave(e)),!1),this.renderer.domElement.addEventListener("mouseover",(e=>this.onMouseOver(e)),!1),this.keyboard.domElement.addEventListener("keydown",(e=>{e.repeat||this.keyboard.eventMatches(e,"escape")&&console.log("Escape pressed")}))}onMouseOver(e){e.preventDefault(),r.default.isMouseOver=!0}onMouseLeave(e){e.preventDefault(),r.default.isMouseOver=!1}onMouseMove(e){e.preventDefault(),clearTimeout(this.timeout),this.timeout=setTimeout((function(){r.default.isMouseMoving=!1}),200),r.default.isMouseMoving=!0}}},"./src/js/app/model/model.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a("./node_modules/three/build/three.module.js"),s=a("./src/js/app/components/material.js"),r=a("./src/js/utils/helpers.js"),o=a("./src/js/utils/bufferGeometryUtils.js"),i=a("./src/js/app/loaders/GLTFLoader.js"),l=a("./src/js/data/config.js");class h{constructor(e,t,a){this.scene=e,this.textures=a,this.manager=t,this.obj=null,this.ref=null}load(e){switch(e){case"gltf":new i.GLTFLoader(this.manager).load(l.default.models[l.default.model.selected].path,(e=>{const t=e.scene;let a;l.default.shadow.enabled&&t.traverse((function(e){(e.isMesh||e.isLight)&&(e.castShadow=!0),e.isMesh&&(e.material.wireframe=l.default.mesh.wireframe,a=e)})),this.obj=a,o.BufferGeometryUtils.computeTangents(a.geometry);var s=new n.Group;s.scale.multiplyScalar(.25),this.scene.add(s),this.ref=s,s.updateMatrixWorld(!0),s.add(a),this.scene.add(t)}),r.default.logProgress(),r.default.logError());break;case"object":new n.ObjectLoader(this.manager).load(l.default.models[l.default.model.selected].path,(e=>{e.traverse((e=>{if(e instanceof n.Mesh){const t=new s.default(16777215).standard;t.map=this.textures.UV,e.material=t,l.default.shadow.enabled&&(e.receiveShadow=!0,e.castShadow=!0)}})),this.obj=e,this.ref=e,e.scale.multiplyScalar(l.default.models[l.default.model.selected].scale),this.scene.add(e)}),r.default.logProgress(),r.default.logError())}}unload(){this.scene.remove(this.ref)}}},"./src/js/app/model/texture.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var n=a("./node_modules/three/build/three.module.js"),s=a("./node_modules/es6-promise/dist/es6-promise.js"),r=a("./src/js/utils/helpers.js"),o=a("./src/js/data/config.js");class i{constructor(){this.textures={}}load(){const e=new n.TextureLoader,t=o.default.maxAnisotropy,a=o.default.texture.imageFiles,i=[];return e.setPath(o.default.texture.path),a.forEach((a=>{i.push(new s.Promise(((s,o)=>{e.load(a.image,(e=>{e.anisotropy=t;const r={};r[a.name]=e,r[a.name]instanceof n.Texture&&s(r)}),r.default.logProgress(),(e=>o(new Error(e+"An error occurred loading while loading "+a.image))))})))})),s.Promise.all(i).then((e=>{for(let t=0;t<e.length;t++)this.textures[Object.keys(e[t])[0]]=e[t][Object.keys(e[t])[0]]}),(e=>console.log(e)))}}},"./src/js/data/config.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={isDev:!1,isShowingStats:!0,isLoaded:!1,isTweening:!1,isRotating:!0,isMouseMoving:!1,isMouseOver:!1,maxAnisotropy:1,dpr:1,easing:a("./node_modules/@tweenjs/tween.js/dist/tween.esm.js").default.Easing.Quadratic.InOut,duration:500,model:{selected:0,initialTypes:["gltf","object"],type:"gltf"},models:[{path:"./assets/models/duck.gltf",scale:20,type:"gltf"},{path:"./assets/models/Teapot.json",scale:20,type:"object"}],texture:{path:"./assets/textures/",imageFiles:[{name:"UV",image:"UV_Grid_Sm.jpg"}]},mesh:{enableHelper:!0,wireframe:!1,translucent:!1,material:{color:16777215,emissive:16777215}},fog:{color:16777215,near:8e-4},camera:{fov:40,near:2,far:1e3,aspect:1,posX:0,posY:30,posZ:40},controls:{autoRotate:!1,autoRotateSpeed:-.5,rotateSpeed:.5,zoomSpeed:.8,minDistance:200,maxDistance:600,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2,minAzimuthAngle:-1/0,maxAzimuthAngle:1/0,enableDamping:!0,dampingFactor:.5,enableZoom:!0,target:{x:0,y:0,z:0}},ambientLight:{enabled:!0,color:1315860},directionalLight:{enabled:!0,color:15790320,intensity:.4,x:-75,y:280,z:150},shadow:{enabled:!0,helperEnabled:!0,bias:0,mapWidth:2048,mapHeight:2048,near:250,far:400,top:100,right:100,bottom:-100,left:-100},pointLight:{enabled:!0,color:16777215,intensity:.34,distance:115,x:0,y:0,z:0},hemiLight:{enabled:!0,color:13158600,groundColor:16777215,intensity:.55,x:0,y:0,z:0}}},"./src/js/utils/bufferGeometryUtils.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{BufferGeometryUtils:()=>s});var n=a("./node_modules/three/build/three.module.js"),s={computeTangents:function(e){var t=e.index,a=e.attributes;if(null!==t&&void 0!==a.position&&void 0!==a.normal&&void 0!==a.uv){var s=t.array,r=a.position.array,o=a.normal.array,i=a.uv.array,l=r.length/3;void 0===a.tangent&&e.setAttribute("tangent",new n.BufferAttribute(new Float32Array(4*l),4));for(var h=a.tangent.array,c=[],d=[],u=0;u<l;u++)c[u]=new n.Vector3,d[u]=new n.Vector3;var m=new n.Vector3,p=new n.Vector3,g=new n.Vector3,f=new n.Vector2,v=new n.Vector2,b=new n.Vector2,y=new n.Vector3,w=new n.Vector3,L=e.groups;0===L.length&&(L=[{start:0,count:s.length}]);u=0;for(var M=L.length;u<M;++u)for(var x=F=(_=L[u]).start,E=F+_.count;x<E;x+=3)H(s[x+0],s[x+1],s[x+2]);var T,R,S,A=new n.Vector3,C=new n.Vector3,j=new n.Vector3,P=new n.Vector3;for(u=0,M=L.length;u<M;++u){var _,F;for(x=F=(_=L[u]).start,E=F+_.count;x<E;x+=3)U(s[x+0]),U(s[x+1]),U(s[x+2])}}else console.error("THREE.BufferGeometryUtils: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function H(e,t,a){m.fromArray(r,3*e),p.fromArray(r,3*t),g.fromArray(r,3*a),f.fromArray(i,2*e),v.fromArray(i,2*t),b.fromArray(i,2*a),p.sub(m),g.sub(m),v.sub(f),b.sub(f);var n=1/(v.x*b.y-b.x*v.y);isFinite(n)&&(y.copy(p).multiplyScalar(b.y).addScaledVector(g,-v.y).multiplyScalar(n),w.copy(g).multiplyScalar(v.x).addScaledVector(p,-b.x).multiplyScalar(n),c[e].add(y),c[t].add(y),c[a].add(y),d[e].add(w),d[t].add(w),d[a].add(w))}function U(e){j.fromArray(o,3*e),P.copy(j),R=c[e],A.copy(R),A.sub(j.multiplyScalar(j.dot(R))).normalize(),C.crossVectors(P,R),S=C.dot(d[e]),T=S<0?-1:1,h[4*e]=A.x,h[4*e+1]=A.y,h[4*e+2]=A.z,h[4*e+3]=T}},mergeBufferGeometries:function(e,t){for(var a=null!==e[0].index,s=new Set(Object.keys(e[0].attributes)),r=new Set(Object.keys(e[0].morphAttributes)),o={},i={},l=e[0].morphTargetsRelative,h=new n.BufferGeometry,c=0,d=0;d<e.length;++d){var u=e[d],m=0;if(a!==(null!==u.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(var p in u.attributes){if(!s.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+'. All geometries must have compatible attributes; make sure "'+p+'" attribute exists among all geometries, or in none of them.'),null;void 0===o[p]&&(o[p]=[]),o[p].push(u.attributes[p]),m++}if(m!==s.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". Make sure all geometries have the same number of attributes."),null;if(l!==u.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(var p in u.morphAttributes){if(!r.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===i[p]&&(i[p]=[]),i[p].push(u.morphAttributes[p])}if(h.userData.mergedUserData=h.userData.mergedUserData||[],h.userData.mergedUserData.push(u.userData),t){var g;if(a)g=u.index.count;else{if(void 0===u.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". The geometry must have either an index or a position attribute"),null;g=u.attributes.position.count}h.addGroup(c,g,d),c+=g}}if(a){var f=0,v=[];for(d=0;d<e.length;++d){for(var b=e[d].index,y=0;y<b.count;++y)v.push(b.getX(y)+f);f+=e[d].attributes.position.count}h.setIndex(v)}for(var p in o){var w=this.mergeBufferAttributes(o[p]);if(!w)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+p+" attribute."),null;h.setAttribute(p,w)}for(var p in i){var L=i[p][0].length;if(0===L)break;h.morphAttributes=h.morphAttributes||{},h.morphAttributes[p]=[];for(d=0;d<L;++d){var M=[];for(y=0;y<i[p].length;++y)M.push(i[p][y][d]);var x=this.mergeBufferAttributes(M);if(!x)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+p+" morphAttribute."),null;h.morphAttributes[p].push(x)}}return h},mergeBufferAttributes:function(e){for(var t,a,s,r=0,o=0;o<e.length;++o){var i=e[o];if(i.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=i.array.constructor),t!==i.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===a&&(a=i.itemSize),a!==i.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===s&&(s=i.normalized),s!==i.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;r+=i.array.length}var l=new t(r),h=0;for(o=0;o<e.length;++o)l.set(e[o].array,h),h+=e[o].array.length;return new n.BufferAttribute(l,a,s)},interleaveAttributes:function(e){for(var t,a=0,s=0,r=0,o=e.length;r<o;++r){var i=e[r];if(void 0===t&&(t=i.array.constructor),t!==i.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;a+=i.array.length,s+=i.itemSize}var l=new n.InterleavedBuffer(new t(a),s),h=0,c=[],d=["getX","getY","getZ","getW"],u=["setX","setY","setZ","setW"],m=0;for(o=e.length;m<o;m++){var p=(i=e[m]).itemSize,g=i.count,f=new n.InterleavedBufferAttribute(l,p,h,i.normalized);c.push(f),h+=p;for(var v=0;v<g;v++)for(var b=0;b<p;b++)f[u[b]](v,i[d[b]](v))}return c},estimateBytesUsed:function(e){var t=0;for(var a in e.attributes){var n=e.getAttribute(a);t+=n.count*n.itemSize*n.array.BYTES_PER_ELEMENT}var s=e.getIndex();return t+=s?s.count*s.itemSize*s.array.BYTES_PER_ELEMENT:0},mergeVertices:function(e,t=1e-4){t=Math.max(t,Number.EPSILON);for(var a={},s=e.getIndex(),r=e.getAttribute("position"),o=s?s.count:r.count,i=0,l=Object.keys(e.attributes),h={},c={},d=[],u=["getX","getY","getZ","getW"],m=0,p=l.length;m<p;m++){h[w=l[m]]=[],(E=e.morphAttributes[w])&&(c[w]=new Array(E.length).fill().map((()=>[])))}var g=Math.log10(1/t),f=Math.pow(10,g);for(m=0;m<o;m++){var v=s?s.getX(m):m,b="",y=0;for(p=l.length;y<p;y++)for(var w=l[y],L=(x=e.getAttribute(w)).itemSize,M=0;M<L;M++)b+=~~(x[u[M]](v)*f)+",";if(b in a)d.push(a[b]);else{for(y=0,p=l.length;y<p;y++){w=l[y];var x=e.getAttribute(w),E=e.morphAttributes[w],T=(L=x.itemSize,h[w]),R=c[w];for(M=0;M<L;M++){var S=u[M];if(T.push(x[S](v)),E)for(var A=0,C=E.length;A<C;A++)R[A].push(E[A][S](v))}}a[b]=i,d.push(i),i++}}const j=e.clone();for(m=0,p=l.length;m<p;m++){w=l[m];var P=e.getAttribute(w),_=new P.array.constructor(h[w]);x=new n.BufferAttribute(_,P.itemSize,P.normalized);if(j.setAttribute(w,x),w in c)for(y=0;y<c[w].length;y++){var F=e.morphAttributes[w][y],H=(_=new F.array.constructor(c[w][y]),new n.BufferAttribute(_,F.itemSize,F.normalized));j.morphAttributes[w][y]=H}}return j.setIndex(d),j},toTrianglesDrawMode:function(e,t){if(t===n.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===n.TriangleFanDrawMode||t===n.TriangleStripDrawMode){var a=e.getIndex();if(null===a){var s=[],r=e.getAttribute("position");if(void 0===r)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var o=0;o<r.count;o++)s.push(o);e.setIndex(s),a=e.getIndex()}var i=a.count-2,l=[];if(t===n.TriangleFanDrawMode)for(o=1;o<=i;o++)l.push(a.getX(0)),l.push(a.getX(o)),l.push(a.getX(o+1));else for(o=0;o<i;o++)o%2==0?(l.push(a.getX(o)),l.push(a.getX(o+1)),l.push(a.getX(o+2))):(l.push(a.getX(o+2)),l.push(a.getX(o+1)),l.push(a.getX(o)));l.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var h=e.clone();return h.setIndex(l),h.clearGroups(),h}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}}},"./src/js/utils/detector.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,a,n;t=void 0!==(e=e||{}).parent?e.parent:document.body,a=void 0!==e.id?e.id:"oldie",(n=this.getWebGLErrorMessage()).id=a,t.appendChild(n)}}},"./src/js/utils/helpers.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});class n{static throttle(e,t,a){let n,s;return t||(t=250),function(){const r=a||this,o=+new Date,i=arguments;n&&o<n+t?(clearTimeout(s),s=setTimeout((function(){n=o,e.apply(r,i)}),t)):(n=o,e.apply(r,i))}}static logProgress(){return function(e){if(e.lengthComputable){const t=e.loaded/e.total*100;console.log(Math.round(t,2)+"% downloaded")}}}static logError(){return function(e){console.error(e)}}static handleColorChange(e){return t=>{"string"==typeof t&&(t=t.replace("#","0x")),e.setHex(t)}}static update(e){this.needsUpdate(e.material,e.geometry)}static needsUpdate(e,t){return function(){e.shading=+e.shading,e.vertexColors=+e.vertexColors,e.side=+e.side,e.needsUpdate=!0,t.verticesNeedUpdate=!0,t.normalsNeedUpdate=!0,t.colorsNeedUpdate=!0}}static updateTexture(e,t,a){return function(n){e[t]=a[n],e.needsUpdate=!0}}}},"./src/js/utils/keyboard.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});const n={left:37,up:38,right:39,down:40,space:32,tab:9,escape:27};class s{constructor(e){this.domElement=e||document,this.keyCodes={},this.domElement.addEventListener("keydown",(e=>this.onKeyChange(e)),!1),this.domElement.addEventListener("keyup",(e=>this.onKeyChange(e)),!1),window.addEventListener("blur",(()=>this.onBlur),!1)}destroy(){this.domElement.removeEventListener("keydown",(e=>this.onKeyChange(e)),!1),this.domElement.removeEventListener("keyup",(e=>this.onKeyChange(e)),!1),window.removeEventListener("blur",(()=>this.onBlur),!1)}onBlur(){for(const e in this.keyCodes)this.keyCodes[e]=!1}onKeyChange(e){const t=e.keyCode;this.keyCodes[t]="keydown"===e.type}pressed(e){const t=e.split("+");for(let e=0;e<t.length;e++){const a=t[e];let s=!1;if(s=-1!=Object.keys(n).indexOf(a)?this.keyCodes[n[a]]:this.keyCodes[a.toUpperCase().charCodeAt(0)],!s)return!1}return!0}eventMatches(e,t){const a=n,s=Object.keys(a),r=t.split("+");for(let t=0;t<r.length;t++){const n=r[t];let o=!1;if("shift"===n?o=!!e.shiftKey:"ctrl"===n?o=!!e.ctrlKey:"alt"===n?o=!!e.altKey:"meta"===n?o=!!e.metaKey:-1!==s.indexOf(n)?o=e.keyCode===a[n]:e.keyCode===n.toUpperCase().charCodeAt(0)&&(o=!0),!o)return!1}return!0}}},"./src/js/utils/orbitControls.js":e=>{e.exports=function(e){var t=e.MOUSE;function a(t){this.object=t,this.target=new e.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25;var a,n,s,r,o,i,l,h,c=this,d=1e-6,u=0,m=0,p=1,g=new e.Vector3,f=!1;this.getPolarAngle=function(){return n},this.getAzimuthalAngle=function(){return a},this.rotateLeft=function(e){m-=e},this.rotateUp=function(e){u-=e},this.panLeft=(s=new e.Vector3,function(e){var t=this.object.matrix.elements;s.set(t[0],t[1],t[2]),s.multiplyScalar(-e),g.add(s)}),this.panUp=function(){var t=new e.Vector3;return function(e){var a=this.object.matrix.elements;t.set(a[4],a[5],a[6]),t.multiplyScalar(e),g.add(t)}}(),this.pan=function(t,a,n,s){if(c.object instanceof e.PerspectiveCamera){var r=c.object.position.clone().sub(c.target).length();r*=Math.tan(c.object.fov/2*Math.PI/180),c.panLeft(2*t*r/s),c.panUp(2*a*r/s)}else c.object instanceof e.OrthographicCamera?(c.panLeft(t*(c.object.right-c.object.left)/n),c.panUp(a*(c.object.top-c.object.bottom)/s)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(t){c.object instanceof e.PerspectiveCamera?p/=t:c.object instanceof e.OrthographicCamera?(c.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*t)),c.object.updateProjectionMatrix(),f=!0):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.dollyOut=function(t){c.object instanceof e.PerspectiveCamera?p*=t:c.object instanceof e.OrthographicCamera?(c.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/t)),c.object.updateProjectionMatrix(),f=!0):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.update=(r=new e.Vector3,o=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),i=o.clone().inverse(),l=new e.Vector3,h=new e.Quaternion,function(){var e=this.object.position;r.copy(e).sub(this.target),r.applyQuaternion(o),a=Math.atan2(r.x,r.z),n=Math.atan2(Math.sqrt(r.x*r.x+r.z*r.z),r.y),a+=m,n+=u,a=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,a)),n=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,n)),n=Math.max(d,Math.min(Math.PI-d,n));var t=r.length()*p;return t=Math.max(this.minDistance,Math.min(this.maxDistance,t)),this.target.add(g),r.x=t*Math.sin(n)*Math.sin(a),r.y=t*Math.cos(n),r.z=t*Math.sin(n)*Math.cos(a),r.applyQuaternion(i),e.copy(this.target).add(r),this.object.lookAt(this.target),!0===this.enableDamping?(m*=1-this.dampingFactor,u*=1-this.dampingFactor):(m=0,u=0),p=1,g.set(0,0,0),!!(f||l.distanceToSquared(this.object.position)>d||8*(1-h.dot(this.object.quaternion))>d)&&(l.copy(this.object.position),h.copy(this.object.quaternion),f=!1,!0)})}function n(t,n){var s=new a(t);this.domElement=void 0!==n?n:document,Object.defineProperty(this,"constraint",{get:function(){return s}}),this.getPolarAngle=function(){return s.getPolarAngle()},this.getAzimuthalAngle=function(){return s.getAzimuthalAngle()},this.enabled=!0,this.center=this.target,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT};var r=this,o=new e.Vector2,i=new e.Vector2,l=new e.Vector2,h=new e.Vector2,c=new e.Vector2,d=new e.Vector2,u=new e.Vector2,m=new e.Vector2,p=new e.Vector2,g=-1,f=0,v=1,b=2,y=3,w=4,L=5,M=g;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom;var x={type:"change"},E={type:"start"},T={type:"end"};function R(e,t){var a=r.domElement===document?r.domElement.body:r.domElement;s.pan(e,t,a.clientWidth,a.clientHeight)}function S(){return Math.pow(.95,r.zoomSpeed)}function A(e){if(!1!==r.enabled){if(e.preventDefault(),e.button===r.mouseButtons.ORBIT){if(!1===r.enableRotate)return;M=f,o.set(e.clientX,e.clientY)}else if(e.button===r.mouseButtons.ZOOM){if(!1===r.enableZoom)return;M=v,u.set(e.clientX,e.clientY)}else if(e.button===r.mouseButtons.PAN){if(!1===r.enablePan)return;M=b,h.set(e.clientX,e.clientY)}M!==g&&(document.addEventListener("mousemove",C,!1),document.addEventListener("mouseup",j,!1),r.dispatchEvent(E))}}function C(e){if(!1!==r.enabled){e.preventDefault();var t=r.domElement===document?r.domElement.body:r.domElement;if(M===f){if(!1===r.enableRotate)return;i.set(e.clientX,e.clientY),l.subVectors(i,o),s.rotateLeft(2*Math.PI*l.x/t.clientWidth*r.rotateSpeed),s.rotateUp(2*Math.PI*l.y/t.clientHeight*r.rotateSpeed),o.copy(i)}else if(M===v){if(!1===r.enableZoom)return;m.set(e.clientX,e.clientY),p.subVectors(m,u),p.y>0?s.dollyIn(S()):p.y<0&&s.dollyOut(S()),u.copy(m)}else if(M===b){if(!1===r.enablePan)return;c.set(e.clientX,e.clientY),d.subVectors(c,h),R(d.x,d.y),h.copy(c)}M!==g&&r.update()}}function j(){!1!==r.enabled&&(document.removeEventListener("mousemove",C,!1),document.removeEventListener("mouseup",j,!1),r.dispatchEvent(T),M=g)}function P(e){if(!1!==r.enabled&&!1!==r.enableZoom&&M===g){e.preventDefault(),e.stopPropagation();var t=0;void 0!==e.wheelDelta?t=e.wheelDelta:void 0!==e.detail&&(t=-e.detail),t>0?s.dollyOut(S()):t<0&&s.dollyIn(S()),r.update(),r.dispatchEvent(E),r.dispatchEvent(T)}}function _(e){if(!1!==r.enabled&&!1!==r.enableKeys&&!1!==r.enablePan)switch(e.keyCode){case r.keys.UP:R(0,r.keyPanSpeed),r.update();break;case r.keys.BOTTOM:R(0,-r.keyPanSpeed),r.update();break;case r.keys.LEFT:R(r.keyPanSpeed,0),r.update();break;case r.keys.RIGHT:R(-r.keyPanSpeed,0),r.update()}}function F(e){if(!1!==r.enabled){switch(e.touches.length){case 1:if(!1===r.enableRotate)return;M=y,o.set(e.touches[0].pageX,e.touches[0].pageY);break;case 2:if(!1===r.enableZoom)return;M=w;var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+a*a);u.set(0,n);break;case 3:if(!1===r.enablePan)return;M=L,h.set(e.touches[0].pageX,e.touches[0].pageY);break;default:M=g}M!==g&&r.dispatchEvent(E)}}function H(e){if(!1!==r.enabled){e.preventDefault(),e.stopPropagation();var t=r.domElement===document?r.domElement.body:r.domElement;switch(e.touches.length){case 1:if(!1===r.enableRotate)return;if(M!==y)return;i.set(e.touches[0].pageX,e.touches[0].pageY),l.subVectors(i,o),s.rotateLeft(2*Math.PI*l.x/t.clientWidth*r.rotateSpeed),s.rotateUp(2*Math.PI*l.y/t.clientHeight*r.rotateSpeed),o.copy(i),r.update();break;case 2:if(!1===r.enableZoom)return;if(M!==w)return;var a=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,f=Math.sqrt(a*a+n*n);m.set(0,f),p.subVectors(m,u),p.y>0?s.dollyOut(S()):p.y<0&&s.dollyIn(S()),u.copy(m),r.update();break;case 3:if(!1===r.enablePan)return;if(M!==L)return;c.set(e.touches[0].pageX,e.touches[0].pageY),d.subVectors(c,h),R(d.x,d.y),h.copy(c),r.update();break;default:M=g}}}function U(){!1!==r.enabled&&(r.dispatchEvent(T),M=g)}function I(e){e.preventDefault()}this.update=function(){this.autoRotate&&M===g&&s.rotateLeft(2*Math.PI/60/60*r.autoRotateSpeed),!0===s.update()&&this.dispatchEvent(x)},this.reset=function(){M=g,this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(x),this.update()},this.dispose=function(){this.domElement.removeEventListener("contextmenu",I,!1),this.domElement.removeEventListener("mousedown",A,!1),this.domElement.removeEventListener("mousewheel",P,!1),this.domElement.removeEventListener("MozMousePixelScroll",P,!1),this.domElement.removeEventListener("touchstart",F,!1),this.domElement.removeEventListener("touchend",U,!1),this.domElement.removeEventListener("touchmove",H,!1),document.removeEventListener("mousemove",C,!1),document.removeEventListener("mouseup",j,!1),window.removeEventListener("keydown",_,!1)},this.domElement.addEventListener("contextmenu",I,!1),this.domElement.addEventListener("mousedown",A,!1),this.domElement.addEventListener("mousewheel",P,!1),this.domElement.addEventListener("MozMousePixelScroll",P,!1),this.domElement.addEventListener("touchstart",F,!1),this.domElement.addEventListener("touchend",U,!1),this.domElement.addEventListener("touchmove",H,!1),window.addEventListener("keydown",_,!1),this.update()}return t||(t={LEFT:0,MIDDLE:1,RIGHT:2}),n.prototype=Object.create(e.EventDispatcher.prototype),n.prototype.constructor=n,Object.defineProperties(n.prototype,{object:{get:function(){return this.constraint.object}},target:{get:function(){return this.constraint.target},set:function(e){console.warn("THREE.OrbitControls: target is now immutable. Use target.set() instead."),this.constraint.target.copy(e)}},minDistance:{get:function(){return this.constraint.minDistance},set:function(e){this.constraint.minDistance=e}},maxDistance:{get:function(){return this.constraint.maxDistance},set:function(e){this.constraint.maxDistance=e}},minZoom:{get:function(){return this.constraint.minZoom},set:function(e){this.constraint.minZoom=e}},maxZoom:{get:function(){return this.constraint.maxZoom},set:function(e){this.constraint.maxZoom=e}},minPolarAngle:{get:function(){return this.constraint.minPolarAngle},set:function(e){this.constraint.minPolarAngle=e}},maxPolarAngle:{get:function(){return this.constraint.maxPolarAngle},set:function(e){this.constraint.maxPolarAngle=e}},minAzimuthAngle:{get:function(){return this.constraint.minAzimuthAngle},set:function(e){this.constraint.minAzimuthAngle=e}},maxAzimuthAngle:{get:function(){return this.constraint.maxAzimuthAngle},set:function(e){this.constraint.maxAzimuthAngle=e}},enableDamping:{get:function(){return this.constraint.enableDamping},set:function(e){this.constraint.enableDamping=e}},dampingFactor:{get:function(){return this.constraint.dampingFactor},set:function(e){this.constraint.dampingFactor=e}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.constraint.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.constraint.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.constraint.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.constraint.dampingFactor=e}}}),n}},"./src/css/app.scss":(e,t,a)=>{"use strict";a.r(t)}},e=>{"use strict";e.O(0,["vendors"],(()=>{return t="./src/js/app.js",e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Qb3J0Zm9saW8yMDIxLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly9Qb3J0Zm9saW8yMDIxLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL2NhbWVyYS5qcyIsIndlYnBhY2s6Ly9Qb3J0Zm9saW8yMDIxLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL2NvbnRyb2xzLmpzIiwid2VicGFjazovL1BvcnRmb2xpbzIwMjEvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvZ2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vUG9ydGZvbGlvMjAyMS8uL3NyYy9qcy9hcHAvY29tcG9uZW50cy9saWdodC5qcyIsIndlYnBhY2s6Ly9Qb3J0Zm9saW8yMDIxLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL21hdGVyaWFsLmpzIiwid2VicGFjazovL1BvcnRmb2xpbzIwMjEvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvcmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vUG9ydGZvbGlvMjAyMS8uL3NyYy9qcy9hcHAvaGVscGVycy9tZXNoSGVscGVyLmpzIiwid2VicGFjazovL1BvcnRmb2xpbzIwMjEvLi9zcmMvanMvYXBwL2hlbHBlcnMvc3RhdHMuanMiLCJ3ZWJwYWNrOi8vUG9ydGZvbGlvMjAyMS8uL3NyYy9qcy9hcHAvaGVscGVycy92ZXJ0ZXhOb3JtYWxzSGVscGVyLmpzIiwid2VicGFjazovL1BvcnRmb2xpbzIwMjEvLi9zcmMvanMvYXBwL2xvYWRlcnMvR0xURkxvYWRlci5qcyIsIndlYnBhY2s6Ly9Qb3J0Zm9saW8yMDIxLy4vc3JjL2pzL2FwcC9tYWluLmpzIiwid2VicGFjazovL1BvcnRmb2xpbzIwMjEvLi9zcmMvanMvYXBwL21hbmFnZXJzL2RhdEdVSS5qcyIsIndlYnBhY2s6Ly9Qb3J0Zm9saW8yMDIxLy4vc3JjL2pzL2FwcC9tYW5hZ2Vycy9pbnRlcmFjdGlvbi5qcyIsIndlYnBhY2s6Ly9Qb3J0Zm9saW8yMDIxLy4vc3JjL2pzL2FwcC9tb2RlbC9tb2RlbC5qcyIsIndlYnBhY2s6Ly9Qb3J0Zm9saW8yMDIxLy4vc3JjL2pzL2FwcC9tb2RlbC90ZXh0dXJlLmpzIiwid2VicGFjazovL1BvcnRmb2xpbzIwMjEvLi9zcmMvanMvZGF0YS9jb25maWcuanMiLCJ3ZWJwYWNrOi8vUG9ydGZvbGlvMjAyMS8uL3NyYy9qcy91dGlscy9idWZmZXJHZW9tZXRyeVV0aWxzLmpzIiwid2VicGFjazovL1BvcnRmb2xpbzIwMjEvLi9zcmMvanMvdXRpbHMvZGV0ZWN0b3IuanMiLCJ3ZWJwYWNrOi8vUG9ydGZvbGlvMjAyMS8uL3NyYy9qcy91dGlscy9oZWxwZXJzLmpzIiwid2VicGFjazovL1BvcnRmb2xpbzIwMjEvLi9zcmMvanMvdXRpbHMva2V5Ym9hcmQuanMiLCJ3ZWJwYWNrOi8vUG9ydGZvbGlvMjAyMS8uL3NyYy9qcy91dGlscy9vcmJpdENvbnRyb2xzLmpzIl0sIm5hbWVzIjpbImNvbnNvbGUiLCJsb2ciLCJDb25maWciLCJEZXRlY3RvciIsImRhdCIsImNhbnZhcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNjZW5lIiwiVEhSRUUiLCJsb2FkaW5nTWFuYWdlciIsIndpbmRvdyIsInNldFRpbWVvdXQiLCJsb2FkaW5nQmFyRWxlbWVudCIsImdzYXAiLCJvdmVybGF5TWF0ZXJpYWwiLCJ1bmlmb3JtcyIsInVBbHBoYSIsImR1cmF0aW9uIiwidmFsdWUiLCJkZWxheSIsImNsYXNzTGlzdCIsImFkZCIsInN0eWxlIiwidHJhbnNmb3JtIiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW1vdmUiLCJ0ZXh0cmV2IiwiZnJvbSIsInkiLCJlYXNlIiwic2tld1kiLCJzdGFnZ2VyIiwiYW1vdW50IiwiZXZlbnRDYWxsYmFjayIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWxlbWVudCIsIml0ZW1VcmwiLCJpdGVtc0xvYWRlZCIsIml0ZW1zVG90YWwiLCJwcm9ncmVzc1JhdGlvIiwiZ2x0ZkxvYWRlciIsIkdMVEZMb2FkZXIiLCJza3VsbEdyb3VwIiwic2t1bGxNb2RlbCIsImxvYWQiLCJnbHRmIiwidHJhdmVyc2UiLCJub2RlIiwiaXNNZXNoIiwicG9zaXRpb24iLCJzY2FsZSIsInNldCIsInJvdGF0aW9uIiwieCIsIk1hdGgiLCJQSSIsInBvaW50TGlnaHQiLCJsb29rQXQiLCJsaWdodCIsImRpcmVjdGlvbmFsTGlnaHQiLCJvdmVybGF5R2VvbWV0cnkiLCJ0cmFuc3BhcmVudCIsInZlcnRleFNoYWRlciIsImZyYWdtZW50U2hhZGVyIiwib3ZlcmxheSIsInJheWNhc3RlciIsImN1cnJlbnRJbnRlcnNlY3QiLCJub3JtYWxpemUiLCJsaW5rIiwiY3Vyc29yIiwiYW5pbWF0ZWl0IiwiZSIsInNwYW4iLCJ0aGlzIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJvZmZzZXRXaWR0aCIsIndpZHRoIiwib2Zmc2V0SGVpZ2h0IiwiaGVpZ2h0IiwieE1vdmUiLCJ5TW92ZSIsInR5cGUiLCJzaHJpbmtDdXJzb3IiLCJleHBhbmRDdXJzb3IiLCJlZGl0Q3Vyc29yIiwiY2xpZW50WCIsImNsaWVudFkiLCJsZWZ0IiwidG9wIiwiYiIsImFkZEV2ZW50TGlzdGVuZXIiLCJzaXplcyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImNhbWVyYSIsImFzcGVjdCIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJyZW5kZXJlciIsInNldFNpemUiLCJzZXRQaXhlbFJhdGlvIiwibWluIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIm1vdXNlIiwiZXZlbnQiLCJvYmplY3QiLCJvYmplY3QxIiwib2JqZWN0MiIsIm9iamVjdDMiLCJ6IiwiY29udHJvbHMiLCJPcmJpdENvbnRyb2xzIiwiZW5hYmxlRGFtcGluZyIsInNldENsZWFyQ29sb3IiLCJjbG9jayIsInRpY2siLCJlbGFwc2VkVGltZSIsImdldEVsYXBzZWRUaW1lIiwic2luIiwic2V0RnJvbUNhbWVyYSIsInVwZGF0ZSIsInJlbmRlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImluaXQiLCJDYW1lcmEiLCJjb25zdHJ1Y3RvciIsImRvbUVsZW1lbnQiLCJ0aHJlZUNhbWVyYSIsInVwZGF0ZVNpemUiLCJDb250cm9scyIsImNvbnRhaW5lciIsIm9yYml0Q29udHJvbHMiLCJ0aHJlZUNvbnRyb2xzIiwidGFyZ2V0IiwiYXV0b1JvdGF0ZSIsImF1dG9Sb3RhdGVTcGVlZCIsInJvdGF0ZVNwZWVkIiwiem9vbVNwZWVkIiwibWluRGlzdGFuY2UiLCJtYXhEaXN0YW5jZSIsIm1pblBvbGFyQW5nbGUiLCJtYXhQb2xhckFuZ2xlIiwiZW5hYmxlWm9vbSIsImRhbXBpbmdGYWN0b3IiLCJHZW9tZXRyeSIsImdlbyIsIm1ha2UiLCJ3aWR0aFNlZ21lbnRzIiwiaGVpZ2h0U2VnbWVudHMiLCJyYWRpdXMiLCJwbGFjZSIsIm1hdGVyaWFsIiwiTWF0ZXJpYWwiLCJzdGFuZGFyZCIsIm1lc2giLCJyZWNlaXZlU2hhZG93IiwiTGlnaHQiLCJhbWJpZW50TGlnaHQiLCJ2aXNpYmxlIiwiY2FzdFNoYWRvdyIsInNoYWRvdyIsImJpYXMiLCJuZWFyIiwiZmFyIiwicmlnaHQiLCJib3R0b20iLCJtYXBTaXplIiwiZGlyZWN0aW9uYWxMaWdodEhlbHBlciIsImhlbWlMaWdodCIsImxpZ2h0TmFtZSIsImNvbG9yIiwiYmFzaWMiLCJzaWRlIiwic2hhZGluZyIsInJvdWdobmVzcyIsIm1ldGFsbmVzcyIsIndpcmUiLCJ3aXJlZnJhbWUiLCJSZW5kZXJlciIsInRocmVlUmVuZGVyZXIiLCJhbnRpYWxpYXMiLCJmb2ciLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwic2hhZG93TWFwIiwiZW5hYmxlZCIsImNhcGFiaWxpdGllcyIsImdldE1heEFuaXNvdHJvcHkiLCJNZXNoSGVscGVyIiwiZ2VvbWV0cnkiLCJ3aXJlTGluZSIsImRlcHRoVGVzdCIsIm9wYWNpdHkiLCJlZGdlcyIsImVkZ2VzTGluZSIsInZlcnRleEhlbHBlciIsIlZlcnRleE5vcm1hbHNIZWxwZXIiLCJib3hIZWxwZXIiLCJlbmFibGUiLCJkaXNhYmxlIiwiclMiLCJiUyIsImdsUyIsInRTIiwiU3RhdHMiLCJzZXRVcCIsIkJyb3dzZXJTdGF0cyIsImdsU3RhdHMiLCJ0aHJlZVN0YXRzIiwiclN0YXRzIiwiQ1NTUGF0aCIsInVzZXJUaW1pbmdBUEkiLCJ2YWx1ZXMiLCJmcmFtZSIsImNhcHRpb24iLCJvdmVyIiwiYXZlcmFnZSIsImF2Z01zIiwiZnBzIiwiYmVsb3ciLCJjYWxscyIsInJhZiIsInJzdGF0cyIsInRleHR1cmUiLCJncm91cHMiLCJmcmFjdGlvbnMiLCJiYXNlIiwic3RlcHMiLCJwbHVnaW5zIiwic3RhcnQiLCJlbmQiLCJfdjEiLCJWZWN0b3IzIiwiX3YyIiwiX25vcm1hbE1hdHJpeCIsIk1hdHJpeDMiLCJfa2V5cyIsInNpemUiLCJoZXgiLCJ1bmRlZmluZWQiLCJuTm9ybWFscyIsIm9iakdlb21ldHJ5IiwiaXNHZW9tZXRyeSIsImZhY2VzIiwibGVuZ3RoIiwiaXNCdWZmZXJHZW9tZXRyeSIsImF0dHJpYnV0ZXMiLCJub3JtYWwiLCJjb3VudCIsIkJ1ZmZlckdlb21ldHJ5IiwicG9zaXRpb25zIiwiRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIkxpbmVTZWdtZW50cyIsIkxpbmVCYXNpY01hdGVyaWFsIiwidG9uZU1hcHBlZCIsIm1hdHJpeEF1dG9VcGRhdGUiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJpZHgiLCJ1cGRhdGVNYXRyaXhXb3JsZCIsImdldE5vcm1hbE1hdHJpeCIsIm1hdHJpeFdvcmxkIiwidmVydGljZXMiLCJpIiwibCIsImZhY2UiLCJqIiwiamwiLCJ2ZXJ0ZXhOb3JtYWxzIiwidmVydGV4IiwiY29weSIsImFwcGx5TWF0cml4NCIsImFwcGx5TWF0cml4MyIsIm11bHRpcGx5U2NhbGFyIiwic2V0WFlaIiwib2JqUG9zIiwib2JqTm9ybSIsImdldFgiLCJnZXRZIiwiZ2V0WiIsIm5lZWRzVXBkYXRlIiwibWFuYWdlciIsIkxvYWRlciIsImRyYWNvTG9hZGVyIiwiZGRzTG9hZGVyIiwiR0xURlJlZ2lzdHJ5Iiwib2JqZWN0cyIsImdldCIsImtleSIsInJlbW92ZUFsbCIsImFzc2lnbiIsInVybCIsIm9uTG9hZCIsIm9uUHJvZ3Jlc3MiLCJvbkVycm9yIiwicmVzb3VyY2VQYXRoIiwic2NvcGUiLCJwYXRoIiwiTG9hZGVyVXRpbHMiLCJpdGVtU3RhcnQiLCJfb25FcnJvciIsImVycm9yIiwiaXRlbUVycm9yIiwiaXRlbUVuZCIsImxvYWRlciIsIkZpbGVMb2FkZXIiLCJzZXRQYXRoIiwic2V0UmVzcG9uc2VUeXBlIiwiY3Jvc3NPcmlnaW4iLCJzZXRXaXRoQ3JlZGVudGlhbHMiLCJkYXRhIiwicGFyc2UiLCJzZXREUkFDT0xvYWRlciIsInNldEREU0xvYWRlciIsImNvbnRlbnQiLCJleHRlbnNpb25zIiwiVWludDhBcnJheSIsIkJJTkFSWV9FWFRFTlNJT05fSEVBREVSX01BR0lDIiwiRVhURU5TSU9OUyIsIktIUl9CSU5BUllfR0xURiIsIkdMVEZCaW5hcnlFeHRlbnNpb24iLCJqc29uIiwiSlNPTiIsImFzc2V0IiwidmVyc2lvbiIsIkVycm9yIiwiZXh0ZW5zaW9uc1VzZWQiLCJleHRlbnNpb25OYW1lIiwiZXh0ZW5zaW9uc1JlcXVpcmVkIiwiS0hSX0xJR0hUU19QVU5DVFVBTCIsIkdMVEZMaWdodHNFeHRlbnNpb24iLCJLSFJfTUFURVJJQUxTX0NMRUFSQ09BVCIsIkdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24iLCJLSFJfTUFURVJJQUxTX1VOTElUIiwiR0xURk1hdGVyaWFsc1VubGl0RXh0ZW5zaW9uIiwiS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTUyIsIkdMVEZNYXRlcmlhbHNQYnJTcGVjdWxhckdsb3NzaW5lc3NFeHRlbnNpb24iLCJLSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTiIsIkdMVEZEcmFjb01lc2hDb21wcmVzc2lvbkV4dGVuc2lvbiIsIk1TRlRfVEVYVFVSRV9ERFMiLCJHTFRGVGV4dHVyZUREU0V4dGVuc2lvbiIsIktIUl9URVhUVVJFX1RSQU5TRk9STSIsIkdMVEZUZXh0dXJlVHJhbnNmb3JtRXh0ZW5zaW9uIiwiS0hSX01FU0hfUVVBTlRJWkFUSU9OIiwiR0xURk1lc2hRdWFudGl6YXRpb25FeHRlbnNpb24iLCJpbmRleE9mIiwid2FybiIsIkdMVEZQYXJzZXIiLCJuYW1lIiwiZXh0ZW5zaW9uIiwibGlnaHREZWZzIiwibGlnaHRzIiwibG9hZExpZ2h0IiwibGlnaHRJbmRleCIsImxpZ2h0Tm9kZSIsImxpZ2h0RGVmIiwiQ29sb3IiLCJmcm9tQXJyYXkiLCJyYW5nZSIsIkRpcmVjdGlvbmFsTGlnaHQiLCJQb2ludExpZ2h0IiwiZGlzdGFuY2UiLCJTcG90TGlnaHQiLCJzcG90IiwiaW5uZXJDb25lQW5nbGUiLCJvdXRlckNvbmVBbmdsZSIsImFuZ2xlIiwicGVudW1icmEiLCJkZWNheSIsImludGVuc2l0eSIsIlByb21pc2UiLCJyZXNvbHZlIiwiZ2V0TWF0ZXJpYWxUeXBlIiwiTWVzaEJhc2ljTWF0ZXJpYWwiLCJleHRlbmRQYXJhbXMiLCJtYXRlcmlhbFBhcmFtcyIsIm1hdGVyaWFsRGVmIiwicGFyc2VyIiwicGVuZGluZyIsIm1ldGFsbGljUm91Z2huZXNzIiwicGJyTWV0YWxsaWNSb3VnaG5lc3MiLCJBcnJheSIsImlzQXJyYXkiLCJiYXNlQ29sb3JGYWN0b3IiLCJhcnJheSIsImJhc2VDb2xvclRleHR1cmUiLCJwdXNoIiwiYXNzaWduVGV4dHVyZSIsImFsbCIsIk1lc2hQaHlzaWNhbE1hdGVyaWFsIiwiY2xlYXJjb2F0RmFjdG9yIiwiY2xlYXJjb2F0IiwiY2xlYXJjb2F0VGV4dHVyZSIsImNsZWFyY29hdFJvdWdobmVzc0ZhY3RvciIsImNsZWFyY29hdFJvdWdobmVzcyIsImNsZWFyY29hdFJvdWdobmVzc1RleHR1cmUiLCJjbGVhcmNvYXROb3JtYWxUZXh0dXJlIiwiY2xlYXJjb2F0Tm9ybWFsU2NhbGUiLCJWZWN0b3IyIiwiQklOQVJZX0VYVEVOU0lPTl9DSFVOS19UWVBFUyIsImJvZHkiLCJoZWFkZXJWaWV3IiwiRGF0YVZpZXciLCJoZWFkZXIiLCJtYWdpYyIsInNsaWNlIiwiZ2V0VWludDMyIiwiY2h1bmtWaWV3IiwiY2h1bmtJbmRleCIsImJ5dGVMZW5ndGgiLCJjaHVua0xlbmd0aCIsImNodW5rVHlwZSIsImNvbnRlbnRBcnJheSIsImJ5dGVPZmZzZXQiLCJwcmVsb2FkIiwiR0xURk1lc2hTdGFuZGFyZFNHTWF0ZXJpYWwiLCJwYXJhbXMiLCJNZXNoU3RhbmRhcmRNYXRlcmlhbCIsImlzR0xURlNwZWN1bGFyR2xvc3NpbmVzc01hdGVyaWFsIiwic3BlY3VsYXJNYXBQYXJzRnJhZ21lbnRDaHVuayIsImpvaW4iLCJnbG9zc2luZXNzTWFwUGFyc0ZyYWdtZW50Q2h1bmsiLCJzcGVjdWxhck1hcEZyYWdtZW50Q2h1bmsiLCJnbG9zc2luZXNzTWFwRnJhZ21lbnRDaHVuayIsImxpZ2h0UGh5c2ljYWxGcmFnbWVudENodW5rIiwic3BlY3VsYXIiLCJzZXRIZXgiLCJnbG9zc2luZXNzIiwic3BlY3VsYXJNYXAiLCJnbG9zc2luZXNzTWFwIiwiX2V4dHJhVW5pZm9ybXMiLCJvbkJlZm9yZUNvbXBpbGUiLCJzaGFkZXIiLCJ1bmlmb3JtTmFtZSIsInJlcGxhY2UiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidiIsImRlZmluZXMiLCJVU0VfR0xPU1NJTkVTU01BUCIsIlVTRV9ST1VHSE5FU1NNQVAiLCJtZXRhbG5lc3NNYXAiLCJyb3VnaG5lc3NNYXAiLCJzZXRWYWx1ZXMiLCJzcGVjdWxhckdsb3NzaW5lc3NQYXJhbXMiLCJwYnJTcGVjdWxhckdsb3NzaW5lc3MiLCJkaWZmdXNlRmFjdG9yIiwiZGlmZnVzZVRleHR1cmUiLCJlbWlzc2l2ZSIsImdsb3NzaW5lc3NGYWN0b3IiLCJzcGVjdWxhckZhY3RvciIsInNwZWN1bGFyR2xvc3NpbmVzc1RleHR1cmUiLCJzcGVjR2xvc3NNYXBEZWYiLCJjcmVhdGVNYXRlcmlhbCIsIm1hcCIsImxpZ2h0TWFwIiwibGlnaHRNYXBJbnRlbnNpdHkiLCJhb01hcCIsImFvTWFwSW50ZW5zaXR5IiwiZW1pc3NpdmVJbnRlbnNpdHkiLCJlbWlzc2l2ZU1hcCIsImJ1bXBNYXAiLCJidW1wU2NhbGUiLCJub3JtYWxNYXAiLCJub3JtYWxNYXBUeXBlIiwiVGFuZ2VudFNwYWNlTm9ybWFsTWFwIiwibm9ybWFsU2NhbGUiLCJkaXNwbGFjZW1lbnRNYXAiLCJkaXNwbGFjZW1lbnRTY2FsZSIsImRpc3BsYWNlbWVudEJpYXMiLCJhbHBoYU1hcCIsImVudk1hcCIsImVudk1hcEludGVuc2l0eSIsInJlZnJhY3Rpb25SYXRpbyIsIkdMVEZDdWJpY1NwbGluZUludGVycG9sYW50IiwicGFyYW1ldGVyUG9zaXRpb25zIiwic2FtcGxlVmFsdWVzIiwic2FtcGxlU2l6ZSIsInJlc3VsdEJ1ZmZlciIsIkludGVycG9sYW50IiwiZGVjb2RlUHJpbWl0aXZlIiwicHJpbWl0aXZlIiwiYnVmZmVyVmlld0luZGV4IiwiYnVmZmVyVmlldyIsImdsdGZBdHRyaWJ1dGVNYXAiLCJ0aHJlZUF0dHJpYnV0ZU1hcCIsImF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXAiLCJhdHRyaWJ1dGVUeXBlTWFwIiwiYXR0cmlidXRlTmFtZSIsInRocmVlQXR0cmlidXRlTmFtZSIsIkFUVFJJQlVURVMiLCJ0b0xvd2VyQ2FzZSIsImFjY2Vzc29yRGVmIiwiYWNjZXNzb3JzIiwiY29tcG9uZW50VHlwZSIsIldFQkdMX0NPTVBPTkVOVF9UWVBFUyIsIm5vcm1hbGl6ZWQiLCJnZXREZXBlbmRlbmN5IiwidGhlbiIsImRlY29kZURyYWNvRmlsZSIsImF0dHJpYnV0ZSIsImV4dGVuZFRleHR1cmUiLCJjbG9uZSIsIm9mZnNldCIsInJlcGVhdCIsInRleENvb3JkIiwic291cmNlIiwiY29weVNhbXBsZVZhbHVlXyIsImluZGV4IiwicmVzdWx0IiwidmFsdWVTaXplIiwiYmVmb3JlU3RhcnRfIiwiYWZ0ZXJFbmRfIiwiaW50ZXJwb2xhdGVfIiwiaTEiLCJ0MCIsInQiLCJ0MSIsInN0cmlkZSIsInN0cmlkZTIiLCJzdHJpZGUzIiwidGQiLCJwIiwicHAiLCJwcHAiLCJvZmZzZXQxIiwib2Zmc2V0MCIsInMyIiwiczMiLCJzMCIsInMxIiwicDAiLCJtMCIsInAxIiwibTEiLCJXRUJHTF9DT05TVEFOVFMiLCI1MTIwIiwiSW50OEFycmF5IiwiNTEyMSIsIjUxMjIiLCJJbnQxNkFycmF5IiwiNTEyMyIsIlVpbnQxNkFycmF5IiwiNTEyNSIsIlVpbnQzMkFycmF5IiwiNTEyNiIsIkZsb2F0MzJBcnJheSIsIldFQkdMX0ZJTFRFUlMiLCI5NzI4IiwiTmVhcmVzdEZpbHRlciIsIjk3MjkiLCJMaW5lYXJGaWx0ZXIiLCI5OTg0IiwiTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIiLCI5OTg1IiwiTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlciIsIjk5ODYiLCJOZWFyZXN0TWlwbWFwTGluZWFyRmlsdGVyIiwiOTk4NyIsIkxpbmVhck1pcG1hcExpbmVhckZpbHRlciIsIldFQkdMX1dSQVBQSU5HUyIsIjMzMDcxIiwiQ2xhbXBUb0VkZ2VXcmFwcGluZyIsIjMzNjQ4IiwiTWlycm9yZWRSZXBlYXRXcmFwcGluZyIsIjEwNDk3IiwiUmVwZWF0V3JhcHBpbmciLCJXRUJHTF9UWVBFX1NJWkVTIiwiU0NBTEFSIiwiVkVDMiIsIlZFQzMiLCJWRUM0IiwiTUFUMiIsIk1BVDMiLCJNQVQ0IiwiUE9TSVRJT04iLCJOT1JNQUwiLCJUQU5HRU5UIiwiVEVYQ09PUkRfMCIsIlRFWENPT1JEXzEiLCJDT0xPUl8wIiwiV0VJR0hUU18wIiwiSk9JTlRTXzAiLCJQQVRIX1BST1BFUlRJRVMiLCJ0cmFuc2xhdGlvbiIsIndlaWdodHMiLCJJTlRFUlBPTEFUSU9OIiwiQ1VCSUNTUExJTkUiLCJMSU5FQVIiLCJJbnRlcnBvbGF0ZUxpbmVhciIsIlNURVAiLCJJbnRlcnBvbGF0ZURpc2NyZXRlIiwiQUxQSEFfTU9ERVMiLCJNSU1FX1RZUEVfRk9STUFUUyIsIlJHQkFGb3JtYXQiLCJSR0JGb3JtYXQiLCJyZXNvbHZlVVJMIiwidGVzdCIsImFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YSIsImtub3duRXh0ZW5zaW9ucyIsIm9iamVjdERlZiIsInVzZXJEYXRhIiwiZ2x0ZkV4dGVuc2lvbnMiLCJhc3NpZ25FeHRyYXNUb1VzZXJEYXRhIiwiZ2x0ZkRlZiIsImV4dHJhcyIsInVwZGF0ZU1vcnBoVGFyZ2V0cyIsIm1lc2hEZWYiLCJpbCIsIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIsInRhcmdldE5hbWVzIiwibW9ycGhUYXJnZXREaWN0aW9uYXJ5IiwiY3JlYXRlQXR0cmlidXRlc0tleSIsImF0dHJpYnV0ZXNLZXkiLCJrZXlzIiwic29ydCIsIm9wdGlvbnMiLCJjYWNoZSIsInByaW1pdGl2ZUNhY2hlIiwidGV4dHVyZUxvYWRlciIsIlRleHR1cmVMb2FkZXIiLCJzZXRDcm9zc09yaWdpbiIsImZpbGVMb2FkZXIiLCJhZGRQcmltaXRpdmVBdHRyaWJ1dGVzIiwicHJpbWl0aXZlRGVmIiwiYXNzaWduQXR0cmlidXRlQWNjZXNzb3IiLCJhY2Nlc3NvckluZGV4IiwiYWNjZXNzb3IiLCJnbHRmQXR0cmlidXRlTmFtZSIsImluZGljZXMiLCJzZXRJbmRleCIsImJveCIsIkJveDMiLCJtYXgiLCJ0YXJnZXRzIiwibWF4RGlzcGxhY2VtZW50IiwidmVjdG9yIiwic2V0WCIsImFicyIsInNldFkiLCJzZXRaIiwiZXhwYW5kQnlWZWN0b3IiLCJib3VuZGluZ0JveCIsInNwaGVyZSIsIlNwaGVyZSIsImdldENlbnRlciIsImNlbnRlciIsImRpc3RhbmNlVG8iLCJib3VuZGluZ1NwaGVyZSIsImNvbXB1dGVCb3VuZHMiLCJoYXNNb3JwaFBvc2l0aW9uIiwiaGFzTW9ycGhOb3JtYWwiLCJwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMiLCJwZW5kaW5nTm9ybWFsQWNjZXNzb3JzIiwicGVuZGluZ0FjY2Vzc29yIiwibW9ycGhQb3NpdGlvbnMiLCJtb3JwaE5vcm1hbHMiLCJtb3JwaEF0dHJpYnV0ZXMiLCJtb3JwaFRhcmdldHNSZWxhdGl2ZSIsImFkZE1vcnBoVGFyZ2V0cyIsInRvVHJpYW5nbGVzRHJhd01vZGUiLCJkcmF3TW9kZSIsImdldEluZGV4IiwiZ2V0QXR0cmlidXRlIiwibnVtYmVyT2ZUcmlhbmdsZXMiLCJuZXdJbmRpY2VzIiwiVHJpYW5nbGVGYW5EcmF3TW9kZSIsIm5ld0dlb21ldHJ5IiwibWFya0RlZnMiLCJnZXREZXBlbmRlbmNpZXMiLCJkZXBlbmRlbmNpZXMiLCJzY2VuZXMiLCJhbmltYXRpb25zIiwiY2FtZXJhcyIsImNhdGNoIiwibm9kZURlZnMiLCJub2RlcyIsInNraW5EZWZzIiwic2tpbnMiLCJtZXNoRGVmcyIsIm1lc2hlcyIsIm1lc2hSZWZlcmVuY2VzIiwibWVzaFVzZXMiLCJza2luSW5kZXgiLCJza2luTGVuZ3RoIiwiam9pbnRzIiwiaXNCb25lIiwibm9kZUluZGV4Iiwibm9kZUxlbmd0aCIsIm5vZGVEZWYiLCJza2luIiwiaXNTa2lubmVkTWVzaCIsImNhY2hlS2V5IiwiZGVwZW5kZW5jeSIsImxvYWRTY2VuZSIsImxvYWROb2RlIiwibG9hZE1lc2giLCJsb2FkQWNjZXNzb3IiLCJsb2FkQnVmZmVyVmlldyIsImxvYWRCdWZmZXIiLCJsb2FkTWF0ZXJpYWwiLCJsb2FkVGV4dHVyZSIsImxvYWRTa2luIiwibG9hZEFuaW1hdGlvbiIsImxvYWRDYW1lcmEiLCJkZWZzIiwiZGVmIiwiYnVmZmVySW5kZXgiLCJidWZmZXJEZWYiLCJidWZmZXJzIiwidXJpIiwicmVqZWN0IiwiYnVmZmVyVmlld0RlZiIsImJ1ZmZlclZpZXdzIiwiYnVmZmVyIiwic3BhcnNlIiwicGVuZGluZ0J1ZmZlclZpZXdzIiwiYnVmZmVyQXR0cmlidXRlIiwiaXRlbVNpemUiLCJUeXBlZEFycmF5IiwiZWxlbWVudEJ5dGVzIiwiQllURVNfUEVSX0VMRU1FTlQiLCJpdGVtQnl0ZXMiLCJieXRlU3RyaWRlIiwiaWJTbGljZSIsImZsb29yIiwiaWJDYWNoZUtleSIsImliIiwiSW50ZXJsZWF2ZWRCdWZmZXIiLCJJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSIsIkJ1ZmZlckF0dHJpYnV0ZSIsIml0ZW1TaXplSW5kaWNlcyIsIlR5cGVkQXJyYXlJbmRpY2VzIiwiYnl0ZU9mZnNldEluZGljZXMiLCJieXRlT2Zmc2V0VmFsdWVzIiwic3BhcnNlSW5kaWNlcyIsInNwYXJzZVZhbHVlcyIsInNldFciLCJ0ZXh0dXJlSW5kZXgiLCJVUkwiLCJzZWxmIiwid2Via2l0VVJMIiwidGV4dHVyZURlZiIsInRleHR1cmVzIiwidGV4dHVyZUV4dGVuc2lvbnMiLCJzb3VyY2VVUkkiLCJpbWFnZXMiLCJpc09iamVjdFVSTCIsImJsb2IiLCJCbG9iIiwibWltZVR5cGUiLCJjcmVhdGVPYmplY3RVUkwiLCJnZXRIYW5kbGVyIiwicmV2b2tlT2JqZWN0VVJMIiwiZmxpcFkiLCJmb3JtYXQiLCJzYW1wbGVyIiwic2FtcGxlcnMiLCJtYWdGaWx0ZXIiLCJtaW5GaWx0ZXIiLCJ3cmFwUyIsIndyYXBUIiwibWFwTmFtZSIsIm1hcERlZiIsImlzQ29tcHJlc3NlZFRleHR1cmUiLCJhc3NpZ25GaW5hbE1hdGVyaWFsIiwidXNlVmVydGV4VGFuZ2VudHMiLCJ0YW5nZW50IiwidXNlVmVydGV4Q29sb3JzIiwidXNlRmxhdFNoYWRpbmciLCJ1c2VTa2lubmluZyIsInVzZU1vcnBoVGFyZ2V0cyIsInVzZU1vcnBoTm9ybWFscyIsImlzUG9pbnRzIiwidXVpZCIsInBvaW50c01hdGVyaWFsIiwiUG9pbnRzTWF0ZXJpYWwiLCJzaXplQXR0ZW51YXRpb24iLCJpc0xpbmUiLCJsaW5lTWF0ZXJpYWwiLCJjYWNoZWRNYXRlcmlhbCIsInNraW5uaW5nIiwidmVydGV4VGFuZ2VudHMiLCJ2ZXJ0ZXhDb2xvcnMiLCJmbGF0U2hhZGluZyIsIm1vcnBoVGFyZ2V0cyIsInV2MiIsInV2IiwibWF0ZXJpYWxJbmRleCIsIm1hdGVyaWFsVHlwZSIsIm1hdGVyaWFscyIsIm1hdGVyaWFsRXh0ZW5zaW9ucyIsInNnRXh0ZW5zaW9uIiwia211RXh0ZW5zaW9uIiwibWV0YWxsaWNGYWN0b3IiLCJyb3VnaG5lc3NGYWN0b3IiLCJtZXRhbGxpY1JvdWdobmVzc1RleHR1cmUiLCJkb3VibGVTaWRlZCIsIkRvdWJsZVNpZGUiLCJhbHBoYU1vZGUiLCJkZXB0aFdyaXRlIiwiYWxwaGFUZXN0IiwiYWxwaGFDdXRvZmYiLCJub3JtYWxUZXh0dXJlIiwib2NjbHVzaW9uVGV4dHVyZSIsInN0cmVuZ3RoIiwiZW1pc3NpdmVGYWN0b3IiLCJlbWlzc2l2ZVRleHR1cmUiLCJjbGVhcmNvYXRFeHRlbnNpb24iLCJlbmNvZGluZyIsInNSR0JFbmNvZGluZyIsImxvYWRHZW9tZXRyaWVzIiwicHJpbWl0aXZlcyIsImNyZWF0ZURyYWNvUHJpbWl0aXZlIiwiZHJhY29FeHRlbnNpb24iLCJnZW9tZXRyeVByb21pc2UiLCJtb2RlIiwiY2FjaGVkIiwicHJvbWlzZSIsIm1lc2hJbmRleCIsIkZyb250U2lkZSIsInJlc3VsdHMiLCJnZW9tZXRyaWVzIiwiU2tpbm5lZE1lc2giLCJNZXNoIiwic2tpbldlaWdodCIsIm5vcm1hbGl6ZVNraW5XZWlnaHRzIiwiVHJpYW5nbGVTdHJpcERyYXdNb2RlIiwiTGluZSIsIkxpbmVMb29wIiwiUG9pbnRzIiwiZ3JvdXAiLCJHcm91cCIsImNhbWVyYUluZGV4IiwiY2FtZXJhRGVmIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJNYXRoVXRpbHMiLCJ5Zm92IiwiYXNwZWN0UmF0aW8iLCJ6bmVhciIsInpmYXIiLCJPcnRob2dyYXBoaWNDYW1lcmEiLCJ4bWFnIiwieW1hZyIsInNraW5EZWYiLCJza2luRW50cnkiLCJpbnZlcnNlQmluZE1hdHJpY2VzIiwiYW5pbWF0aW9uSW5kZXgiLCJhbmltYXRpb25EZWYiLCJwZW5kaW5nTm9kZXMiLCJwZW5kaW5nSW5wdXRBY2Nlc3NvcnMiLCJwZW5kaW5nT3V0cHV0QWNjZXNzb3JzIiwicGVuZGluZ1NhbXBsZXJzIiwicGVuZGluZ1RhcmdldHMiLCJjaGFubmVscyIsImNoYW5uZWwiLCJpZCIsImlucHV0IiwicGFyYW1ldGVycyIsIm91dHB1dCIsImlucHV0QWNjZXNzb3JzIiwib3V0cHV0QWNjZXNzb3JzIiwidHJhY2tzIiwiaW5wdXRBY2Nlc3NvciIsIm91dHB1dEFjY2Vzc29yIiwiVHlwZWRLZXlmcmFtZVRyYWNrIiwidXBkYXRlTWF0cml4IiwiTnVtYmVyS2V5ZnJhbWVUcmFjayIsIlF1YXRlcm5pb25LZXlmcmFtZVRyYWNrIiwiVmVjdG9yS2V5ZnJhbWVUcmFjayIsInRhcmdldE5hbWUiLCJpbnRlcnBvbGF0aW9uIiwib3V0cHV0QXJyYXkiLCJzY2FsZWQiLCJ0cmFjayIsImNyZWF0ZUludGVycG9sYW50IiwidGltZXMiLCJnZXRWYWx1ZVNpemUiLCJpc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSIsIkFuaW1hdGlvbkNsaXAiLCJpbnN0YW5jZU51bSIsIm8iLCJCb25lIiwiT2JqZWN0M0QiLCJQcm9wZXJ0eUJpbmRpbmciLCJtYXRyaXgiLCJNYXRyaXg0IiwicXVhdGVybmlvbiIsImJ1aWxkTm9kZUhpZXJhY2h5Iiwibm9kZUlkIiwicGFyZW50T2JqZWN0IiwicGVuZGluZ0pvaW50cyIsImpvaW50Tm9kZXMiLCJib25lcyIsImJvbmVJbnZlcnNlcyIsImpvaW50Tm9kZSIsIm1hdCIsImJpbmQiLCJTa2VsZXRvbiIsImNoaWxkcmVuIiwiY2hpbGQiLCJzY2VuZUluZGV4Iiwic2NlbmVEZWYiLCJub2RlSWRzIiwiTWFpbiIsInN0YXRzIiwiZ3VpIiwiRGF0R1VJIiwiVGV4dHVyZSIsIm1vZGVsIiwiTW9kZWwiLCJpdGVtIiwibG9hZGVkIiwidG90YWwiLCJJbnRlcmFjdGlvbiIsIm1lc2hIZWxwZXIiLCJvYmoiLCJkaXNwbGF5IiwiVFdFRU4iLCJtYWluIiwiR1VJIiwiY2FtZXJhRm9sZGVyIiwiYWRkRm9sZGVyIiwiY2FtZXJhRk9WR3VpIiwib25DaGFuZ2UiLCJlbmFibGVSb3RhdGUiLCJmb3YiLCJvbkZpbmlzaENoYW5nZSIsImNhbWVyYUFzcGVjdEd1aSIsImFkZENvbG9yIiwiY2FtZXJhRm9nTmVhckd1aSIsImRlbnNpdHkiLCJjb250cm9sc0ZvbGRlciIsImNvbnRyb2xzQXV0b1JvdGF0ZVNwZWVkR3VpIiwidW5sb2FkIiwibWVzaEZvbGRlciIsImFtYmllbnRMaWdodEZvbGRlciIsImRpcmVjdGlvbmFsTGlnaHRGb2xkZXIiLCJkaXJlY3Rpb25hbExpZ2h0SW50ZW5zaXR5R3VpIiwiZGlyZWN0aW9uYWxMaWdodFBvc2l0aW9uWEd1aSIsImRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvbllHdWkiLCJkaXJlY3Rpb25hbExpZ2h0UG9zaXRpb25aR3VpIiwic2hhZG93Rm9sZGVyIiwic2hhZG93TmVhckd1aSIsImRpc3Bvc2UiLCJzaGFkb3dGYXJHdWkiLCJzaGFkb3dUb3BHdWkiLCJzaGFkb3dSaWdodEd1aSIsInNoYWRvd0JvdHRvbUd1aSIsInNoYWRvd0xlZnRHdWkiLCJzaGFkb3dCaWFzR3VpIiwicG9pbnRMaWdodEZvbGRlciIsInBvaW50TGlnaHRJbnRlbnNpdHlHdWkiLCJwb2ludExpZ2h0RGlzdGFuY2VHdWkiLCJwb2ludExpZ2h0UG9zaXRpb25YR3VpIiwicG9pbnRMaWdodFBvc2l0aW9uWUd1aSIsInBvaW50TGlnaHRQb3NpdGlvblpHdWkiLCJoZW1pTGlnaHRGb2xkZXIiLCJncm91bmRDb2xvciIsImhlbWlMaWdodEludGVuc2l0eUd1aSIsImhlbWlMaWdodFBvc2l0aW9uWEd1aSIsImhlbWlMaWdodFBvc2l0aW9uWUd1aSIsImhlbWlMaWdodFBvc2l0aW9uWkd1aSIsImRlc3Ryb3kiLCJ0aW1lb3V0Iiwia2V5Ym9hcmQiLCJLZXlib2FyZCIsIkhlbHBlcnMiLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VMZWF2ZSIsIm9uTW91c2VPdmVyIiwiZXZlbnRNYXRjaGVzIiwicHJldmVudERlZmF1bHQiLCJjbGVhclRpbWVvdXQiLCJyZWYiLCJpc0xpZ2h0IiwiQnVmZmVyR2VvbWV0cnlVdGlscyIsIlVWIiwibWF4QW5pc290cm9weSIsImltYWdlRmlsZXMiLCJwcm9taXNlQXJyYXkiLCJpbWFnZUZpbGUiLCJpbWFnZSIsImFuaXNvdHJvcHkiLCJtb2RlbE9CSiIsInhociIsInJlYXNvbiIsImlzRGV2IiwiaXNTaG93aW5nU3RhdHMiLCJpc0xvYWRlZCIsImlzVHdlZW5pbmciLCJpc1JvdGF0aW5nIiwiaXNNb3VzZU1vdmluZyIsImlzTW91c2VPdmVyIiwiZHByIiwiZWFzaW5nIiwic2VsZWN0ZWQiLCJpbml0aWFsVHlwZXMiLCJtb2RlbHMiLCJlbmFibGVIZWxwZXIiLCJ0cmFuc2x1Y2VudCIsInBvc1giLCJwb3NZIiwicG9zWiIsIm1pbkF6aW11dGhBbmdsZSIsIkluZmluaXR5IiwibWF4QXppbXV0aEFuZ2xlIiwiaGVscGVyRW5hYmxlZCIsIm1hcFdpZHRoIiwibWFwSGVpZ2h0IiwiY29tcHV0ZVRhbmdlbnRzIiwibm9ybWFscyIsInV2cyIsIm5WZXJ0aWNlcyIsInRhbmdlbnRzIiwidGFuMSIsInRhbjIiLCJ2QSIsInZCIiwidkMiLCJ1dkEiLCJ1dkIiLCJ1dkMiLCJzZGlyIiwidGRpciIsImhhbmRsZVRyaWFuZ2xlIiwidyIsInRtcCIsInRtcDIiLCJuIiwibjIiLCJoYW5kbGVWZXJ0ZXgiLCJhIiwiYyIsInN1YiIsInIiLCJpc0Zpbml0ZSIsImFkZFNjYWxlZFZlY3RvciIsImRvdCIsImNyb3NzVmVjdG9ycyIsIm1lcmdlQnVmZmVyR2VvbWV0cmllcyIsInVzZUdyb3VwcyIsImlzSW5kZXhlZCIsImF0dHJpYnV0ZXNVc2VkIiwiU2V0IiwibW9ycGhBdHRyaWJ1dGVzVXNlZCIsIm1lcmdlZEdlb21ldHJ5IiwiYXR0cmlidXRlc0NvdW50IiwiaGFzIiwibWVyZ2VkVXNlckRhdGEiLCJhZGRHcm91cCIsImluZGV4T2Zmc2V0IiwibWVyZ2VkSW5kZXgiLCJtZXJnZWRBdHRyaWJ1dGUiLCJtZXJnZUJ1ZmZlckF0dHJpYnV0ZXMiLCJudW1Nb3JwaFRhcmdldHMiLCJtb3JwaEF0dHJpYnV0ZXNUb01lcmdlIiwibWVyZ2VkTW9ycGhBdHRyaWJ1dGUiLCJhcnJheUxlbmd0aCIsImlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUiLCJpbnRlcmxlYXZlQXR0cmlidXRlcyIsImludGVybGVhdmVkQnVmZmVyIiwicmVzIiwiZ2V0dGVycyIsInNldHRlcnMiLCJpYmEiLCJrIiwiZXN0aW1hdGVCeXRlc1VzZWQiLCJtZW0iLCJhdHRyIiwibWVyZ2VWZXJ0aWNlcyIsInRvbGVyYW5jZSIsIk51bWJlciIsIkVQU0lMT04iLCJoYXNoVG9JbmRleCIsInZlcnRleENvdW50IiwibmV4dEluZGV4IiwiYXR0cmlidXRlTmFtZXMiLCJhdHRyQXJyYXlzIiwibW9ycGhBdHRyc0FycmF5cyIsIm1vcnBoQXR0ciIsImZpbGwiLCJkZWNpbWFsU2hpZnQiLCJsb2cxMCIsInNoaWZ0TXVsdGlwbGllciIsInBvdyIsImhhc2giLCJuZXdhcnJheSIsIm5ld01vcnBoQXJyYXlzIiwiZ2V0dGVyRnVuYyIsIm0iLCJtbCIsIm9sZEF0dHJpYnV0ZSIsIm9sZE1vcnBoQXR0cmlidXRlIiwibW9ycGhBdHRyaWJ1dGUiLCJUcmlhbmdsZXNEcmF3TW9kZSIsImNsZWFyR3JvdXBzIiwiQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwid2ViZ2wiLCJjcmVhdGVFbGVtZW50IiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiZ2V0Q29udGV4dCIsIndvcmtlcnMiLCJXb3JrZXIiLCJmaWxlYXBpIiwiRmlsZSIsIkZpbGVSZWFkZXIiLCJGaWxlTGlzdCIsImdldFdlYkdMRXJyb3JNZXNzYWdlIiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsInRleHRBbGlnbiIsImJhY2tncm91bmQiLCJwYWRkaW5nIiwibWFyZ2luIiwiaW5uZXJIVE1MIiwiYWRkR2V0V2ViR0xNZXNzYWdlIiwicGFyZW50IiwiYXBwZW5kQ2hpbGQiLCJmbiIsInRocmVzaGhvbGQiLCJsYXN0IiwiZGVmZXJUaW1lciIsImNvbnRleHQiLCJub3ciLCJEYXRlIiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwibGVuZ3RoQ29tcHV0YWJsZSIsInBlcmNlbnRDb21wbGV0ZSIsInJvdW5kIiwidmVydGljZXNOZWVkVXBkYXRlIiwibm9ybWFsc05lZWRVcGRhdGUiLCJjb2xvcnNOZWVkVXBkYXRlIiwibWF0ZXJpYWxLZXkiLCJBTElBUyIsImtleUNvZGVzIiwib25LZXlDaGFuZ2UiLCJvbkJsdXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicHJvcCIsImtleUNvZGUiLCJwcmVzc2VkIiwia2V5RGVzYyIsInNwbGl0IiwidG9VcHBlckNhc2UiLCJjaGFyQ29kZUF0IiwiYWxpYXNlcyIsImFsaWFzS2V5cyIsInNoaWZ0S2V5IiwiY3RybEtleSIsImFsdEtleSIsIm1ldGFLZXkiLCJtb2R1bGUiLCJleHBvcnRzIiwiTU9VU0UiLCJPcmJpdENvbnN0cmFpbnQiLCJtaW5ab29tIiwibWF4Wm9vbSIsInRoZXRhIiwicGhpIiwicXVhdCIsInF1YXRJbnZlcnNlIiwibGFzdFBvc2l0aW9uIiwibGFzdFF1YXRlcm5pb24iLCJFUFMiLCJwaGlEZWx0YSIsInRoZXRhRGVsdGEiLCJwYW5PZmZzZXQiLCJ6b29tQ2hhbmdlZCIsImdldFBvbGFyQW5nbGUiLCJnZXRBemltdXRoYWxBbmdsZSIsInJvdGF0ZUxlZnQiLCJyb3RhdGVVcCIsInBhbkxlZnQiLCJ0ZSIsImVsZW1lbnRzIiwicGFuVXAiLCJwYW4iLCJkZWx0YVgiLCJkZWx0YVkiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsInRhcmdldERpc3RhbmNlIiwidGFuIiwiZG9sbHlJbiIsImRvbGx5U2NhbGUiLCJ6b29tIiwiZG9sbHlPdXQiLCJRdWF0ZXJuaW9uIiwic2V0RnJvbVVuaXRWZWN0b3JzIiwidXAiLCJpbnZlcnNlIiwiYXBwbHlRdWF0ZXJuaW9uIiwiYXRhbjIiLCJzcXJ0IiwiY29zIiwiZGlzdGFuY2VUb1NxdWFyZWQiLCJjb25zdHJhaW50IiwiZGVmaW5lUHJvcGVydHkiLCJlbmFibGVQYW4iLCJrZXlQYW5TcGVlZCIsImVuYWJsZUtleXMiLCJMRUZUIiwiVVAiLCJSSUdIVCIsIkJPVFRPTSIsIm1vdXNlQnV0dG9ucyIsIk9SQklUIiwiWk9PTSIsIk1JRERMRSIsIlBBTiIsInJvdGF0ZVN0YXJ0Iiwicm90YXRlRW5kIiwicm90YXRlRGVsdGEiLCJwYW5TdGFydCIsInBhbkVuZCIsInBhbkRlbHRhIiwiZG9sbHlTdGFydCIsImRvbGx5RW5kIiwiZG9sbHlEZWx0YSIsIlNUQVRFIiwic3RhdGUiLCJ0YXJnZXQwIiwicG9zaXRpb24wIiwiem9vbTAiLCJjaGFuZ2VFdmVudCIsInN0YXJ0RXZlbnQiLCJlbmRFdmVudCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiZ2V0Wm9vbVNjYWxlIiwib25Nb3VzZURvd24iLCJidXR0b24iLCJvbk1vdXNlVXAiLCJkaXNwYXRjaEV2ZW50Iiwic3ViVmVjdG9ycyIsIm9uTW91c2VXaGVlbCIsInN0b3BQcm9wYWdhdGlvbiIsImRlbHRhIiwid2hlZWxEZWx0YSIsImRldGFpbCIsIm9uS2V5RG93biIsInRvdWNoc3RhcnQiLCJ0b3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsImR4IiwiZHkiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsImNvbnRleHRtZW51IiwicmVzZXQiLCJFdmVudERpc3BhdGNoZXIiLCJub1pvb20iLCJub1JvdGF0ZSIsIm5vUGFuIiwibm9LZXlzIiwic3RhdGljTW92aW5nIiwiZHluYW1pY0RhbXBpbmdGYWN0b3IiXSwibWFwcGluZ3MiOiI7d2ZBaUJFQSxRQUFRQyxJQUFJLDJDQUVaQyxpQkFBZSxFQUdqQixXQUVFLEdBQUtDLGdCQUVFLENBTU8sSUFBSUMsTUFBaEIsTUFHTUMsRUFBU0MsU0FBU0MsY0FBYyxnQkFHaENDLEVBQVEsSUFBSUMsUUFJWkMsRUFBaUIsSUFBSUQsa0JBRXpCLEtBRUVFLE9BQU9DLFlBQVcsS0FFaEIsTUFBTUMsRUFBb0JQLFNBQVNDLGNBQWMsZ0JBQy9DTyxhQUFRQyxFQUFnQkMsU0FBU0MsT0FBUSxDQUFFQyxTQUFVLEVBQUdDLE1BQU8sRUFBR0MsTUFBTyxJQUN6RVAsRUFBa0JRLFVBQVVDLElBQUksU0FDaENULEVBQWtCVSxNQUFNQyxVQUFZLEdBQ2hCbEIsU0FBU21CLGVBQWUsaUJBQzlCSixVQUFVSyxPQUFPLFlBQ2hDLEtBRUQsTUFBTUMsRUFBVWIscUJB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Q2JuQixRQUFROFYsS0FBSyw4RUFDYm5SLEtBQUtxRSxZQUFjN0gsSUFJdkJ5dEMsU0FBVSxDQUNSejhCLElBQUssV0FJSCxPQUhBblMsUUFBUThWLEtBQ04sbUZBRU1uUixLQUFLcTFCLGNBR2YzMkIsSUFBSyxTQUFVbEMsR0FDYm5CLFFBQVE4VixLQUNOLGtGQUVGblIsS0FBS3ExQixjQUFnQjc0QixJQUl6QjB0QyxNQUFPLENBQ0wxOEIsSUFBSyxXQUVILE9BREFuUyxRQUFROFYsS0FBSyw2RUFDTG5SLEtBQUswbUMsV0FHZmhvQyxJQUFLLFNBQVVsQyxHQUNibkIsUUFBUThWLEtBQUssNEVBQ2JuUixLQUFLMG1DLFdBQWFscUMsSUFJdEIydEMsT0FBUSxDQUNOMzhCLElBQUssV0FFSCxPQURBblMsUUFBUThWLEtBQUssK0VBQ0xuUixLQUFLNG1DLFlBR2Zsb0MsSUFBSyxTQUFVbEMsR0FDYm5CLFFBQVE4VixLQUFLLDhFQUNiblIsS0FBSzRtQyxZQUFjcHFDLElBSXZCNHRDLGFBQWMsQ0FDWjU4QixJQUFLLFdBSUgsT0FIQW5TLFFBQVE4VixLQUNOLHdGQUVNblIsS0FBS3dtQyxXQUFXamtDLGVBRzFCN0QsSUFBSyxTQUFVbEMsR0FDYm5CLFFBQVE4VixLQUNOLHVGQUVGblIsS0FBS3dtQyxXQUFXamtDLGVBQWlCL0YsSUFJckM2dEMscUJBQXNCLENBQ3BCNzhCLElBQUssV0FJSCxPQUhBblMsUUFBUThWLEtBQ04sNEZBRUtuUixLQUFLd21DLFdBQVdsaUMsZUFHekI1RixJQUFLLFNBQVVsQyxHQUNibkIsUUFBUThWLEtBQ04sNEZBRUZuUixLQUFLd21DLFdBQVdsaUMsY0FBZ0I5SCxNQUsvQjhGLEkiLCJmaWxlIjoibWFpbi5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29uZmlnIGZyb20gJy4vZGF0YS9jb25maWcnO1xuaW1wb3J0IERldGVjdG9yIGZyb20gJy4vdXRpbHMvZGV0ZWN0b3InO1xuaW1wb3J0IE1haW4gZnJvbSAnLi9hcHAvbWFpbic7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSdcbmltcG9ydCB7XG4gIE9yYml0Q29udHJvbHNcbn0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHMuanMnXG5pbXBvcnQgKiBhcyBkYXQgZnJvbSAnZGF0Lmd1aSdcblxuaW1wb3J0IGdzYXAgZnJvbSAnZ3NhcCdcblxuLy8gU3R5bGVzXG5pbXBvcnQgJy4vLi4vY3NzL2FwcC5zY3NzJztcbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tICcuL2FwcC9sb2FkZXJzL0dMVEZMb2FkZXInO1xuXG4vLyBDaGVjayBlbnZpcm9ubWVudCBhbmQgc2V0IHRoZSBDb25maWcgaGVscGVyXG5pZiAoX19FTlZfXyA9PT0gJ2RldicpIHtcbiAgY29uc29sZS5sb2coJy0tLS0tIFJVTk5JTkcgSU4gREVWIEVOVklST05NRU5UISAtLS0tLScpO1xuXG4gIENvbmZpZy5pc0RldiA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gIC8vIENoZWNrIGZvciB3ZWJHTCBjYXBhYmlsaXRpZXNcbiAgaWYgKCFEZXRlY3Rvci53ZWJnbCkge1xuICAgIERldGVjdG9yLmFkZEdldFdlYkdMTWVzc2FnZSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIE9sZFxuICAgIC8vIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWJnbCcpO1xuICAgIC8vIG5ldyBNYWluKGNvbnRhaW5lcik7XG5cbiAgICAvLyBEZWJ1Z1xuICAgIGNvbnN0IGd1aSA9IG5ldyBkYXQuR1VJKClcblxuICAgIC8vIENhbnZhc1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcy53ZWJnbCcpXG5cbiAgICAvLyBTY2VuZVxuICAgIGNvbnN0IHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKClcblxuICAgIC8vIExvYWRlcnNcbiAgICBcbiAgICBjb25zdCBsb2FkaW5nTWFuYWdlciA9IG5ldyBUSFJFRS5Mb2FkaW5nTWFuYWdlcihcbiAgICAgIC8vIExvYWRlZFxuICAgICAgKCkgPT5cbiAgICAgIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IGxvYWRpbmdCYXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvYWRpbmctYmFyJylcbiAgICAgICAgICAgIGdzYXAudG8ob3ZlcmxheU1hdGVyaWFsLnVuaWZvcm1zLnVBbHBoYSwgeyBkdXJhdGlvbjogMywgdmFsdWU6IDAsIGRlbGF5OiAxIH0pXG4gICAgICAgICAgICBsb2FkaW5nQmFyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdlbmRlZCcpXG4gICAgICAgICAgICBsb2FkaW5nQmFyRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnJ1xuICAgICAgICAgICAgbGV0IGh0bWxDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImh0bWxDb250YWluZXJcIik7XG4gICAgICAgICAgICBodG1sQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gICAgICAgIH0sIDUwMClcblxuICAgICAgICAgIGNvbnN0IHRleHRyZXYgPSBnc2FwLnRpbWVsaW5lKCk7XG4gICAgICAgICAgdGV4dHJldi5mcm9tKFwiLnJldmVhbC1saW5lICpcIiwgMS44LCB7XG4gICAgICAgICAgICB5OiAzMDAsXG4gICAgICAgICAgICBlYXNlOiBcInBvd2VyNC5vdXRcIixcbiAgICAgICAgICAgIGRlbGF5OiAxLFxuICAgICAgICAgICAgc2tld1k6IDEwLFxuICAgICAgICAgICAgc3RhZ2dlcjoge1xuICAgICAgICAgICAgICBhbW91bnQ6IDAuMlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICB0ZXh0cmV2LmV2ZW50Q2FsbGJhY2soXCJvbkNvbXBsZXRlXCIsICgpID0+e1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJldmVhbC1saW5lJykuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3JldmVhbC1saW5lJylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgfSxcbiAgXG4gICAgICAvLyBQcm9ncmVzc1xuICAgICAgKGl0ZW1VcmwsIGl0ZW1zTG9hZGVkLCBpdGVtc1RvdGFsKSA9PlxuICAgICAge1xuICAgICAgICBjb25zdCBsb2FkaW5nQmFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkaW5nLWJhcicpXG4gICAgICAgIGNvbnN0IHByb2dyZXNzUmF0aW8gPSBpdGVtc0xvYWRlZCAvIGl0ZW1zVG90YWxcbiAgICAgICAgbG9hZGluZ0JhckVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gYHNjYWxlWCgke3Byb2dyZXNzUmF0aW99KWBcbiAgICAgIH1cbiAgICApXG4gICAgY29uc3QgZ2x0ZkxvYWRlciA9IG5ldyBHTFRGTG9hZGVyKGxvYWRpbmdNYW5hZ2VyKVxuXG5cblxuICAgIC8qKlxuICAgICAqIE1vZGVsc1xuICAgICAqL1xuXG5cbiAgICBjb25zdCBza3VsbEdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKClcbiAgICBsZXQgc2t1bGxNb2RlbCA9IG51bGw7XG4gICAgZ2x0ZkxvYWRlci5sb2FkKFxuICAgICAgJy9hc3NldHMvbW9kZWxzL3NrdWxsLmdsYicsXG4gICAgICAoZ2x0ZikgPT5cbiAgICAgIHtcbiAgICAgICAgY29uc29sZS5sb2coZ2x0ZilcbiAgICAgICAgZ2x0Zi5zY2VuZS50cmF2ZXJzZSgobm9kZSkgPT4ge1xuICAgICAgICAgIGlmICghbm9kZS5pc01lc2gpIHJldHVybjtcbiAgICAgICAgfSlcbiAgICAgICAgZ2x0Zi5zY2VuZS5wb3NpdGlvbi55ID0gMC4yNVxuICAgICAgICBnbHRmLnNjZW5lLnNjYWxlLnNldCgwLjAwMiwwLjAwMiwwLjAwMilcbiAgICAgICAgLy9nbHRmLnNjZW5lLnJvdGF0aW9uLnkgPSBNYXRoLlBJIC8gMy41O1xuICAgICAgICBnbHRmLnNjZW5lLnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gNztcbiAgICAgICAgLy9nbHRmLnNjZW5lLnJvdGF0aW9uLnogPSBNYXRoLlBJIC8gMTU7XG4gICAgICAgIHNrdWxsR3JvdXAuYWRkKGdsdGYuc2NlbmUpXG4gICAgICAgIHNrdWxsTW9kZWwgPSBnbHRmLnNjZW5lXG5cbiAgICAgICAgc2NlbmUuYWRkKGdsdGYuc2NlbmUpXG5cblxuICAgICAgICBjb25zdCBwb2ludExpZ2h0ID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoIDB4ZjEwNGE1LCAzLCAxMDAgKTtcbiAgICAgICAgcG9pbnRMaWdodC5wb3NpdGlvbi5zZXQoIDAsIC01LCAxMCApO1xuICAgICAgICBpZiAoc2t1bGxHcm91cCAhPSBudWxsKXtcbiAgICAgICAgICBwb2ludExpZ2h0Lmxvb2tBdChza3VsbEdyb3VwLnBvc2l0aW9uKVxuICAgICAgICB9XG4gICAgICAgIHNjZW5lLmFkZCggcG9pbnRMaWdodCApO1xuICAgICAgfVxuICAgIClcblxuICAgIGNvbnN0IGxpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCggMHg0MDQwNDAgICk7IC8vIHNvZnQgd2hpdGUgbGlnaHRcbiAgICBzY2VuZS5hZGQoIGxpZ2h0ICk7XG5cbiAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoIDB4ZmZmZmZmLCAxICk7IFxuICAgIHNjZW5lLmFkZCggZGlyZWN0aW9uYWxMaWdodCApO1xuXG4gICAgLy8gY29uc3QgYXhlc0hlbHBlciA9IG5ldyBUSFJFRS5BeGVzSGVscGVyKCA1ICk7XG4gICAgLy8gc2NlbmUuYWRkKCBheGVzSGVscGVyICk7XG5cbiAgICAvKipcbiAgICAgKiBPdmVybGF5XG4gICAgICovXG4gICAgY29uc3Qgb3ZlcmxheUdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMiwgMiwgMSwgMSlcbiAgICBjb25zdCBvdmVybGF5TWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IGBcbiAgICAgICAgICB2b2lkIG1haW4oKVxuICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAxLjApO1xuICAgICAgICAgIH1cbiAgICAgIGAsXG4gICAgICB1bmlmb3JtczpcbiAgICAgIHtcbiAgICAgICAgICB1QWxwaGE6IHsgdmFsdWU6IDEgfVxuICAgICAgfSxcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBgXG4gICAgICB1bmlmb3JtIGZsb2F0IHVBbHBoYTtcbiAgICAgIHZvaWQgbWFpbigpXG4gICAgICB7XG4gICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjAsIDAuMCwgMC4wLCB1QWxwaGEpO1xuICAgICAgfWBcbiAgfSlcbiAgICBjb25zdCBvdmVybGF5ID0gbmV3IFRIUkVFLk1lc2gob3ZlcmxheUdlb21ldHJ5LCBvdmVybGF5TWF0ZXJpYWwpXG4gICAgc2NlbmUuYWRkKG92ZXJsYXkpXG5cblxuXG5cbiAgICAvKipcbiAgICAgKiBPYmplY3RzXG4gICAgICovXG4gICAgLy8gY29uc3Qgd2lyZWZyYW1lUGxhbmUgPSBuZXcgVEhSRUUuTWVzaChcbiAgICAvLyAgIG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDEsIDEsIDIwLCAyMCksXG4gICAgLy8gICBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgIC8vICAgICB3aXJlZnJhbWU6IHRydWUsXG4gICAgLy8gICAgIGNvbG9yOiAnI2EyZjYwOScsXG4gICAgLy8gICB9KVxuICAgIC8vIClcblxuICAgIC8vIGNvbnN0IGdyaWRIZWxwZXIgPSBuZXcgVEhSRUUuR3JpZEhlbHBlciggMTEsIDEwLCAgXCIjZjEwNGE1XCIsIFwiI2YxMDRhNVwiKTtcbiAgICAvLyBncmlkSGVscGVyLm1hdGVyaWFsLm9wYWNpdHkgPSAwLjE7XG4gICAgLy8gZ3JpZEhlbHBlci5wb3NpdGlvbi56ID0gLTU7XG4gICAgLy8gZ3JpZEhlbHBlci5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDI7XG4gICAgLy8gc2NlbmUuYWRkKCBncmlkSGVscGVyICk7XG5cblxuICAgIC8vIGNvbnN0IG9iamVjdDEgPSBuZXcgVEhSRUUuTWVzaChcbiAgICAvLyAgIG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgwLjUsIDE2LCAxNiksXG4gICAgLy8gICBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgIC8vICAgICBjb2xvcjogJyNhMmY2MDknXG4gICAgLy8gICB9KVxuICAgIC8vIClcbiAgICAvLyBvYmplY3QxLnBvc2l0aW9uLnggPSAtMlxuXG4gICAgLy8gY29uc3Qgb2JqZWN0MiA9IG5ldyBUSFJFRS5NZXNoKFxuICAgIC8vICAgbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDAuNSwgMTYsIDE2KSxcbiAgICAvLyAgIG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgLy8gICAgIGNvbG9yOiAnI2EyZjYwOSdcbiAgICAvLyAgIH0pXG4gICAgLy8gKVxuXG4gICAgLy8gY29uc3Qgb2JqZWN0MyA9IG5ldyBUSFJFRS5NZXNoKFxuICAgIC8vICAgbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDAuNSwgMTYsIDE2KSxcbiAgICAvLyAgIG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgLy8gICAgIGNvbG9yOiAnI2EyZjYwOSdcbiAgICAvLyAgIH0pXG4gICAgLy8gKVxuICAgIC8vIG9iamVjdDMucG9zaXRpb24ueCA9IDJcblxuICAgIC8vc2NlbmUuYWRkKG9iamVjdDEsIG9iamVjdDIsIG9iamVjdDMpXG5cbiAgICAvKipcbiAgICAgKiBSYXljYXN0ZXJcbiAgICAgKi9cbiAgICBjb25zdCByYXljYXN0ZXIgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKClcbiAgICBsZXQgY3VycmVudEludGVyc2VjdCA9IG51bGxcbiAgICBjb25zdCByYXlPcmlnaW4gPSBuZXcgVEhSRUUuVmVjdG9yMygtMywgMCwgMClcbiAgICBjb25zdCByYXlEaXJlY3Rpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygxMCwgMCwgMClcbiAgICByYXlEaXJlY3Rpb24ubm9ybWFsaXplKClcblxuICAgIC8vIHJheWNhc3Rlci5zZXQocmF5T3JpZ2luLCByYXlEaXJlY3Rpb24pXG4gICAgY29uc3QgbGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ25hdiA+IC5ob3Zlci10aGlzJyk7XG4gICAgY29uc3QgY3Vyc29yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmN1cnNvcicpO1xuXG4gICAgY29uc3QgYW5pbWF0ZWl0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGNvbnN0IHNwYW4gPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKTtcbiAgICAgIGNvbnN0IHsgb2Zmc2V0WDogeCwgb2Zmc2V0WTogeSB9ID0gZSxcbiAgICAgIHsgb2Zmc2V0V2lkdGg6IHdpZHRoLCBvZmZzZXRIZWlnaHQ6IGhlaWdodCB9ID0gdGhpcyxcblxuICAgICAgbW92ZSA9IDI1LFxuICAgICAgeE1vdmUgPSB4IC8gd2lkdGggKiAobW92ZSAqIDIpIC0gbW92ZSxcbiAgICAgIHlNb3ZlID0geSAvIGhlaWdodCAqIChtb3ZlICogMikgLSBtb3ZlO1xuXG4gICAgICBzcGFuLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHt4TW92ZX1weCwgJHt5TW92ZX1weClgO1xuXG4gICAgICBpZiAoZS50eXBlID09PSAnbW91c2VsZWF2ZScpe1xuICAgICAgICBzcGFuLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICBzaHJpbmtDdXJzb3IoKTtcbiAgICAgIH0gIGVsc2Uge1xuICAgICAgICBleHBhbmRDdXJzb3IoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH07XG5cbiAgICBjb25zdCBzaHJpbmtDdXJzb3IgPSBmdW5jdGlvbigpe1xuICAgICAgY3Vyc29yLmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnNvci1leHBhbmQnKTtcbiAgICB9XG4gICAgY29uc3QgZXhwYW5kQ3Vyc29yID0gZnVuY3Rpb24oKXtcbiAgICAgICAgY3Vyc29yLmNsYXNzTGlzdC5hZGQoJ2N1cnNvci1leHBhbmQnKTtcbiAgICB9XG5cbiAgICBjb25zdCBlZGl0Q3Vyc29yID0gZSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNsaWVudFg6IHgsXG4gICAgICAgIGNsaWVudFk6IHlcbiAgICAgIH0gPSBlO1xuICAgICAgY3Vyc29yLnN0eWxlLmxlZnQgPSB4ICsgJ3B4JztcbiAgICAgIGN1cnNvci5zdHlsZS50b3AgPSB5ICsgJ3B4JztcbiAgICB9O1xuXG4gICAgbGluay5mb3JFYWNoKGIgPT4gYi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBhbmltYXRlaXQpKTtcbiAgICBsaW5rLmZvckVhY2goYiA9PiBiLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBhbmltYXRlaXQpKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZWRpdEN1cnNvcik7XG5cbiAgICAvKipcbiAgICAgKiBTaXplc1xuICAgICAqL1xuICAgIGNvbnN0IHNpemVzID0ge1xuICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICB9XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgLy8gVXBkYXRlIHNpemVzXG4gICAgICBzaXplcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgICBzaXplcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHRcblxuICAgICAgLy8gVXBkYXRlIGNhbWVyYVxuICAgICAgY2FtZXJhLmFzcGVjdCA9IHNpemVzLndpZHRoIC8gc2l6ZXMuaGVpZ2h0XG4gICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpXG5cbiAgICAgIC8vIFVwZGF0ZSByZW5kZXJlclxuICAgICAgcmVuZGVyZXIuc2V0U2l6ZShzaXplcy53aWR0aCwgc2l6ZXMuaGVpZ2h0KVxuICAgICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyhNYXRoLm1pbih3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgMikpXG4gICAgfSlcblxuICAgIC8qKlxuICAgICAqIE1vdXNlXG4gICAgICovXG4gICAgY29uc3QgbW91c2UgPSBuZXcgVEhSRUUuVmVjdG9yMigpXG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGV2ZW50KSA9PiB7XG4gICAgICBtb3VzZS54ID0gZXZlbnQuY2xpZW50WCAvIHNpemVzLndpZHRoICogMiAtIDFcbiAgICAgIG1vdXNlLnkgPSAtKGV2ZW50LmNsaWVudFkgLyBzaXplcy5oZWlnaHQpICogMiArIDFcbiAgICB9KVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGN1cnJlbnRJbnRlcnNlY3QpIHtcbiAgICAgICAgc3dpdGNoIChjdXJyZW50SW50ZXJzZWN0Lm9iamVjdCkge1xuICAgICAgICAgIGNhc2Ugb2JqZWN0MTpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljayBvbiBvYmplY3QgMScpXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgY2FzZSBvYmplY3QyOlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrIG9uIG9iamVjdCAyJylcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICBjYXNlIG9iamVjdDM6XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpY2sgb24gb2JqZWN0IDMnKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvKipcbiAgICAgKiBDYW1lcmFcbiAgICAgKi9cbiAgICAvLyBCYXNlIGNhbWVyYVxuICAgIGNvbnN0IGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg3NSwgc2l6ZXMud2lkdGggLyBzaXplcy5oZWlnaHQsIDAuMSwgMTAwKVxuICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gM1xuICAgIHNjZW5lLmFkZChjYW1lcmEpXG5cbiAgICAvLyBDb250cm9sc1xuICAgIGNvbnN0IGNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHMoY2FtZXJhLCBjYW52YXMpXG4gICAgY29udHJvbHMuZW5hYmxlRGFtcGluZyA9IHRydWVcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcmVyXG4gICAgICovXG4gICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XG4gICAgICBjYW52YXM6IGNhbnZhc1xuICAgIH0pXG4gICAgcmVuZGVyZXIuc2V0U2l6ZShzaXplcy53aWR0aCwgc2l6ZXMuaGVpZ2h0KVxuICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8oTWF0aC5taW4od2luZG93LmRldmljZVBpeGVsUmF0aW8sIDIpKVxuICAgIHJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHgwNzBiMGEsIDEpXG5cbiAgICAvKipcbiAgICAgKiBBbmltYXRlXG4gICAgICovXG4gICAgY29uc3QgY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKVxuXG4gICAgY29uc3QgdGljayA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gY2xvY2suZ2V0RWxhcHNlZFRpbWUoKVxuXG4gICAgICAvLyBBbmltYXRlIG9iamVjdHNcbiAgICAgIGlmIChza3VsbE1vZGVsICE9IG51bGwpXG4gICAgICAgIHNrdWxsTW9kZWwucG9zaXRpb24ueSA9IE1hdGguc2luKGVsYXBzZWRUaW1lICogMC4zKSAqIDAuMTVcbiAgICAgIC8vIG9iamVjdDIucG9zaXRpb24ueSA9IE1hdGguc2luKGVsYXBzZWRUaW1lICogMC44KSAqIDEuNVxuICAgICAgLy8gb2JqZWN0My5wb3NpdGlvbi55ID0gTWF0aC5zaW4oZWxhcHNlZFRpbWUgKiAxLjQpICogMS41XG5cbiAgICAgIC8vIENhc3QgYSByYXkgZnJvbSB0aGUgbW91c2UgYW5kIGhhbmRsZSBldmVudHNcbiAgICAgIHJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKG1vdXNlLCBjYW1lcmEpXG5cbiAgICAgIC8vIGNvbnN0IG9iamVjdHNUb1Rlc3QgPSBbb2JqZWN0MSwgb2JqZWN0Miwgb2JqZWN0M11cbiAgICAgIC8vIGNvbnN0IGludGVyc2VjdHMgPSByYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyhvYmplY3RzVG9UZXN0KVxuXG4gICAgICAvLyBpZiAoaW50ZXJzZWN0cy5sZW5ndGgpIHtcbiAgICAgIC8vICAgaWYgKCFjdXJyZW50SW50ZXJzZWN0KSB7XG4gICAgICAvLyAgICAgY29uc29sZS5sb2coJ21vdXNlIGVudGVyJylcbiAgICAgIC8vICAgfVxuXG4gICAgICAvLyAgIGN1cnJlbnRJbnRlcnNlY3QgPSBpbnRlcnNlY3RzWzBdXG4gICAgICAvLyB9IGVsc2Uge1xuICAgICAgLy8gICBpZiAoY3VycmVudEludGVyc2VjdCkge1xuICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdtb3VzZSBsZWF2ZScpXG4gICAgICAvLyAgIH1cblxuICAgICAgLy8gICBjdXJyZW50SW50ZXJzZWN0ID0gbnVsbFxuICAgICAgLy8gfVxuXG4gICAgICAvLyBVcGRhdGUgY29udHJvbHNcbiAgICAgIGNvbnRyb2xzLnVwZGF0ZSgpXG5cbiAgICAgIC8vIFJlbmRlclxuICAgICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpXG5cbiAgICAgIC8vIENhbGwgdGljayBhZ2FpbiBvbiB0aGUgbmV4dCBmcmFtZVxuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKVxuICAgIH1cblxuICAgIHRpY2soKVxuICB9XG59XG5cbmluaXQoKTsiLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xuXG4vLyBDbGFzcyB0aGF0IGNyZWF0ZXMgYW5kIHVwZGF0ZXMgdGhlIG1haW4gY2FtZXJhXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW1lcmEge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIGNvbnN0IHdpZHRoID0gcmVuZGVyZXIuZG9tRWxlbWVudC53aWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSByZW5kZXJlci5kb21FbGVtZW50LmhlaWdodDtcblxuICAgIC8vIENyZWF0ZSBhbmQgcG9zaXRpb24gYSBQZXJzcGVjdGl2ZSBDYW1lcmFcbiAgICB0aGlzLnRocmVlQ2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKENvbmZpZy5jYW1lcmEuZm92LCB3aWR0aCAvIGhlaWdodCwgQ29uZmlnLmNhbWVyYS5uZWFyLCBDb25maWcuY2FtZXJhLmZhcik7XG4gICAgdGhpcy50aHJlZUNhbWVyYS5wb3NpdGlvbi5zZXQoQ29uZmlnLmNhbWVyYS5wb3NYLCBDb25maWcuY2FtZXJhLnBvc1ksIENvbmZpZy5jYW1lcmEucG9zWik7XG5cbiAgICAvLyBJbml0aWFsIHNpemluZ1xuICAgIHRoaXMudXBkYXRlU2l6ZShyZW5kZXJlcik7XG4gICAgXG4gICAgLy8gTGlzdGVuZXJzXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHRoaXMudXBkYXRlU2l6ZShyZW5kZXJlciksIGZhbHNlKTtcbiAgfVxuXG4gIHVwZGF0ZVNpemUocmVuZGVyZXIpIHtcbiAgICAvLyBVcGRhdGUgY2FtZXJhIGFzcGVjdCByYXRpbyB3aXRoIHdpbmRvdyBhc3BlY3QgcmF0aW9cbiAgICB0aGlzLnRocmVlQ2FtZXJhLmFzcGVjdCA9IHJlbmRlcmVyLmRvbUVsZW1lbnQud2lkdGggLyByZW5kZXJlci5kb21FbGVtZW50LmhlaWdodDtcblxuICAgIC8vIEFsd2F5cyBjYWxsIHVwZGF0ZVByb2plY3Rpb25NYXRyaXggb24gY2FtZXJhIGNoYW5nZVxuICAgIHRoaXMudGhyZWVDYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmltcG9ydCBPcmJpdENvbnRyb2xzIGZyb20gJy4uLy4uL3V0aWxzL29yYml0Q29udHJvbHMnO1xuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XG5cbi8vIENvbnRyb2xzIGJhc2VkIG9uIG9yYml0IGNvbnRyb2xzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9scyB7XG4gIGNvbnN0cnVjdG9yKGNhbWVyYSwgY29udGFpbmVyKSB7XG4gICAgLy8gT3JiaXQgY29udHJvbHMgZmlyc3QgbmVlZHMgdG8gcGFzcyBpbiBUSFJFRSB0byBjb25zdHJ1Y3RvclxuICAgIGNvbnN0IG9yYml0Q29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyhUSFJFRSk7XG4gICAgdGhpcy50aHJlZUNvbnRyb2xzID0gbmV3IG9yYml0Q29udHJvbHMoY2FtZXJhLCBjb250YWluZXIpO1xuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMudGhyZWVDb250cm9scy50YXJnZXQuc2V0KENvbmZpZy5jb250cm9scy50YXJnZXQueCwgQ29uZmlnLmNvbnRyb2xzLnRhcmdldC55LCBDb25maWcuY29udHJvbHMudGFyZ2V0LnopO1xuICAgIHRoaXMudGhyZWVDb250cm9scy5hdXRvUm90YXRlID0gQ29uZmlnLmNvbnRyb2xzLmF1dG9Sb3RhdGU7XG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLmF1dG9Sb3RhdGVTcGVlZCA9IENvbmZpZy5jb250cm9scy5hdXRvUm90YXRlU3BlZWQ7XG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLnJvdGF0ZVNwZWVkID0gQ29uZmlnLmNvbnRyb2xzLnJvdGF0ZVNwZWVkO1xuICAgIHRoaXMudGhyZWVDb250cm9scy56b29tU3BlZWQgPSBDb25maWcuY29udHJvbHMuem9vbVNwZWVkO1xuICAgIHRoaXMudGhyZWVDb250cm9scy5taW5EaXN0YW5jZSA9IENvbmZpZy5jb250cm9scy5taW5EaXN0YW5jZTtcbiAgICB0aGlzLnRocmVlQ29udHJvbHMubWF4RGlzdGFuY2UgPSBDb25maWcuY29udHJvbHMubWF4RGlzdGFuY2U7XG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLm1pblBvbGFyQW5nbGUgPSBDb25maWcuY29udHJvbHMubWluUG9sYXJBbmdsZTtcbiAgICB0aGlzLnRocmVlQ29udHJvbHMubWF4UG9sYXJBbmdsZSA9IENvbmZpZy5jb250cm9scy5tYXhQb2xhckFuZ2xlO1xuICAgIHRoaXMudGhyZWVDb250cm9scy5lbmFibGVEYW1waW5nID0gQ29uZmlnLmNvbnRyb2xzLmVuYWJsZURhbXBpbmc7XG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLmVuYWJsZVpvb20gPSBDb25maWcuY29udHJvbHMuZW5hYmxlWm9vbTtcbiAgICB0aGlzLnRocmVlQ29udHJvbHMuZGFtcGluZ0ZhY3RvciA9IENvbmZpZy5jb250cm9scy5kYW1waW5nRmFjdG9yO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmltcG9ydCBNYXRlcmlhbCBmcm9tICcuL21hdGVyaWFsJztcbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xuXG4vLyBUaGlzIGhlbHBlciBjbGFzcyBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYW5kIHRoZW4gcGxhY2UgZ2VvbWV0cnkgaW4gdGhlIHNjZW5lXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKHNjZW5lKSB7XG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgIHRoaXMuZ2VvID0gbnVsbDtcbiAgfVxuXG4gIG1ha2UodHlwZSkge1xuICAgIGlmKHR5cGUgPT09ICdwbGFuZScpIHtcbiAgICAgIHJldHVybiAod2lkdGgsIGhlaWdodCwgd2lkdGhTZWdtZW50cyA9IDEsIGhlaWdodFNlZ21lbnRzID0gMSkgPT4ge1xuICAgICAgICB0aGlzLmdlbyA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KHdpZHRoLCBoZWlnaHQsIHdpZHRoU2VnbWVudHMsIGhlaWdodFNlZ21lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYodHlwZSA9PT0gJ3NwaGVyZScpIHtcbiAgICAgIHJldHVybiAocmFkaXVzLCB3aWR0aFNlZ21lbnRzID0gMzIsIGhlaWdodFNlZ21lbnRzID0gMzIpID0+IHtcbiAgICAgICAgdGhpcy5nZW8gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkocmFkaXVzLCB3aWR0aFNlZ21lbnRzLCBoZWlnaHRTZWdtZW50cyk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHBsYWNlKHBvc2l0aW9uLCByb3RhdGlvbikge1xuICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKDB4ZWVlZWVlKS5zdGFuZGFyZDtcbiAgICBjb25zdCBtZXNoID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW8sIG1hdGVyaWFsKTtcblxuICAgIC8vIFVzZSBFUzYgc3ByZWFkIHRvIHNldCBwb3NpdGlvbiBhbmQgcm90YXRpb24gZnJvbSBwYXNzZWQgaW4gYXJyYXlcbiAgICBtZXNoLnBvc2l0aW9uLnNldCguLi5wb3NpdGlvbik7XG4gICAgbWVzaC5yb3RhdGlvbi5zZXQoLi4ucm90YXRpb24pO1xuXG4gICAgaWYoQ29uZmlnLnNoYWRvdy5lbmFibGVkKSB7XG4gICAgICBtZXNoLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuc2NlbmUuYWRkKG1lc2gpO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xuXG4vLyBTZXRzIHVwIGFuZCBwbGFjZXMgYWxsIGxpZ2h0cyBpbiBzY2VuZVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlnaHQge1xuICBjb25zdHJ1Y3RvcihzY2VuZSkge1xuICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICAvLyBBbWJpZW50XG4gICAgdGhpcy5hbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KENvbmZpZy5hbWJpZW50TGlnaHQuY29sb3IpO1xuICAgIHRoaXMuYW1iaWVudExpZ2h0LnZpc2libGUgPSBDb25maWcuYW1iaWVudExpZ2h0LmVuYWJsZWQ7XG5cbiAgICAvLyBQb2ludCBsaWdodFxuICAgIHRoaXMucG9pbnRMaWdodCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KENvbmZpZy5wb2ludExpZ2h0LmNvbG9yLCBDb25maWcucG9pbnRMaWdodC5pbnRlbnNpdHksIENvbmZpZy5wb2ludExpZ2h0LmRpc3RhbmNlKTtcbiAgICB0aGlzLnBvaW50TGlnaHQucG9zaXRpb24uc2V0KENvbmZpZy5wb2ludExpZ2h0LngsIENvbmZpZy5wb2ludExpZ2h0LnksIENvbmZpZy5wb2ludExpZ2h0LnopO1xuICAgIHRoaXMucG9pbnRMaWdodC52aXNpYmxlID0gQ29uZmlnLnBvaW50TGlnaHQuZW5hYmxlZDtcblxuICAgIC8vIERpcmVjdGlvbmFsIGxpZ2h0XG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQuY29sb3IsIENvbmZpZy5kaXJlY3Rpb25hbExpZ2h0LmludGVuc2l0eSk7XG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnBvc2l0aW9uLnNldChDb25maWcuZGlyZWN0aW9uYWxMaWdodC54LCBDb25maWcuZGlyZWN0aW9uYWxMaWdodC55LCBDb25maWcuZGlyZWN0aW9uYWxMaWdodC56KTtcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQudmlzaWJsZSA9IENvbmZpZy5kaXJlY3Rpb25hbExpZ2h0LmVuYWJsZWQ7XG5cbiAgICAvLyBTaGFkb3cgbWFwXG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LmNhc3RTaGFkb3cgPSBDb25maWcuc2hhZG93LmVuYWJsZWQ7XG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5iaWFzID0gQ29uZmlnLnNoYWRvdy5iaWFzO1xuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLm5lYXIgPSBDb25maWcuc2hhZG93Lm5lYXI7XG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEuZmFyID0gQ29uZmlnLnNoYWRvdy5mYXI7XG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEubGVmdCA9IENvbmZpZy5zaGFkb3cubGVmdDtcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5yaWdodCA9IENvbmZpZy5zaGFkb3cucmlnaHQ7XG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEudG9wID0gQ29uZmlnLnNoYWRvdy50b3A7XG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEuYm90dG9tID0gQ29uZmlnLnNoYWRvdy5ib3R0b207XG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXBTaXplLndpZHRoID0gQ29uZmlnLnNoYWRvdy5tYXBXaWR0aDtcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gQ29uZmlnLnNoYWRvdy5tYXBIZWlnaHQ7XG5cbiAgICAvLyBTaGFkb3cgY2FtZXJhIGhlbHBlclxuICAgIGlmKENvbmZpZy5pc0Rldikge1xuICAgICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0SGVscGVyID0gbmV3IFRIUkVFLkNhbWVyYUhlbHBlcih0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYSk7XG4gICAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIudmlzaWJsZSA9IENvbmZpZy5zaGFkb3cuaGVscGVyRW5hYmxlZDtcbiAgICB9XG4gICAgLy8gSGVtaXNwaGVyZSBsaWdodFxuICAgIHRoaXMuaGVtaUxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodChDb25maWcuaGVtaUxpZ2h0LmNvbG9yLCBDb25maWcuaGVtaUxpZ2h0Lmdyb3VuZENvbG9yLCBDb25maWcuaGVtaUxpZ2h0LmludGVuc2l0eSk7XG4gICAgdGhpcy5oZW1pTGlnaHQucG9zaXRpb24uc2V0KENvbmZpZy5oZW1pTGlnaHQueCwgQ29uZmlnLmhlbWlMaWdodC55LCBDb25maWcuaGVtaUxpZ2h0LnopO1xuICAgIHRoaXMuaGVtaUxpZ2h0LnZpc2libGUgPSBDb25maWcuaGVtaUxpZ2h0LmVuYWJsZWQ7XG4gIH1cblxuICBwbGFjZShsaWdodE5hbWUpIHtcbiAgICBzd2l0Y2gobGlnaHROYW1lKSB7XG4gICAgICBjYXNlICdhbWJpZW50JzpcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5hbWJpZW50TGlnaHQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnZGlyZWN0aW9uYWwnOlxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmRpcmVjdGlvbmFsTGlnaHQpO1xuICAgICAgICBpZihDb25maWcuaXNEZXYpIHtcbiAgICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdwb2ludCc6XG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucG9pbnRMaWdodCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdoZW1pJzpcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5oZW1pTGlnaHQpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuLy8gVVNlIHRoaXMgY2xhc3MgYXMgYSBoZWxwZXIgdG8gc2V0IHVwIHNvbWUgZGVmYXVsdCBtYXRlcmlhbHNcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hdGVyaWFsIHtcbiAgY29uc3RydWN0b3IoY29sb3IpIHtcbiAgICB0aGlzLmJhc2ljID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgIGNvbG9yLFxuICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZVxuICAgIH0pO1xuXG4gICAgdGhpcy5zdGFuZGFyZCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICBjb2xvcixcbiAgICAgIHNoYWRpbmc6IFRIUkVFLkZsYXRTaGFkaW5nLFxuICAgICAgcm91Z2huZXNzOiAxLFxuICAgICAgbWV0YWxuZXNzOiAwLFxuICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZVxuICAgIH0pO1xuXG4gICAgdGhpcy53aXJlID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHt3aXJlZnJhbWU6IHRydWV9KTtcbiAgfVxufVxuXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xuXG4vLyBNYWluIHdlYkdMIHJlbmRlcmVyIGNsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJlciB7XG4gIGNvbnN0cnVjdG9yKHNjZW5lLCBjb250YWluZXIpIHtcbiAgICAvLyBQcm9wZXJ0aWVzXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuXG4gICAgLy8gQ3JlYXRlIFdlYkdMIHJlbmRlcmVyIGFuZCBzZXQgaXRzIGFudGlhbGlhc1xuICAgIHRoaXMudGhyZWVSZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHthbnRpYWxpYXM6IHRydWV9KTtcblxuICAgIC8vIFNldCBjbGVhciBjb2xvciB0byBmb2cgdG8gZW5hYmxlIGZvZyBvciB0byBoZXggY29sb3IgZm9yIG5vIGZvZ1xuICAgIHRoaXMudGhyZWVSZW5kZXJlci5zZXRDbGVhckNvbG9yKHNjZW5lLmZvZy5jb2xvcik7XG4gICAgdGhpcy50aHJlZVJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pOyAvLyBGb3IgcmV0aW5hXG5cbiAgICAvLyBBcHBlbmRzIGNhbnZhc1xuICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUodGhpcy50aHJlZVJlbmRlcmVyLmRvbUVsZW1lbnQsIGNvbnRhaW5lci5maXJzdENoaWxkKTtcblxuICAgIC8vIFNoYWRvdyBtYXAgb3B0aW9uc1xuICAgIHRoaXMudGhyZWVSZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7XG4gICAgdGhpcy50aHJlZVJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcblxuICAgIC8vIEdldCBhbmlzb3Ryb3B5IGZvciB0ZXh0dXJlc1xuICAgIENvbmZpZy5tYXhBbmlzb3Ryb3B5ID0gdGhpcy50aHJlZVJlbmRlcmVyLmNhcGFiaWxpdGllcy5nZXRNYXhBbmlzb3Ryb3B5KCk7XG5cbiAgICAvLyBJbml0aWFsIHNpemUgdXBkYXRlIHNldCB0byBjYW52YXMgY29udGFpbmVyXG4gICAgdGhpcy51cGRhdGVTaXplKCk7XG5cbiAgICAvLyBMaXN0ZW5lcnNcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gdGhpcy51cGRhdGVTaXplKCksIGZhbHNlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gdGhpcy51cGRhdGVTaXplKCksIGZhbHNlKTtcbiAgfVxuXG4gIHVwZGF0ZVNpemUoKSB7XG4gICAgdGhpcy50aHJlZVJlbmRlcmVyLnNldFNpemUodGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGgsIHRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodCk7XG4gIH1cblxuICByZW5kZXIoc2NlbmUsIGNhbWVyYSkge1xuICAgIC8vIFJlbmRlcnMgc2NlbmUgdG8gY2FudmFzIHRhcmdldFxuICAgIHRoaXMudGhyZWVSZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IFZlcnRleE5vcm1hbHNIZWxwZXIgfSBmcm9tICcuL3ZlcnRleE5vcm1hbHNIZWxwZXInO1xuXG4vLyBTaW1wbGUgbWVzaCBoZWxwZXIgdGhhdCBzaG93cyBlZGdlcywgd2lyZWZyYW1lcywgYW5kIGZhY2UgYW5kIHZlcnRleCBub3JtYWxzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZXNoSGVscGVyIHtcbiAgY29uc3RydWN0b3Ioc2NlbmUsIG1lc2gpIHtcbiAgICB0aGlzLm1lc2ggPSBtZXNoO1xuICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcblxuICAgIGNvbnN0IHdpcmVmcmFtZSA9IG5ldyBUSFJFRS5XaXJlZnJhbWVHZW9tZXRyeSh0aGlzLm1lc2guZ2VvbWV0cnkpO1xuICAgIHRoaXMud2lyZUxpbmUgPSBuZXcgVEhSRUUuTGluZVNlZ21lbnRzKHdpcmVmcmFtZSk7XG4gICAgdGhpcy53aXJlTGluZS5tYXRlcmlhbC5kZXB0aFRlc3QgPSBmYWxzZTtcbiAgICB0aGlzLndpcmVMaW5lLm1hdGVyaWFsLm9wYWNpdHkgPSAwLjI1O1xuICAgIHRoaXMud2lyZUxpbmUubWF0ZXJpYWwudHJhbnNwYXJlbnQgPSB0cnVlO1xuXG4gICAgY29uc3QgZWRnZXMgPSBuZXcgVEhSRUUuRWRnZXNHZW9tZXRyeSh0aGlzLm1lc2guZ2VvbWV0cnkpO1xuICAgIHRoaXMuZWRnZXNMaW5lID0gbmV3IFRIUkVFLkxpbmVTZWdtZW50cyhlZGdlcyk7XG4gICAgdGhpcy5lZGdlc0xpbmUubWF0ZXJpYWwuZGVwdGhUZXN0ID0gZmFsc2U7XG4gICAgdGhpcy5lZGdlc0xpbmUubWF0ZXJpYWwub3BhY2l0eSA9IDAuMjU7XG4gICAgdGhpcy5lZGdlc0xpbmUubWF0ZXJpYWwudHJhbnNwYXJlbnQgPSB0cnVlO1xuXG4gICAgdGhpcy52ZXJ0ZXhIZWxwZXIgPSBuZXcgVmVydGV4Tm9ybWFsc0hlbHBlcih0aGlzLm1lc2gsIDIpO1xuICAgIHRoaXMuYm94SGVscGVyID0gbmV3IFRIUkVFLkJveEhlbHBlcih0aGlzLm1lc2gpO1xuICB9XG5cbiAgZW5hYmxlKCkge1xuICAgIHRoaXMubWVzaC5hZGQodGhpcy53aXJlTGluZSk7XG4gICAgdGhpcy5tZXNoLmFkZCh0aGlzLmVkZ2VzTGluZSk7XG5cbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnZlcnRleEhlbHBlcik7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5ib3hIZWxwZXIpO1xuICB9XG5cbiAgZGlzYWJsZSgpIHtcbiAgICB0aGlzLm1lc2gucmVtb3ZlKHRoaXMud2lyZUxpbmUpO1xuICAgIHRoaXMubWVzaC5yZW1vdmUodGhpcy5lZGdlc0xpbmUpO1xuXG4gICAgdGhpcy5zY2VuZS5yZW1vdmUodGhpcy52ZXJ0ZXhIZWxwZXIpO1xuICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMuYm94SGVscGVyKTtcbiAgfVxufVxuIiwiLy8gTG9jYWwgdmFycyBmb3IgclN0YXRzXG5sZXQgclMsIGJTLCBnbFMsIHRTO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0cyB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG5cbiAgc2V0VXAoKSB7XG4gICAgYlMgPSBuZXcgQnJvd3NlclN0YXRzKCk7XG4gICAgZ2xTID0gbmV3IGdsU3RhdHMoKTtcbiAgICB0UyA9IG5ldyB0aHJlZVN0YXRzKHRoaXMucmVuZGVyZXIudGhyZWVSZW5kZXJlcik7XG5cbiAgICByUyA9IG5ldyByU3RhdHMoe1xuICAgICAgQ1NTUGF0aDogJy4vY3NzLycsXG4gICAgICB1c2VyVGltaW5nQVBJOiB0cnVlLFxuICAgICAgdmFsdWVzOiB7XG4gICAgICAgIGZyYW1lOiB7IGNhcHRpb246ICdUb3RhbCBmcmFtZSB0aW1lIChtcyknLCBvdmVyOiAxNiwgYXZlcmFnZTogdHJ1ZSwgYXZnTXM6IDEwMCB9LFxuICAgICAgICBmcHM6IHsgY2FwdGlvbjogJ0ZyYW1lcmF0ZSAoRlBTKScsIGJlbG93OiAzMCB9LFxuICAgICAgICBjYWxsczogeyBjYXB0aW9uOiAnQ2FsbHMgKHRocmVlLmpzKScsIG92ZXI6IDMwMDAgfSxcbiAgICAgICAgcmFmOiB7IGNhcHRpb246ICdUaW1lIHNpbmNlIGxhc3QgckFGIChtcyknLCBhdmVyYWdlOiB0cnVlLCBhdmdNczogMTAwIH0sXG4gICAgICAgIHJzdGF0czogeyBjYXB0aW9uOiAnclN0YXRzIHVwZGF0ZSAobXMpJywgYXZlcmFnZTogdHJ1ZSwgYXZnTXM6IDEwMCB9LFxuICAgICAgICB0ZXh0dXJlOiB7IGNhcHRpb246ICdHZW5UZXgnLCBhdmVyYWdlOiB0cnVlLCBhdmdNczogMTAwIH1cbiAgICAgIH0sXG4gICAgICBncm91cHM6IFtcbiAgICAgICAgeyBjYXB0aW9uOiAnRnJhbWVyYXRlJywgdmFsdWVzOiBbJ2ZwcycsICdyYWYnXSB9LFxuICAgICAgICB7IGNhcHRpb246ICdGcmFtZSBCdWRnZXQnLCB2YWx1ZXM6IFsnZnJhbWUnLCAndGV4dHVyZScsICdzZXR1cCcsICdyZW5kZXInXSB9XG4gICAgICBdLFxuICAgICAgZnJhY3Rpb25zOiBbXG4gICAgICAgIHsgYmFzZTogJ2ZyYW1lJywgc3RlcHM6IFsndGV4dHVyZScsICdzZXR1cCcsICdyZW5kZXInXSB9XG4gICAgICBdLFxuICAgICAgcGx1Z2luczogW2JTLCB0U11cbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBzdGFydCgpIHtcbiAgICByUygnZnJhbWUnKS5zdGFydCgpO1xuICAgIGdsUy5zdGFydCgpO1xuXG4gICAgclMoJ3JBRicpLnRpY2soKTtcbiAgICByUygnRlBTJykuZnJhbWUoKTtcblxuICAgIHJTKCdyZW5kZXInKS5zdGFydCgpO1xuICB9XG5cbiAgc3RhdGljIGVuZCgpIHtcbiAgICByUygncmVuZGVyJykuZW5kKCk7IC8vIHJlbmRlciBmaW5pc2hlZFxuICAgIHJTKCdmcmFtZScpLmVuZCgpOyAvLyBmcmFtZSBmaW5pc2hlZFxuXG4gICAgLy8gTG9jYWwgclN0YXRzIHVwZGF0ZVxuICAgIHJTKCdyU3RhdHMnKS5zdGFydCgpO1xuICAgIHJTKCkudXBkYXRlKCk7XG4gICAgclMoJ3JTdGF0cycpLmVuZCgpO1xuICB9XG59XG4iLCIvKipcbiAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vXG4gKiBAYXV0aG9yIFdlc3RMYW5nbGV5IC8gaHR0cDovL2dpdGh1Yi5jb20vV2VzdExhbmdsZXlcbiAqL1xuXG5pbXBvcnQge1xuICBCdWZmZXJHZW9tZXRyeSxcbiAgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSxcbiAgTGluZVNlZ21lbnRzLFxuICBMaW5lQmFzaWNNYXRlcmlhbCxcbiAgTWF0cml4MyxcbiAgVmVjdG9yMyxcbn0gZnJvbSAndGhyZWUnO1xuXG5jb25zdCBfdjEgPSBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3YyID0gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9ub3JtYWxNYXRyaXggPSBuZXcgTWF0cml4MygpO1xuY29uc3QgX2tleXMgPSBbJ2EnLCAnYicsICdjJ107XG5cbmZ1bmN0aW9uIFZlcnRleE5vcm1hbHNIZWxwZXIob2JqZWN0LCBzaXplLCBoZXgpIHtcbiAgdGhpcy5vYmplY3QgPSBvYmplY3Q7XG4gIHRoaXMuc2l6ZSA9IHNpemUgIT09IHVuZGVmaW5lZCA/IHNpemUgOiAwLjE7XG5cbiAgY29uc3QgY29sb3IgPSBoZXggIT09IHVuZGVmaW5lZCA/IGhleCA6IDB4ZmYwMDAwO1xuXG4gIC8vXG5cbiAgbGV0IG5Ob3JtYWxzID0gMDtcblxuICBjb25zdCBvYmpHZW9tZXRyeSA9IHRoaXMub2JqZWN0Lmdlb21ldHJ5O1xuXG4gIGlmIChvYmpHZW9tZXRyeSAmJiBvYmpHZW9tZXRyeS5pc0dlb21ldHJ5KSB7XG4gICAgbk5vcm1hbHMgPSBvYmpHZW9tZXRyeS5mYWNlcy5sZW5ndGggKiAzO1xuICB9IGVsc2UgaWYgKG9iakdlb21ldHJ5ICYmIG9iakdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpIHtcbiAgICBuTm9ybWFscyA9IG9iakdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFsLmNvdW50O1xuICB9XG5cbiAgLy9cblxuICBjb25zdCBnZW9tZXRyeSA9IG5ldyBCdWZmZXJHZW9tZXRyeSgpO1xuICBjb25zdCBwb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShuTm9ybWFscyAqIDIgKiAzLCAzKTtcblxuICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgcG9zaXRpb25zKTtcblxuICBMaW5lU2VnbWVudHMuY2FsbCh0aGlzLCBnZW9tZXRyeSwgbmV3IExpbmVCYXNpY01hdGVyaWFsKHsgY29sb3I6IGNvbG9yLCB0b25lTWFwcGVkOiBmYWxzZSB9KSk7XG5cbiAgdGhpcy50eXBlID0gJ1ZlcnRleE5vcm1hbHNIZWxwZXInO1xuXG4gIC8vXG5cbiAgdGhpcy5tYXRyaXhBdXRvVXBkYXRlID0gZmFsc2U7XG5cbiAgdGhpcy51cGRhdGUoKTtcbn1cblxuVmVydGV4Tm9ybWFsc0hlbHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKExpbmVTZWdtZW50cy5wcm90b3R5cGUpO1xuVmVydGV4Tm9ybWFsc0hlbHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBWZXJ0ZXhOb3JtYWxzSGVscGVyO1xuXG5WZXJ0ZXhOb3JtYWxzSGVscGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBpZHg7XG4gIHRoaXMub2JqZWN0LnVwZGF0ZU1hdHJpeFdvcmxkKHRydWUpO1xuXG4gIF9ub3JtYWxNYXRyaXguZ2V0Tm9ybWFsTWF0cml4KHRoaXMub2JqZWN0Lm1hdHJpeFdvcmxkKTtcblxuICBjb25zdCBtYXRyaXhXb3JsZCA9IHRoaXMub2JqZWN0Lm1hdHJpeFdvcmxkO1xuICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjtcblxuICAvL1xuXG4gIGNvbnN0IG9iakdlb21ldHJ5ID0gdGhpcy5vYmplY3QuZ2VvbWV0cnk7XG5cbiAgaWYgKG9iakdlb21ldHJ5ICYmIG9iakdlb21ldHJ5LmlzR2VvbWV0cnkpIHtcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IG9iakdlb21ldHJ5LnZlcnRpY2VzO1xuXG4gICAgY29uc3QgZmFjZXMgPSBvYmpHZW9tZXRyeS5mYWNlcztcblxuICAgIGlkeCA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGZhY2VzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3QgZmFjZSA9IGZhY2VzW2ldO1xuXG4gICAgICBmb3IgKGxldCBqID0gMCwgamwgPSBmYWNlLnZlcnRleE5vcm1hbHMubGVuZ3RoOyBqIDwgamw7IGorKykge1xuICAgICAgICBjb25zdCB2ZXJ0ZXggPSB2ZXJ0aWNlc1tmYWNlW19rZXlzW2pdXV07XG4gICAgICAgIGNvbnN0IG5vcm1hbCA9IGZhY2UudmVydGV4Tm9ybWFsc1tqXTtcblxuICAgICAgICBfdjEuY29weSh2ZXJ0ZXgpLmFwcGx5TWF0cml4NChtYXRyaXhXb3JsZCk7XG4gICAgICAgIF92Mi5jb3B5KG5vcm1hbCkuYXBwbHlNYXRyaXgzKF9ub3JtYWxNYXRyaXgpLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKHRoaXMuc2l6ZSkuYWRkKF92MSk7XG5cbiAgICAgICAgcG9zaXRpb24uc2V0WFlaKGlkeCwgX3YxLngsIF92MS55LCBfdjEueik7XG5cbiAgICAgICAgaWR4ID0gaWR4ICsgMTtcblxuICAgICAgICBwb3NpdGlvbi5zZXRYWVooaWR4LCBfdjIueCwgX3YyLnksIF92Mi56KTtcblxuICAgICAgICBpZHggPSBpZHggKyAxO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChvYmpHZW9tZXRyeSAmJiBvYmpHZW9tZXRyeS5pc0J1ZmZlckdlb21ldHJ5KSB7XG4gICAgY29uc3Qgb2JqUG9zID0gb2JqR2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjtcbiAgICBjb25zdCBvYmpOb3JtID0gb2JqR2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWw7XG5cbiAgICBpZHggPSAwO1xuXG4gICAgLy8gZm9yIHNpbXBsaWNpdHksIGlnbm9yZSBpbmRleCBhbmQgZHJhd2NhbGxzLCBhbmQgcmVuZGVyIGV2ZXJ5IG5vcm1hbFxuXG4gICAgZm9yICh2YXIgaiA9IDAsIGpsID0gb2JqUG9zLmNvdW50OyBqIDwgamw7IGorKykge1xuICAgICAgX3YxLnNldChvYmpQb3MuZ2V0WChqKSwgb2JqUG9zLmdldFkoaiksIG9ialBvcy5nZXRaKGopKS5hcHBseU1hdHJpeDQobWF0cml4V29ybGQpO1xuICAgICAgX3YyLnNldChvYmpOb3JtLmdldFgoaiksIG9iak5vcm0uZ2V0WShqKSwgb2JqTm9ybS5nZXRaKGopKTtcbiAgICAgIF92Mi5hcHBseU1hdHJpeDMoX25vcm1hbE1hdHJpeCkubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIodGhpcy5zaXplKS5hZGQoX3YxKTtcblxuICAgICAgcG9zaXRpb24uc2V0WFlaKGlkeCwgX3YxLngsIF92MS55LCBfdjEueik7XG5cbiAgICAgIGlkeCA9IGlkeCArIDE7XG5cbiAgICAgIHBvc2l0aW9uLnNldFhZWihpZHgsIF92Mi54LCBfdjIueSwgX3YyLnopO1xuXG4gICAgICBpZHggPSBpZHggKyAxO1xuICAgIH1cbiAgfVxuXG4gIHBvc2l0aW9uLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbn07XG5cbmV4cG9ydCB7IFZlcnRleE5vcm1hbHNIZWxwZXIgfTtcbiIsIi8qKlxuICogQGF1dGhvciBSaWNoIFRpYmJldHQgLyBodHRwczovL2dpdGh1Yi5jb20vcmljaHRyXG4gKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xuICogQGF1dGhvciBUb255IFBhcmlzaSAvIGh0dHA6Ly93d3cudG9ueXBhcmlzaS5jb20vXG4gKiBAYXV0aG9yIFRha2FoaXJvIC8gaHR0cHM6Ly9naXRodWIuY29tL3Rha2FoaXJveFxuICogQGF1dGhvciBEb24gTWNDdXJkeSAvIGh0dHBzOi8vd3d3LmRvbm1jY3VyZHkuY29tXG4gKi9cblxuaW1wb3J0IHtcbiAgQW5pbWF0aW9uQ2xpcCxcbiAgQm9uZSxcbiAgQm94MyxcbiAgQnVmZmVyQXR0cmlidXRlLFxuICBCdWZmZXJHZW9tZXRyeSxcbiAgQ2xhbXBUb0VkZ2VXcmFwcGluZyxcbiAgQ29sb3IsXG4gIERpcmVjdGlvbmFsTGlnaHQsXG4gIERvdWJsZVNpZGUsXG4gIEZpbGVMb2FkZXIsXG4gIEZyb250U2lkZSxcbiAgR3JvdXAsXG4gIEludGVybGVhdmVkQnVmZmVyLFxuICBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSxcbiAgSW50ZXJwb2xhbnQsXG4gIEludGVycG9sYXRlRGlzY3JldGUsXG4gIEludGVycG9sYXRlTGluZWFyLFxuICBMaW5lLFxuICBMaW5lQmFzaWNNYXRlcmlhbCxcbiAgTGluZUxvb3AsXG4gIExpbmVTZWdtZW50cyxcbiAgTGluZWFyRmlsdGVyLFxuICBMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXIsXG4gIExpbmVhck1pcG1hcE5lYXJlc3RGaWx0ZXIsXG4gIExvYWRlcixcbiAgTG9hZGVyVXRpbHMsXG4gIE1hdGVyaWFsLFxuICBNYXRoVXRpbHMsXG4gIE1hdHJpeDQsXG4gIE1lc2gsXG4gIE1lc2hCYXNpY01hdGVyaWFsLFxuICBNZXNoUGh5c2ljYWxNYXRlcmlhbCxcbiAgTWVzaFN0YW5kYXJkTWF0ZXJpYWwsXG4gIE1pcnJvcmVkUmVwZWF0V3JhcHBpbmcsXG4gIE5lYXJlc3RGaWx0ZXIsXG4gIE5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXIsXG4gIE5lYXJlc3RNaXBtYXBOZWFyZXN0RmlsdGVyLFxuICBOdW1iZXJLZXlmcmFtZVRyYWNrLFxuICBPYmplY3QzRCxcbiAgT3J0aG9ncmFwaGljQ2FtZXJhLFxuICBQZXJzcGVjdGl2ZUNhbWVyYSxcbiAgUG9pbnRMaWdodCxcbiAgUG9pbnRzLFxuICBQb2ludHNNYXRlcmlhbCxcbiAgUHJvcGVydHlCaW5kaW5nLFxuICBRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjayxcbiAgUkdCQUZvcm1hdCxcbiAgUkdCRm9ybWF0LFxuICBSZXBlYXRXcmFwcGluZyxcbiAgU2tlbGV0b24sXG4gIFNraW5uZWRNZXNoLFxuICBTcGhlcmUsXG4gIFNwb3RMaWdodCxcbiAgVGFuZ2VudFNwYWNlTm9ybWFsTWFwLFxuICBUZXh0dXJlTG9hZGVyLFxuICBUcmlhbmdsZUZhbkRyYXdNb2RlLFxuICBUcmlhbmdsZVN0cmlwRHJhd01vZGUsXG4gIFZlY3RvcjIsXG4gIFZlY3RvcjMsXG4gIFZlY3RvcktleWZyYW1lVHJhY2ssXG4gIHNSR0JFbmNvZGluZ1xufSBmcm9tICd0aHJlZSc7XG5cbmNvbnN0IEdMVEZMb2FkZXIgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHTFRGTG9hZGVyKG1hbmFnZXIpIHtcbiAgICBMb2FkZXIuY2FsbCh0aGlzLCBtYW5hZ2VyKTtcblxuICAgIHRoaXMuZHJhY29Mb2FkZXIgPSBudWxsO1xuICAgIHRoaXMuZGRzTG9hZGVyID0gbnVsbDtcbiAgfVxuXG4gIEdMVEZMb2FkZXIucHJvdG90eXBlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKExvYWRlci5wcm90b3R5cGUpLCB7XG4gICAgY29uc3RydWN0b3I6IEdMVEZMb2FkZXIsXG5cbiAgICBsb2FkOiBmdW5jdGlvbiAodXJsLCBvbkxvYWQsIG9uUHJvZ3Jlc3MsIG9uRXJyb3IpIHtcbiAgICAgIHZhciBzY29wZSA9IHRoaXM7XG5cbiAgICAgIHZhciByZXNvdXJjZVBhdGg7XG5cbiAgICAgIGlmICh0aGlzLnJlc291cmNlUGF0aCAhPT0gJycpIHtcbiAgICAgICAgcmVzb3VyY2VQYXRoID0gdGhpcy5yZXNvdXJjZVBhdGg7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucGF0aCAhPT0gJycpIHtcbiAgICAgICAgcmVzb3VyY2VQYXRoID0gdGhpcy5wYXRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb3VyY2VQYXRoID0gTG9hZGVyVXRpbHMuZXh0cmFjdFVybEJhc2UodXJsKTtcbiAgICAgIH1cblxuICAgICAgLy8gVGVsbHMgdGhlIExvYWRpbmdNYW5hZ2VyIHRvIHRyYWNrIGFuIGV4dHJhIGl0ZW0sIHdoaWNoIHJlc29sdmVzIGFmdGVyXG4gICAgICAvLyB0aGUgbW9kZWwgaXMgZnVsbHkgbG9hZGVkLiBUaGlzIG1lYW5zIHRoZSBjb3VudCBvZiBpdGVtcyBsb2FkZWQgd2lsbFxuICAgICAgLy8gYmUgaW5jb3JyZWN0LCBidXQgZW5zdXJlcyBtYW5hZ2VyLm9uTG9hZCgpIGRvZXMgbm90IGZpcmUgZWFybHkuXG4gICAgICBzY29wZS5tYW5hZ2VyLml0ZW1TdGFydCh1cmwpO1xuXG4gICAgICB2YXIgX29uRXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAob25FcnJvcikge1xuICAgICAgICAgIG9uRXJyb3IoZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLm1hbmFnZXIuaXRlbUVycm9yKHVybCk7XG4gICAgICAgIHNjb3BlLm1hbmFnZXIuaXRlbUVuZCh1cmwpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGxvYWRlciA9IG5ldyBGaWxlTG9hZGVyKHNjb3BlLm1hbmFnZXIpO1xuXG4gICAgICBsb2FkZXIuc2V0UGF0aCh0aGlzLnBhdGgpO1xuICAgICAgbG9hZGVyLnNldFJlc3BvbnNlVHlwZSgnYXJyYXlidWZmZXInKTtcblxuICAgICAgaWYgKHNjb3BlLmNyb3NzT3JpZ2luID09PSAndXNlLWNyZWRlbnRpYWxzJykge1xuICAgICAgICBsb2FkZXIuc2V0V2l0aENyZWRlbnRpYWxzKHRydWUpO1xuICAgICAgfVxuXG4gICAgICBsb2FkZXIubG9hZChcbiAgICAgICAgdXJsLFxuICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzY29wZS5wYXJzZShcbiAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgcmVzb3VyY2VQYXRoLFxuICAgICAgICAgICAgICBmdW5jdGlvbiAoZ2x0Zikge1xuICAgICAgICAgICAgICAgIG9uTG9hZChnbHRmKTtcblxuICAgICAgICAgICAgICAgIHNjb3BlLm1hbmFnZXIuaXRlbUVuZCh1cmwpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBfb25FcnJvclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBfb25FcnJvcihlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uUHJvZ3Jlc3MsXG4gICAgICAgIF9vbkVycm9yXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBzZXREUkFDT0xvYWRlcjogZnVuY3Rpb24gKGRyYWNvTG9hZGVyKSB7XG4gICAgICB0aGlzLmRyYWNvTG9hZGVyID0gZHJhY29Mb2FkZXI7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgc2V0RERTTG9hZGVyOiBmdW5jdGlvbiAoZGRzTG9hZGVyKSB7XG4gICAgICB0aGlzLmRkc0xvYWRlciA9IGRkc0xvYWRlcjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBwYXJzZTogZnVuY3Rpb24gKGRhdGEsIHBhdGgsIG9uTG9hZCwgb25FcnJvcikge1xuICAgICAgdmFyIGNvbnRlbnQ7XG4gICAgICB2YXIgZXh0ZW5zaW9ucyA9IHt9O1xuXG4gICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnRlbnQgPSBkYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG1hZ2ljID0gTG9hZGVyVXRpbHMuZGVjb2RlVGV4dChuZXcgVWludDhBcnJheShkYXRhLCAwLCA0KSk7XG5cbiAgICAgICAgaWYgKG1hZ2ljID09PSBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9NQUdJQykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBleHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0JJTkFSWV9HTFRGXSA9IG5ldyBHTFRGQmluYXJ5RXh0ZW5zaW9uKGRhdGEpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAob25FcnJvcikgb25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGVudCA9IGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfQklOQVJZX0dMVEZdLmNvbnRlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGVudCA9IExvYWRlclV0aWxzLmRlY29kZVRleHQobmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShjb250ZW50KTtcblxuICAgICAgaWYgKGpzb24uYXNzZXQgPT09IHVuZGVmaW5lZCB8fCBqc29uLmFzc2V0LnZlcnNpb25bMF0gPCAyKSB7XG4gICAgICAgIGlmIChvbkVycm9yKVxuICAgICAgICAgIG9uRXJyb3IoXG4gICAgICAgICAgICBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGFzc2V0LiBnbFRGIHZlcnNpb25zID49Mi4wIGFyZSBzdXBwb3J0ZWQuJylcbiAgICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChqc29uLmV4dGVuc2lvbnNVc2VkKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwganNvbi5leHRlbnNpb25zVXNlZC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIHZhciBleHRlbnNpb25OYW1lID0ganNvbi5leHRlbnNpb25zVXNlZFtpXTtcbiAgICAgICAgICB2YXIgZXh0ZW5zaW9uc1JlcXVpcmVkID0ganNvbi5leHRlbnNpb25zUmVxdWlyZWQgfHwgW107XG5cbiAgICAgICAgICBzd2l0Y2ggKGV4dGVuc2lvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMOlxuICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gbmV3IEdMVEZMaWdodHNFeHRlbnNpb24oanNvbik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19DTEVBUkNPQVQ6XG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURk1hdGVyaWFsc0NsZWFyY29hdEV4dGVuc2lvbigpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfVU5MSVQ6XG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURk1hdGVyaWFsc1VubGl0RXh0ZW5zaW9uKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTUzpcbiAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGTWF0ZXJpYWxzUGJyU3BlY3VsYXJHbG9zc2luZXNzRXh0ZW5zaW9uKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT046XG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURkRyYWNvTWVzaENvbXByZXNzaW9uRXh0ZW5zaW9uKFxuICAgICAgICAgICAgICAgIGpzb24sXG4gICAgICAgICAgICAgICAgdGhpcy5kcmFjb0xvYWRlclxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBFWFRFTlNJT05TLk1TRlRfVEVYVFVSRV9ERFM6XG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURlRleHR1cmVERFNFeHRlbnNpb24odGhpcy5kZHNMb2FkZXIpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STTpcbiAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGVGV4dHVyZVRyYW5zZm9ybUV4dGVuc2lvbigpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBFWFRFTlNJT05TLktIUl9NRVNIX1FVQU5USVpBVElPTjpcbiAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGTWVzaFF1YW50aXphdGlvbkV4dGVuc2lvbigpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgaWYgKGV4dGVuc2lvbnNSZXF1aXJlZC5pbmRleE9mKGV4dGVuc2lvbk5hbWUpID49IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IFVua25vd24gZXh0ZW5zaW9uIFwiJyArIGV4dGVuc2lvbk5hbWUgKyAnXCIuJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHBhcnNlciA9IG5ldyBHTFRGUGFyc2VyKGpzb24sIGV4dGVuc2lvbnMsIHtcbiAgICAgICAgcGF0aDogcGF0aCB8fCB0aGlzLnJlc291cmNlUGF0aCB8fCAnJyxcbiAgICAgICAgY3Jvc3NPcmlnaW46IHRoaXMuY3Jvc3NPcmlnaW4sXG4gICAgICAgIG1hbmFnZXI6IHRoaXMubWFuYWdlclxuICAgICAgfSk7XG5cbiAgICAgIHBhcnNlci5wYXJzZShvbkxvYWQsIG9uRXJyb3IpO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qIEdMVEZSRUdJU1RSWSAqL1xuXG4gIGZ1bmN0aW9uIEdMVEZSZWdpc3RyeSgpIHtcbiAgICB2YXIgb2JqZWN0cyA9IHt9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0c1trZXldO1xuICAgICAgfSxcblxuICAgICAgYWRkOiBmdW5jdGlvbiAoa2V5LCBvYmplY3QpIHtcbiAgICAgICAgb2JqZWN0c1trZXldID0gb2JqZWN0O1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSBvYmplY3RzW2tleV07XG4gICAgICB9LFxuXG4gICAgICByZW1vdmVBbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb2JqZWN0cyA9IHt9O1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLyoqKioqKioqKiogRVhURU5TSU9OUyAqKioqKioqKioqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICB2YXIgRVhURU5TSU9OUyA9IHtcbiAgICBLSFJfQklOQVJZX0dMVEY6ICdLSFJfYmluYXJ5X2dsVEYnLFxuICAgIEtIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OOiAnS0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb24nLFxuICAgIEtIUl9MSUdIVFNfUFVOQ1RVQUw6ICdLSFJfbGlnaHRzX3B1bmN0dWFsJyxcbiAgICBLSFJfTUFURVJJQUxTX0NMRUFSQ09BVDogJ0tIUl9tYXRlcmlhbHNfY2xlYXJjb2F0JyxcbiAgICBLSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTOiAnS0hSX21hdGVyaWFsc19wYnJTcGVjdWxhckdsb3NzaW5lc3MnLFxuICAgIEtIUl9NQVRFUklBTFNfVU5MSVQ6ICdLSFJfbWF0ZXJpYWxzX3VubGl0JyxcbiAgICBLSFJfVEVYVFVSRV9UUkFOU0ZPUk06ICdLSFJfdGV4dHVyZV90cmFuc2Zvcm0nLFxuICAgIEtIUl9NRVNIX1FVQU5USVpBVElPTjogJ0tIUl9tZXNoX3F1YW50aXphdGlvbicsXG4gICAgTVNGVF9URVhUVVJFX0REUzogJ01TRlRfdGV4dHVyZV9kZHMnXG4gIH07XG5cbiAgLyoqXG4gICAqIEREUyBUZXh0dXJlIEV4dGVuc2lvblxuICAgKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvVmVuZG9yL01TRlRfdGV4dHVyZV9kZHNcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIEdMVEZUZXh0dXJlRERTRXh0ZW5zaW9uKGRkc0xvYWRlcikge1xuICAgIGlmICghZGRzTG9hZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUSFJFRS5HTFRGTG9hZGVyOiBBdHRlbXB0aW5nIHRvIGxvYWQgLmRkcyB0ZXh0dXJlIHdpdGhvdXQgaW1wb3J0aW5nIEREU0xvYWRlcidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5NU0ZUX1RFWFRVUkVfRERTO1xuICAgIHRoaXMuZGRzTG9hZGVyID0gZGRzTG9hZGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1bmN0dWFsIExpZ2h0cyBFeHRlbnNpb25cbiAgICpcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX2xpZ2h0c19wdW5jdHVhbFxuICAgKi9cbiAgZnVuY3Rpb24gR0xURkxpZ2h0c0V4dGVuc2lvbihqc29uKSB7XG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMO1xuXG4gICAgdmFyIGV4dGVuc2lvbiA9IChqc29uLmV4dGVuc2lvbnMgJiYganNvbi5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTF0pIHx8IHt9O1xuICAgIHRoaXMubGlnaHREZWZzID0gZXh0ZW5zaW9uLmxpZ2h0cyB8fCBbXTtcbiAgfVxuXG4gIEdMVEZMaWdodHNFeHRlbnNpb24ucHJvdG90eXBlLmxvYWRMaWdodCA9IGZ1bmN0aW9uIChsaWdodEluZGV4KSB7XG4gICAgdmFyIGxpZ2h0RGVmID0gdGhpcy5saWdodERlZnNbbGlnaHRJbmRleF07XG4gICAgdmFyIGxpZ2h0Tm9kZTtcblxuICAgIHZhciBjb2xvciA9IG5ldyBDb2xvcigweGZmZmZmZik7XG4gICAgaWYgKGxpZ2h0RGVmLmNvbG9yICE9PSB1bmRlZmluZWQpIGNvbG9yLmZyb21BcnJheShsaWdodERlZi5jb2xvcik7XG5cbiAgICB2YXIgcmFuZ2UgPSBsaWdodERlZi5yYW5nZSAhPT0gdW5kZWZpbmVkID8gbGlnaHREZWYucmFuZ2UgOiAwO1xuXG4gICAgc3dpdGNoIChsaWdodERlZi50eXBlKSB7XG4gICAgICBjYXNlICdkaXJlY3Rpb25hbCc6XG4gICAgICAgIGxpZ2h0Tm9kZSA9IG5ldyBEaXJlY3Rpb25hbExpZ2h0KGNvbG9yKTtcbiAgICAgICAgbGlnaHROb2RlLnRhcmdldC5wb3NpdGlvbi5zZXQoMCwgMCwgLTEpO1xuICAgICAgICBsaWdodE5vZGUuYWRkKGxpZ2h0Tm9kZS50YXJnZXQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAncG9pbnQnOlxuICAgICAgICBsaWdodE5vZGUgPSBuZXcgUG9pbnRMaWdodChjb2xvcik7XG4gICAgICAgIGxpZ2h0Tm9kZS5kaXN0YW5jZSA9IHJhbmdlO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc3BvdCc6XG4gICAgICAgIGxpZ2h0Tm9kZSA9IG5ldyBTcG90TGlnaHQoY29sb3IpO1xuICAgICAgICBsaWdodE5vZGUuZGlzdGFuY2UgPSByYW5nZTtcbiAgICAgICAgLy8gSGFuZGxlIHNwb3RsaWdodCBwcm9wZXJ0aWVzLlxuICAgICAgICBsaWdodERlZi5zcG90ID0gbGlnaHREZWYuc3BvdCB8fCB7fTtcbiAgICAgICAgbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSA9XG4gICAgICAgICAgbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSAhPT0gdW5kZWZpbmVkID8gbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSA6IDA7XG4gICAgICAgIGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGUgPVxuICAgICAgICAgIGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGUgIT09IHVuZGVmaW5lZCA/IGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGUgOiBNYXRoLlBJIC8gNC4wO1xuICAgICAgICBsaWdodE5vZGUuYW5nbGUgPSBsaWdodERlZi5zcG90Lm91dGVyQ29uZUFuZ2xlO1xuICAgICAgICBsaWdodE5vZGUucGVudW1icmEgPSAxLjAgLSBsaWdodERlZi5zcG90LmlubmVyQ29uZUFuZ2xlIC8gbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZTtcbiAgICAgICAgbGlnaHROb2RlLnRhcmdldC5wb3NpdGlvbi5zZXQoMCwgMCwgLTEpO1xuICAgICAgICBsaWdodE5vZGUuYWRkKGxpZ2h0Tm9kZS50YXJnZXQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBVbmV4cGVjdGVkIGxpZ2h0IHR5cGUsIFwiJyArIGxpZ2h0RGVmLnR5cGUgKyAnXCIuJyk7XG4gICAgfVxuXG4gICAgLy8gU29tZSBsaWdodHMgKGUuZy4gc3BvdCkgZGVmYXVsdCB0byBhIHBvc2l0aW9uIG90aGVyIHRoYW4gdGhlIG9yaWdpbi4gUmVzZXQgdGhlIHBvc2l0aW9uXG4gICAgLy8gaGVyZSwgYmVjYXVzZSBub2RlLWxldmVsIHBhcnNpbmcgd2lsbCBvbmx5IG92ZXJyaWRlIHBvc2l0aW9uIGlmIGV4cGxpY2l0bHkgc3BlY2lmaWVkLlxuICAgIGxpZ2h0Tm9kZS5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG5cbiAgICBsaWdodE5vZGUuZGVjYXkgPSAyO1xuXG4gICAgaWYgKGxpZ2h0RGVmLmludGVuc2l0eSAhPT0gdW5kZWZpbmVkKSBsaWdodE5vZGUuaW50ZW5zaXR5ID0gbGlnaHREZWYuaW50ZW5zaXR5O1xuXG4gICAgbGlnaHROb2RlLm5hbWUgPSBsaWdodERlZi5uYW1lIHx8ICdsaWdodF8nICsgbGlnaHRJbmRleDtcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobGlnaHROb2RlKTtcbiAgfTtcblxuICAvKipcbiAgICogVW5saXQgTWF0ZXJpYWxzIEV4dGVuc2lvblxuICAgKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX3VubGl0XG4gICAqL1xuICBmdW5jdGlvbiBHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24oKSB7XG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUO1xuICB9XG5cbiAgR0xURk1hdGVyaWFsc1VubGl0RXh0ZW5zaW9uLnByb3RvdHlwZS5nZXRNYXRlcmlhbFR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE1lc2hCYXNpY01hdGVyaWFsO1xuICB9O1xuXG4gIEdMVEZNYXRlcmlhbHNVbmxpdEV4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kUGFyYW1zID0gZnVuY3Rpb24gKFxuICAgIG1hdGVyaWFsUGFyYW1zLFxuICAgIG1hdGVyaWFsRGVmLFxuICAgIHBhcnNlclxuICApIHtcbiAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IgPSBuZXcgQ29sb3IoMS4wLCAxLjAsIDEuMCk7XG4gICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IDEuMDtcblxuICAgIHZhciBtZXRhbGxpY1JvdWdobmVzcyA9IG1hdGVyaWFsRGVmLnBick1ldGFsbGljUm91Z2huZXNzO1xuXG4gICAgaWYgKG1ldGFsbGljUm91Z2huZXNzKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3IpKSB7XG4gICAgICAgIHZhciBhcnJheSA9IG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvcjtcblxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5jb2xvci5mcm9tQXJyYXkoYXJyYXkpO1xuICAgICAgICBtYXRlcmlhbFBhcmFtcy5vcGFjaXR5ID0gYXJyYXlbM107XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnbWFwJywgbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENsZWFyY29hdCBNYXRlcmlhbHMgRXh0ZW5zaW9uXG4gICAqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfY2xlYXJjb2F0XG4gICAqL1xuICBmdW5jdGlvbiBHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uKCkge1xuICAgIHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19DTEVBUkNPQVQ7XG4gIH1cblxuICBHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uLnByb3RvdHlwZS5nZXRNYXRlcmlhbFR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE1lc2hQaHlzaWNhbE1hdGVyaWFsO1xuICB9O1xuXG4gIEdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24ucHJvdG90eXBlLmV4dGVuZFBhcmFtcyA9IGZ1bmN0aW9uIChcbiAgICBtYXRlcmlhbFBhcmFtcyxcbiAgICBtYXRlcmlhbERlZixcbiAgICBwYXJzZXJcbiAgKSB7XG4gICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgIHZhciBleHRlbnNpb24gPSBtYXRlcmlhbERlZi5leHRlbnNpb25zW3RoaXMubmFtZV07XG5cbiAgICBpZiAoZXh0ZW5zaW9uLmNsZWFyY29hdEZhY3RvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBtYXRlcmlhbFBhcmFtcy5jbGVhcmNvYXQgPSBleHRlbnNpb24uY2xlYXJjb2F0RmFjdG9yO1xuICAgIH1cblxuICAgIGlmIChleHRlbnNpb24uY2xlYXJjb2F0VGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnY2xlYXJjb2F0TWFwJywgZXh0ZW5zaW9uLmNsZWFyY29hdFRleHR1cmUpXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChleHRlbnNpb24uY2xlYXJjb2F0Um91Z2huZXNzRmFjdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1hdGVyaWFsUGFyYW1zLmNsZWFyY29hdFJvdWdobmVzcyA9IGV4dGVuc2lvbi5jbGVhcmNvYXRSb3VnaG5lc3NGYWN0b3I7XG4gICAgfVxuXG4gICAgaWYgKGV4dGVuc2lvbi5jbGVhcmNvYXRSb3VnaG5lc3NUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUoXG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMsXG4gICAgICAgICAgJ2NsZWFyY29hdFJvdWdobmVzc01hcCcsXG4gICAgICAgICAgZXh0ZW5zaW9uLmNsZWFyY29hdFJvdWdobmVzc1RleHR1cmVcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZXh0ZW5zaW9uLmNsZWFyY29hdE5vcm1hbFRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcyxcbiAgICAgICAgICAnY2xlYXJjb2F0Tm9ybWFsTWFwJyxcbiAgICAgICAgICBleHRlbnNpb24uY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZVxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICBpZiAoZXh0ZW5zaW9uLmNsZWFyY29hdE5vcm1hbFRleHR1cmUuc2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgc2NhbGUgPSBleHRlbnNpb24uY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZS5zY2FsZTtcblxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5jbGVhcmNvYXROb3JtYWxTY2FsZSA9IG5ldyBWZWN0b3IyKHNjYWxlLCBzY2FsZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpO1xuICB9O1xuXG4gIC8qIEJJTkFSWSBFWFRFTlNJT04gKi9cbiAgdmFyIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX01BR0lDID0gJ2dsVEYnO1xuICB2YXIgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIID0gMTI7XG4gIHZhciBCSU5BUllfRVhURU5TSU9OX0NIVU5LX1RZUEVTID0geyBKU09OOiAweDRlNGY1MzRhLCBCSU46IDB4MDA0ZTQ5NDIgfTtcblxuICBmdW5jdGlvbiBHTFRGQmluYXJ5RXh0ZW5zaW9uKGRhdGEpIHtcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURjtcbiAgICB0aGlzLmNvbnRlbnQgPSBudWxsO1xuICAgIHRoaXMuYm9keSA9IG51bGw7XG5cbiAgICB2YXIgaGVhZGVyVmlldyA9IG5ldyBEYXRhVmlldyhkYXRhLCAwLCBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9MRU5HVEgpO1xuXG4gICAgdGhpcy5oZWFkZXIgPSB7XG4gICAgICBtYWdpYzogTG9hZGVyVXRpbHMuZGVjb2RlVGV4dChuZXcgVWludDhBcnJheShkYXRhLnNsaWNlKDAsIDQpKSksXG4gICAgICB2ZXJzaW9uOiBoZWFkZXJWaWV3LmdldFVpbnQzMig0LCB0cnVlKSxcbiAgICAgIGxlbmd0aDogaGVhZGVyVmlldy5nZXRVaW50MzIoOCwgdHJ1ZSlcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuaGVhZGVyLm1hZ2ljICE9PSBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9NQUdJQykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBVbnN1cHBvcnRlZCBnbFRGLUJpbmFyeSBoZWFkZXIuJyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmhlYWRlci52ZXJzaW9uIDwgMi4wKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IExlZ2FjeSBiaW5hcnkgZmlsZSBkZXRlY3RlZC4nKTtcbiAgICB9XG5cbiAgICB2YXIgY2h1bmtWaWV3ID0gbmV3IERhdGFWaWV3KGRhdGEsIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCk7XG4gICAgdmFyIGNodW5rSW5kZXggPSAwO1xuXG4gICAgd2hpbGUgKGNodW5rSW5kZXggPCBjaHVua1ZpZXcuYnl0ZUxlbmd0aCkge1xuICAgICAgdmFyIGNodW5rTGVuZ3RoID0gY2h1bmtWaWV3LmdldFVpbnQzMihjaHVua0luZGV4LCB0cnVlKTtcbiAgICAgIGNodW5rSW5kZXggKz0gNDtcblxuICAgICAgdmFyIGNodW5rVHlwZSA9IGNodW5rVmlldy5nZXRVaW50MzIoY2h1bmtJbmRleCwgdHJ1ZSk7XG4gICAgICBjaHVua0luZGV4ICs9IDQ7XG5cbiAgICAgIGlmIChjaHVua1R5cGUgPT09IEJJTkFSWV9FWFRFTlNJT05fQ0hVTktfVFlQRVMuSlNPTikge1xuICAgICAgICB2YXIgY29udGVudEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9MRU5HVEggKyBjaHVua0luZGV4LFxuICAgICAgICAgIGNodW5rTGVuZ3RoXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY29udGVudCA9IExvYWRlclV0aWxzLmRlY29kZVRleHQoY29udGVudEFycmF5KTtcbiAgICAgIH0gZWxzZSBpZiAoY2h1bmtUeXBlID09PSBCSU5BUllfRVhURU5TSU9OX0NIVU5LX1RZUEVTLkJJTikge1xuICAgICAgICB2YXIgYnl0ZU9mZnNldCA9IEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCArIGNodW5rSW5kZXg7XG4gICAgICAgIHRoaXMuYm9keSA9IGRhdGEuc2xpY2UoYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIGNodW5rTGVuZ3RoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xpZW50cyBtdXN0IGlnbm9yZSBjaHVua3Mgd2l0aCB1bmtub3duIHR5cGVzLlxuXG4gICAgICBjaHVua0luZGV4ICs9IGNodW5rTGVuZ3RoO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbnRlbnQgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogSlNPTiBjb250ZW50IG5vdCBmb3VuZC4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRFJBQ08gTWVzaCBDb21wcmVzc2lvbiBFeHRlbnNpb25cbiAgICpcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb25cbiAgICovXG4gIGZ1bmN0aW9uIEdMVEZEcmFjb01lc2hDb21wcmVzc2lvbkV4dGVuc2lvbihqc29uLCBkcmFjb0xvYWRlcikge1xuICAgIGlmICghZHJhY29Mb2FkZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogTm8gRFJBQ09Mb2FkZXIgaW5zdGFuY2UgcHJvdmlkZWQuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTjtcbiAgICB0aGlzLmpzb24gPSBqc29uO1xuICAgIHRoaXMuZHJhY29Mb2FkZXIgPSBkcmFjb0xvYWRlcjtcbiAgICB0aGlzLmRyYWNvTG9hZGVyLnByZWxvYWQoKTtcbiAgfVxuXG4gIEdMVEZEcmFjb01lc2hDb21wcmVzc2lvbkV4dGVuc2lvbi5wcm90b3R5cGUuZGVjb2RlUHJpbWl0aXZlID0gZnVuY3Rpb24gKHByaW1pdGl2ZSwgcGFyc2VyKSB7XG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG4gICAgdmFyIGRyYWNvTG9hZGVyID0gdGhpcy5kcmFjb0xvYWRlcjtcbiAgICB2YXIgYnVmZmVyVmlld0luZGV4ID0gcHJpbWl0aXZlLmV4dGVuc2lvbnNbdGhpcy5uYW1lXS5idWZmZXJWaWV3O1xuICAgIHZhciBnbHRmQXR0cmlidXRlTWFwID0gcHJpbWl0aXZlLmV4dGVuc2lvbnNbdGhpcy5uYW1lXS5hdHRyaWJ1dGVzO1xuICAgIHZhciB0aHJlZUF0dHJpYnV0ZU1hcCA9IHt9O1xuICAgIHZhciBhdHRyaWJ1dGVOb3JtYWxpemVkTWFwID0ge307XG4gICAgdmFyIGF0dHJpYnV0ZVR5cGVNYXAgPSB7fTtcblxuICAgIGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gZ2x0ZkF0dHJpYnV0ZU1hcCkge1xuICAgICAgdmFyIHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbYXR0cmlidXRlTmFtZV0gfHwgYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICB0aHJlZUF0dHJpYnV0ZU1hcFt0aHJlZUF0dHJpYnV0ZU5hbWVdID0gZ2x0ZkF0dHJpYnV0ZU1hcFthdHRyaWJ1dGVOYW1lXTtcbiAgICB9XG5cbiAgICBmb3IgKGF0dHJpYnV0ZU5hbWUgaW4gcHJpbWl0aXZlLmF0dHJpYnV0ZXMpIHtcbiAgICAgIHZhciB0aHJlZUF0dHJpYnV0ZU5hbWUgPSBBVFRSSUJVVEVTW2F0dHJpYnV0ZU5hbWVdIHx8IGF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgaWYgKGdsdGZBdHRyaWJ1dGVNYXBbYXR0cmlidXRlTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgYWNjZXNzb3JEZWYgPSBqc29uLmFjY2Vzc29yc1twcmltaXRpdmUuYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXV07XG4gICAgICAgIHZhciBjb21wb25lbnRUeXBlID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTW2FjY2Vzc29yRGVmLmNvbXBvbmVudFR5cGVdO1xuXG4gICAgICAgIGF0dHJpYnV0ZVR5cGVNYXBbdGhyZWVBdHRyaWJ1dGVOYW1lXSA9IGNvbXBvbmVudFR5cGU7XG4gICAgICAgIGF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXBbdGhyZWVBdHRyaWJ1dGVOYW1lXSA9IGFjY2Vzc29yRGVmLm5vcm1hbGl6ZWQgPT09IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlci5nZXREZXBlbmRlbmN5KCdidWZmZXJWaWV3JywgYnVmZmVyVmlld0luZGV4KS50aGVuKGZ1bmN0aW9uIChidWZmZXJWaWV3KSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgZHJhY29Mb2FkZXIuZGVjb2RlRHJhY29GaWxlKFxuICAgICAgICAgIGJ1ZmZlclZpZXcsXG4gICAgICAgICAgZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBhdHRyaWJ1dGVOYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XG4gICAgICAgICAgICAgIHZhciBub3JtYWxpemVkID0gYXR0cmlidXRlTm9ybWFsaXplZE1hcFthdHRyaWJ1dGVOYW1lXTtcblxuICAgICAgICAgICAgICBpZiAobm9ybWFsaXplZCAhPT0gdW5kZWZpbmVkKSBhdHRyaWJ1dGUubm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc29sdmUoZ2VvbWV0cnkpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdGhyZWVBdHRyaWJ1dGVNYXAsXG4gICAgICAgICAgYXR0cmlidXRlVHlwZU1hcFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRleHR1cmUgVHJhbnNmb3JtIEV4dGVuc2lvblxuICAgKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfdGV4dHVyZV90cmFuc2Zvcm1cbiAgICovXG4gIGZ1bmN0aW9uIEdMVEZUZXh0dXJlVHJhbnNmb3JtRXh0ZW5zaW9uKCkge1xuICAgIHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX1RFWFRVUkVfVFJBTlNGT1JNO1xuICB9XG5cbiAgR0xURlRleHR1cmVUcmFuc2Zvcm1FeHRlbnNpb24ucHJvdG90eXBlLmV4dGVuZFRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZSwgdHJhbnNmb3JtKSB7XG4gICAgdGV4dHVyZSA9IHRleHR1cmUuY2xvbmUoKTtcblxuICAgIGlmICh0cmFuc2Zvcm0ub2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRleHR1cmUub2Zmc2V0LmZyb21BcnJheSh0cmFuc2Zvcm0ub2Zmc2V0KTtcbiAgICB9XG5cbiAgICBpZiAodHJhbnNmb3JtLnJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRleHR1cmUucm90YXRpb24gPSB0cmFuc2Zvcm0ucm90YXRpb247XG4gICAgfVxuXG4gICAgaWYgKHRyYW5zZm9ybS5zY2FsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0ZXh0dXJlLnJlcGVhdC5mcm9tQXJyYXkodHJhbnNmb3JtLnNjYWxlKTtcbiAgICB9XG5cbiAgICBpZiAodHJhbnNmb3JtLnRleENvb3JkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ1RIUkVFLkdMVEZMb2FkZXI6IEN1c3RvbSBVViBzZXRzIGluIFwiJyArIHRoaXMubmFtZSArICdcIiBleHRlbnNpb24gbm90IHlldCBzdXBwb3J0ZWQuJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICB0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuICAgIHJldHVybiB0ZXh0dXJlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjdWxhci1HbG9zc2luZXNzIEV4dGVuc2lvblxuICAgKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX3BiclNwZWN1bGFyR2xvc3NpbmVzc1xuICAgKi9cblxuICAvKipcbiAgICogQSBzdWIgY2xhc3Mgb2YgU3RhbmRhcmRNYXRlcmlhbCB3aXRoIHNvbWUgb2YgdGhlIGZ1bmN0aW9uYWxpdHlcbiAgICogY2hhbmdlZCB2aWEgdGhlIGBvbkJlZm9yZUNvbXBpbGVgIGNhbGxiYWNrXG4gICAqIEBwYWlsaGVhZFxuICAgKi9cblxuICBmdW5jdGlvbiBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbChwYXJhbXMpIHtcbiAgICBNZXNoU3RhbmRhcmRNYXRlcmlhbC5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5pc0dMVEZTcGVjdWxhckdsb3NzaW5lc3NNYXRlcmlhbCA9IHRydWU7XG5cbiAgICAvL3ZhcmlvdXMgY2h1bmtzIHRoYXQgbmVlZCByZXBsYWNpbmdcbiAgICB2YXIgc3BlY3VsYXJNYXBQYXJzRnJhZ21lbnRDaHVuayA9IFtcbiAgICAgICcjaWZkZWYgVVNFX1NQRUNVTEFSTUFQJyxcbiAgICAgICdcdHVuaWZvcm0gc2FtcGxlcjJEIHNwZWN1bGFyTWFwOycsXG4gICAgICAnI2VuZGlmJyxcbiAgICBdLmpvaW4oJ1xcbicpO1xuXG4gICAgdmFyIGdsb3NzaW5lc3NNYXBQYXJzRnJhZ21lbnRDaHVuayA9IFtcbiAgICAgICcjaWZkZWYgVVNFX0dMT1NTSU5FU1NNQVAnLFxuICAgICAgJ1x0dW5pZm9ybSBzYW1wbGVyMkQgZ2xvc3NpbmVzc01hcDsnLFxuICAgICAgJyNlbmRpZicsXG4gICAgXS5qb2luKCdcXG4nKTtcblxuICAgIHZhciBzcGVjdWxhck1hcEZyYWdtZW50Q2h1bmsgPSBbXG4gICAgICAndmVjMyBzcGVjdWxhckZhY3RvciA9IHNwZWN1bGFyOycsXG4gICAgICAnI2lmZGVmIFVTRV9TUEVDVUxBUk1BUCcsXG4gICAgICAnXHR2ZWM0IHRleGVsU3BlY3VsYXIgPSB0ZXh0dXJlMkQoIHNwZWN1bGFyTWFwLCB2VXYgKTsnLFxuICAgICAgJ1x0dGV4ZWxTcGVjdWxhciA9IHNSR0JUb0xpbmVhciggdGV4ZWxTcGVjdWxhciApOycsXG4gICAgICAnXHQvLyByZWFkcyBjaGFubmVsIFJHQiwgY29tcGF0aWJsZSB3aXRoIGEgZ2xURiBTcGVjdWxhci1HbG9zc2luZXNzIChSR0JBKSB0ZXh0dXJlJyxcbiAgICAgICdcdHNwZWN1bGFyRmFjdG9yICo9IHRleGVsU3BlY3VsYXIucmdiOycsXG4gICAgICAnI2VuZGlmJyxcbiAgICBdLmpvaW4oJ1xcbicpO1xuXG4gICAgdmFyIGdsb3NzaW5lc3NNYXBGcmFnbWVudENodW5rID0gW1xuICAgICAgJ2Zsb2F0IGdsb3NzaW5lc3NGYWN0b3IgPSBnbG9zc2luZXNzOycsXG4gICAgICAnI2lmZGVmIFVTRV9HTE9TU0lORVNTTUFQJyxcbiAgICAgICdcdHZlYzQgdGV4ZWxHbG9zc2luZXNzID0gdGV4dHVyZTJEKCBnbG9zc2luZXNzTWFwLCB2VXYgKTsnLFxuICAgICAgJ1x0Ly8gcmVhZHMgY2hhbm5lbCBBLCBjb21wYXRpYmxlIHdpdGggYSBnbFRGIFNwZWN1bGFyLUdsb3NzaW5lc3MgKFJHQkEpIHRleHR1cmUnLFxuICAgICAgJ1x0Z2xvc3NpbmVzc0ZhY3RvciAqPSB0ZXhlbEdsb3NzaW5lc3MuYTsnLFxuICAgICAgJyNlbmRpZicsXG4gICAgXS5qb2luKCdcXG4nKTtcblxuICAgIHZhciBsaWdodFBoeXNpY2FsRnJhZ21lbnRDaHVuayA9IFtcbiAgICAgICdQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsOycsXG4gICAgICAnbWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gZGlmZnVzZUNvbG9yLnJnYjsnLFxuICAgICAgJ3ZlYzMgZHh5ID0gbWF4KCBhYnMoIGRGZHgoIGdlb21ldHJ5Tm9ybWFsICkgKSwgYWJzKCBkRmR5KCBnZW9tZXRyeU5vcm1hbCApICkgKTsnLFxuICAgICAgJ2Zsb2F0IGdlb21ldHJ5Um91Z2huZXNzID0gbWF4KCBtYXgoIGR4eS54LCBkeHkueSApLCBkeHkueiApOycsXG4gICAgICAnbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgPSBtYXgoIDEuMCAtIGdsb3NzaW5lc3NGYWN0b3IsIDAuMDUyNSApOy8vIDAuMDUyNSBjb3JyZXNwb25kcyB0byB0aGUgYmFzZSBtaXAgb2YgYSAyNTYgY3ViZW1hcC4nLFxuICAgICAgJ21hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzICs9IGdlb21ldHJ5Um91Z2huZXNzOycsXG4gICAgICAnbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgPSBtaW4oIG1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzLCAxLjAgKTsnLFxuICAgICAgJ21hdGVyaWFsLnNwZWN1bGFyQ29sb3IgPSBzcGVjdWxhckZhY3Rvci5yZ2I7JyxcbiAgICBdLmpvaW4oJ1xcbicpO1xuXG4gICAgdmFyIHVuaWZvcm1zID0ge1xuICAgICAgc3BlY3VsYXI6IHsgdmFsdWU6IG5ldyBDb2xvcigpLnNldEhleCgweGZmZmZmZikgfSxcbiAgICAgIGdsb3NzaW5lc3M6IHsgdmFsdWU6IDEgfSxcbiAgICAgIHNwZWN1bGFyTWFwOiB7IHZhbHVlOiBudWxsIH0sXG4gICAgICBnbG9zc2luZXNzTWFwOiB7IHZhbHVlOiBudWxsIH0sXG4gICAgfTtcblxuICAgIHRoaXMuX2V4dHJhVW5pZm9ybXMgPSB1bmlmb3JtcztcblxuICAgIC8vIHBsZWFzZSBzZWUgIzE0MDMxIG9yICMxMzE5OCBmb3IgYW4gYWx0ZXJuYXRlIGFwcHJvYWNoXG4gICAgdGhpcy5vbkJlZm9yZUNvbXBpbGUgPSBmdW5jdGlvbiAoc2hhZGVyKSB7XG4gICAgICBmb3IgKHZhciB1bmlmb3JtTmFtZSBpbiB1bmlmb3Jtcykge1xuICAgICAgICBzaGFkZXIudW5pZm9ybXNbdW5pZm9ybU5hbWVdID0gdW5pZm9ybXNbdW5pZm9ybU5hbWVdO1xuICAgICAgfVxuXG4gICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgcm91Z2huZXNzOycsXG4gICAgICAgICd1bmlmb3JtIHZlYzMgc3BlY3VsYXI7J1xuICAgICAgKTtcbiAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFxuICAgICAgICAndW5pZm9ybSBmbG9hdCBtZXRhbG5lc3M7JyxcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgZ2xvc3NpbmVzczsnXG4gICAgICApO1xuICAgICAgc2hhZGVyLmZyYWdtZW50U2hhZGVyID0gc2hhZGVyLmZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXG4gICAgICAgICcjaW5jbHVkZSA8cm91Z2huZXNzbWFwX3BhcnNfZnJhZ21lbnQ+JyxcbiAgICAgICAgc3BlY3VsYXJNYXBQYXJzRnJhZ21lbnRDaHVua1xuICAgICAgKTtcbiAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFxuICAgICAgICAnI2luY2x1ZGUgPG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50PicsXG4gICAgICAgIGdsb3NzaW5lc3NNYXBQYXJzRnJhZ21lbnRDaHVua1xuICAgICAgKTtcbiAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFxuICAgICAgICAnI2luY2x1ZGUgPHJvdWdobmVzc21hcF9mcmFnbWVudD4nLFxuICAgICAgICBzcGVjdWxhck1hcEZyYWdtZW50Q2h1bmtcbiAgICAgICk7XG4gICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcbiAgICAgICAgJyNpbmNsdWRlIDxtZXRhbG5lc3NtYXBfZnJhZ21lbnQ+JyxcbiAgICAgICAgZ2xvc3NpbmVzc01hcEZyYWdtZW50Q2h1bmtcbiAgICAgICk7XG4gICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcbiAgICAgICAgJyNpbmNsdWRlIDxsaWdodHNfcGh5c2ljYWxfZnJhZ21lbnQ+JyxcbiAgICAgICAgbGlnaHRQaHlzaWNhbEZyYWdtZW50Q2h1bmtcbiAgICAgICk7XG4gICAgfTtcblxuICAgIC8qZXNsaW50LWRpc2FibGUqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgIHNwZWN1bGFyOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB1bmlmb3Jtcy5zcGVjdWxhci52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgIHVuaWZvcm1zLnNwZWN1bGFyLnZhbHVlID0gdjtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBzcGVjdWxhck1hcDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdW5pZm9ybXMuc3BlY3VsYXJNYXAudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICB1bmlmb3Jtcy5zcGVjdWxhck1hcC52YWx1ZSA9IHY7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ2xvc3NpbmVzczoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdW5pZm9ybXMuZ2xvc3NpbmVzcy52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgIHVuaWZvcm1zLmdsb3NzaW5lc3MudmFsdWUgPSB2O1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGdsb3NzaW5lc3NNYXA6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHVuaWZvcm1zLmdsb3NzaW5lc3NNYXAudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICB1bmlmb3Jtcy5nbG9zc2luZXNzTWFwLnZhbHVlID0gdjtcbiAgICAgICAgICAvL2hvdyBhYm91dCBzb21ldGhpbmcgbGlrZSB0aGlzIC0gQHBhaWxoZWFkXG4gICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmaW5lcy5VU0VfR0xPU1NJTkVTU01BUCA9ICcnO1xuICAgICAgICAgICAgLy8gc2V0IFVTRV9ST1VHSE5FU1NNQVAgdG8gZW5hYmxlIHZVdlxuICAgICAgICAgICAgdGhpcy5kZWZpbmVzLlVTRV9ST1VHSE5FU1NNQVAgPSAnJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGVmaW5lcy5VU0VfUk9VR0hORVNTTUFQO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGVmaW5lcy5VU0VfR0xPU1NJTkVTU01BUDtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyplc2xpbnQtZW5hYmxlKi9cbiAgICBkZWxldGUgdGhpcy5tZXRhbG5lc3M7XG4gICAgZGVsZXRlIHRoaXMucm91Z2huZXNzO1xuICAgIGRlbGV0ZSB0aGlzLm1ldGFsbmVzc01hcDtcbiAgICBkZWxldGUgdGhpcy5yb3VnaG5lc3NNYXA7XG5cbiAgICB0aGlzLnNldFZhbHVlcyhwYXJhbXMpO1xuICB9XG5cbiAgR0xURk1lc2hTdGFuZGFyZFNHTWF0ZXJpYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNZXNoU3RhbmRhcmRNYXRlcmlhbC5wcm90b3R5cGUpO1xuICBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbDtcblxuICBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICBNZXNoU3RhbmRhcmRNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsIHNvdXJjZSk7XG4gICAgdGhpcy5zcGVjdWxhck1hcCA9IHNvdXJjZS5zcGVjdWxhck1hcDtcbiAgICB0aGlzLnNwZWN1bGFyLmNvcHkoc291cmNlLnNwZWN1bGFyKTtcbiAgICB0aGlzLmdsb3NzaW5lc3NNYXAgPSBzb3VyY2UuZ2xvc3NpbmVzc01hcDtcbiAgICB0aGlzLmdsb3NzaW5lc3MgPSBzb3VyY2UuZ2xvc3NpbmVzcztcbiAgICBkZWxldGUgdGhpcy5tZXRhbG5lc3M7XG4gICAgZGVsZXRlIHRoaXMucm91Z2huZXNzO1xuICAgIGRlbGV0ZSB0aGlzLm1ldGFsbmVzc01hcDtcbiAgICBkZWxldGUgdGhpcy5yb3VnaG5lc3NNYXA7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgZnVuY3Rpb24gR0xURk1hdGVyaWFsc1BiclNwZWN1bGFyR2xvc3NpbmVzc0V4dGVuc2lvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTLFxuXG4gICAgICBzcGVjdWxhckdsb3NzaW5lc3NQYXJhbXM6IFtcbiAgICAgICAgJ2NvbG9yJyxcbiAgICAgICAgJ21hcCcsXG4gICAgICAgICdsaWdodE1hcCcsXG4gICAgICAgICdsaWdodE1hcEludGVuc2l0eScsXG4gICAgICAgICdhb01hcCcsXG4gICAgICAgICdhb01hcEludGVuc2l0eScsXG4gICAgICAgICdlbWlzc2l2ZScsXG4gICAgICAgICdlbWlzc2l2ZUludGVuc2l0eScsXG4gICAgICAgICdlbWlzc2l2ZU1hcCcsXG4gICAgICAgICdidW1wTWFwJyxcbiAgICAgICAgJ2J1bXBTY2FsZScsXG4gICAgICAgICdub3JtYWxNYXAnLFxuICAgICAgICAnbm9ybWFsTWFwVHlwZScsXG4gICAgICAgICdkaXNwbGFjZW1lbnRNYXAnLFxuICAgICAgICAnZGlzcGxhY2VtZW50U2NhbGUnLFxuICAgICAgICAnZGlzcGxhY2VtZW50QmlhcycsXG4gICAgICAgICdzcGVjdWxhck1hcCcsXG4gICAgICAgICdzcGVjdWxhcicsXG4gICAgICAgICdnbG9zc2luZXNzTWFwJyxcbiAgICAgICAgJ2dsb3NzaW5lc3MnLFxuICAgICAgICAnYWxwaGFNYXAnLFxuICAgICAgICAnZW52TWFwJyxcbiAgICAgICAgJ2Vudk1hcEludGVuc2l0eScsXG4gICAgICAgICdyZWZyYWN0aW9uUmF0aW8nLFxuICAgICAgXSxcblxuICAgICAgZ2V0TWF0ZXJpYWxUeXBlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbDtcbiAgICAgIH0sXG5cbiAgICAgIGV4dGVuZFBhcmFtczogZnVuY3Rpb24gKG1hdGVyaWFsUGFyYW1zLCBtYXRlcmlhbERlZiwgcGFyc2VyKSB7XG4gICAgICAgIHZhciBwYnJTcGVjdWxhckdsb3NzaW5lc3MgPSBtYXRlcmlhbERlZi5leHRlbnNpb25zW3RoaXMubmFtZV07XG5cbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IgPSBuZXcgQ29sb3IoMS4wLCAxLjAsIDEuMCk7XG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSAxLjA7XG5cbiAgICAgICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZUZhY3RvcikpIHtcbiAgICAgICAgICB2YXIgYXJyYXkgPSBwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZUZhY3RvcjtcblxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLmNvbG9yLmZyb21BcnJheShhcnJheSk7XG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IGFycmF5WzNdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBiclNwZWN1bGFyR2xvc3NpbmVzcy5kaWZmdXNlVGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUobWF0ZXJpYWxQYXJhbXMsICdtYXAnLCBwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZVRleHR1cmUpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmVtaXNzaXZlID0gbmV3IENvbG9yKDAuMCwgMC4wLCAwLjApO1xuICAgICAgICBtYXRlcmlhbFBhcmFtcy5nbG9zc2luZXNzID1cbiAgICAgICAgICBwYnJTcGVjdWxhckdsb3NzaW5lc3MuZ2xvc3NpbmVzc0ZhY3RvciAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHBiclNwZWN1bGFyR2xvc3NpbmVzcy5nbG9zc2luZXNzRmFjdG9yXG4gICAgICAgICAgICA6IDEuMDtcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuc3BlY3VsYXIgPSBuZXcgQ29sb3IoMS4wLCAxLjAsIDEuMCk7XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGJyU3BlY3VsYXJHbG9zc2luZXNzLnNwZWN1bGFyRmFjdG9yKSkge1xuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLnNwZWN1bGFyLmZyb21BcnJheShwYnJTcGVjdWxhckdsb3NzaW5lc3Muc3BlY3VsYXJGYWN0b3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBiclNwZWN1bGFyR2xvc3NpbmVzcy5zcGVjdWxhckdsb3NzaW5lc3NUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB2YXIgc3BlY0dsb3NzTWFwRGVmID0gcGJyU3BlY3VsYXJHbG9zc2luZXNzLnNwZWN1bGFyR2xvc3NpbmVzc1RleHR1cmU7XG4gICAgICAgICAgcGVuZGluZy5wdXNoKHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnZ2xvc3NpbmVzc01hcCcsIHNwZWNHbG9zc01hcERlZikpO1xuICAgICAgICAgIHBlbmRpbmcucHVzaChwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ3NwZWN1bGFyTWFwJywgc3BlY0dsb3NzTWFwRGVmKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gICAgICB9LFxuXG4gICAgICBjcmVhdGVNYXRlcmlhbDogZnVuY3Rpb24gKG1hdGVyaWFsUGFyYW1zKSB7XG4gICAgICAgIHZhciBtYXRlcmlhbCA9IG5ldyBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbChtYXRlcmlhbFBhcmFtcyk7XG4gICAgICAgIG1hdGVyaWFsLmZvZyA9IHRydWU7XG5cbiAgICAgICAgbWF0ZXJpYWwuY29sb3IgPSBtYXRlcmlhbFBhcmFtcy5jb2xvcjtcblxuICAgICAgICBtYXRlcmlhbC5tYXAgPSBtYXRlcmlhbFBhcmFtcy5tYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5tYXA7XG5cbiAgICAgICAgbWF0ZXJpYWwubGlnaHRNYXAgPSBudWxsO1xuICAgICAgICBtYXRlcmlhbC5saWdodE1hcEludGVuc2l0eSA9IDEuMDtcblxuICAgICAgICBtYXRlcmlhbC5hb01hcCA9IG1hdGVyaWFsUGFyYW1zLmFvTWFwID09PSB1bmRlZmluZWQgPyBudWxsIDogbWF0ZXJpYWxQYXJhbXMuYW9NYXA7XG4gICAgICAgIG1hdGVyaWFsLmFvTWFwSW50ZW5zaXR5ID0gMS4wO1xuXG4gICAgICAgIG1hdGVyaWFsLmVtaXNzaXZlID0gbWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmU7XG4gICAgICAgIG1hdGVyaWFsLmVtaXNzaXZlSW50ZW5zaXR5ID0gMS4wO1xuICAgICAgICBtYXRlcmlhbC5lbWlzc2l2ZU1hcCA9XG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmVNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZU1hcDtcblxuICAgICAgICBtYXRlcmlhbC5idW1wTWFwID0gbWF0ZXJpYWxQYXJhbXMuYnVtcE1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmJ1bXBNYXA7XG4gICAgICAgIG1hdGVyaWFsLmJ1bXBTY2FsZSA9IDE7XG5cbiAgICAgICAgbWF0ZXJpYWwubm9ybWFsTWFwID1cbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5ub3JtYWxNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5ub3JtYWxNYXA7XG4gICAgICAgIG1hdGVyaWFsLm5vcm1hbE1hcFR5cGUgPSBUYW5nZW50U3BhY2VOb3JtYWxNYXA7XG5cbiAgICAgICAgaWYgKG1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlKSBtYXRlcmlhbC5ub3JtYWxTY2FsZSA9IG1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlO1xuXG4gICAgICAgIG1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcCA9IG51bGw7XG4gICAgICAgIG1hdGVyaWFsLmRpc3BsYWNlbWVudFNjYWxlID0gMTtcbiAgICAgICAgbWF0ZXJpYWwuZGlzcGxhY2VtZW50QmlhcyA9IDA7XG5cbiAgICAgICAgbWF0ZXJpYWwuc3BlY3VsYXJNYXAgPVxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLnNwZWN1bGFyTWFwID09PSB1bmRlZmluZWQgPyBudWxsIDogbWF0ZXJpYWxQYXJhbXMuc3BlY3VsYXJNYXA7XG4gICAgICAgIG1hdGVyaWFsLnNwZWN1bGFyID0gbWF0ZXJpYWxQYXJhbXMuc3BlY3VsYXI7XG5cbiAgICAgICAgbWF0ZXJpYWwuZ2xvc3NpbmVzc01hcCA9XG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuZ2xvc3NpbmVzc01hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmdsb3NzaW5lc3NNYXA7XG4gICAgICAgIG1hdGVyaWFsLmdsb3NzaW5lc3MgPSBtYXRlcmlhbFBhcmFtcy5nbG9zc2luZXNzO1xuXG4gICAgICAgIG1hdGVyaWFsLmFscGhhTWFwID0gbnVsbDtcblxuICAgICAgICBtYXRlcmlhbC5lbnZNYXAgPSBtYXRlcmlhbFBhcmFtcy5lbnZNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5lbnZNYXA7XG4gICAgICAgIG1hdGVyaWFsLmVudk1hcEludGVuc2l0eSA9IDEuMDtcblxuICAgICAgICBtYXRlcmlhbC5yZWZyYWN0aW9uUmF0aW8gPSAwLjk4O1xuXG4gICAgICAgIHJldHVybiBtYXRlcmlhbDtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNZXNoIFF1YW50aXphdGlvbiBFeHRlbnNpb25cbiAgICpcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21lc2hfcXVhbnRpemF0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBHTFRGTWVzaFF1YW50aXphdGlvbkV4dGVuc2lvbigpIHtcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NRVNIX1FVQU5USVpBVElPTjtcbiAgfVxuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8qKioqKioqKioqIElOVEVSUE9MQVRJT04gKioqKioqKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLy8gU3BsaW5lIEludGVycG9sYXRpb25cbiAgLy8gU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNhcHBlbmRpeC1jLXNwbGluZS1pbnRlcnBvbGF0aW9uXG4gIGZ1bmN0aW9uIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50KHBhcmFtZXRlclBvc2l0aW9ucywgc2FtcGxlVmFsdWVzLCBzYW1wbGVTaXplLCByZXN1bHRCdWZmZXIpIHtcbiAgICBJbnRlcnBvbGFudC5jYWxsKHRoaXMsIHBhcmFtZXRlclBvc2l0aW9ucywgc2FtcGxlVmFsdWVzLCBzYW1wbGVTaXplLCByZXN1bHRCdWZmZXIpO1xuICB9XG5cbiAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJbnRlcnBvbGFudC5wcm90b3R5cGUpO1xuICBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudDtcblxuICBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuY29weVNhbXBsZVZhbHVlXyA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIC8vIENvcGllcyBhIHNhbXBsZSB2YWx1ZSB0byB0aGUgcmVzdWx0IGJ1ZmZlci4gU2VlIGRlc2NyaXB0aW9uIG9mIGdsVEZcbiAgICAvLyBDVUJJQ1NQTElORSB2YWx1ZXMgbGF5b3V0IGluIGludGVycG9sYXRlXygpIGZ1bmN0aW9uIGJlbG93LlxuXG4gICAgdmFyIHJlc3VsdCA9IHRoaXMucmVzdWx0QnVmZmVyLFxuICAgICAgICB2YWx1ZXMgPSB0aGlzLnNhbXBsZVZhbHVlcyxcbiAgICAgICAgdmFsdWVTaXplID0gdGhpcy52YWx1ZVNpemUsXG4gICAgICAgIG9mZnNldCA9IGluZGV4ICogdmFsdWVTaXplICogMyArIHZhbHVlU2l6ZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpICE9PSB2YWx1ZVNpemU7IGkrKykge1xuICAgICAgcmVzdWx0W2ldID0gdmFsdWVzW29mZnNldCArIGldO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmJlZm9yZVN0YXJ0XyA9XG4gICAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV87XG5cbiAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmFmdGVyRW5kXyA9XG4gICAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV87XG5cbiAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmludGVycG9sYXRlXyA9IGZ1bmN0aW9uIChpMSwgdDAsIHQsIHQxKSB7XG4gICAgdmFyIHJlc3VsdCA9IHRoaXMucmVzdWx0QnVmZmVyO1xuICAgIHZhciB2YWx1ZXMgPSB0aGlzLnNhbXBsZVZhbHVlcztcbiAgICB2YXIgc3RyaWRlID0gdGhpcy52YWx1ZVNpemU7XG5cbiAgICB2YXIgc3RyaWRlMiA9IHN0cmlkZSAqIDI7XG4gICAgdmFyIHN0cmlkZTMgPSBzdHJpZGUgKiAzO1xuXG4gICAgdmFyIHRkID0gdDEgLSB0MDtcblxuICAgIHZhciBwID0gKHQgLSB0MCkgLyB0ZDtcbiAgICB2YXIgcHAgPSBwICogcDtcbiAgICB2YXIgcHBwID0gcHAgKiBwO1xuXG4gICAgdmFyIG9mZnNldDEgPSBpMSAqIHN0cmlkZTM7XG4gICAgdmFyIG9mZnNldDAgPSBvZmZzZXQxIC0gc3RyaWRlMztcblxuICAgIHZhciBzMiA9IC0yICogcHBwICsgMyAqIHBwO1xuICAgIHZhciBzMyA9IHBwcCAtIHBwO1xuICAgIHZhciBzMCA9IDEgLSBzMjtcbiAgICB2YXIgczEgPSBzMyAtIHBwICsgcDtcblxuICAgIC8vIExheW91dCBvZiBrZXlmcmFtZSBvdXRwdXQgdmFsdWVzIGZvciBDVUJJQ1NQTElORSBhbmltYXRpb25zOlxuICAgIC8vICAgWyBpblRhbmdlbnRfMSwgc3BsaW5lVmVydGV4XzEsIG91dFRhbmdlbnRfMSwgaW5UYW5nZW50XzIsIHNwbGluZVZlcnRleF8yLCAuLi4gXVxuICAgIGZvciAodmFyIGkgPSAwOyBpICE9PSBzdHJpZGU7IGkrKykge1xuICAgICAgdmFyIHAwID0gdmFsdWVzW29mZnNldDAgKyBpICsgc3RyaWRlXTsgLy8gc3BsaW5lVmVydGV4X2tcbiAgICAgIHZhciBtMCA9IHZhbHVlc1tvZmZzZXQwICsgaSArIHN0cmlkZTJdICogdGQ7IC8vIG91dFRhbmdlbnRfayAqICh0X2srMSAtIHRfaylcbiAgICAgIHZhciBwMSA9IHZhbHVlc1tvZmZzZXQxICsgaSArIHN0cmlkZV07IC8vIHNwbGluZVZlcnRleF9rKzFcbiAgICAgIHZhciBtMSA9IHZhbHVlc1tvZmZzZXQxICsgaV0gKiB0ZDsgLy8gaW5UYW5nZW50X2srMSAqICh0X2srMSAtIHRfaylcblxuICAgICAgcmVzdWx0W2ldID0gczAgKiBwMCArIHMxICogbTAgKyBzMiAqIHAxICsgczMgKiBtMTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8qKioqKioqKioqIElOVEVSTkFMUyAqKioqKioqKioqKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyogQ09OU1RBTlRTICovXG5cbiAgdmFyIFdFQkdMX0NPTlNUQU5UUyA9IHtcbiAgICBGTE9BVDogNTEyNixcbiAgICAvL0ZMT0FUX01BVDI6IDM1Njc0LFxuICAgIEZMT0FUX01BVDM6IDM1Njc1LFxuICAgIEZMT0FUX01BVDQ6IDM1Njc2LFxuICAgIEZMT0FUX1ZFQzI6IDM1NjY0LFxuICAgIEZMT0FUX1ZFQzM6IDM1NjY1LFxuICAgIEZMT0FUX1ZFQzQ6IDM1NjY2LFxuICAgIExJTkVBUjogOTcyOSxcbiAgICBSRVBFQVQ6IDEwNDk3LFxuICAgIFNBTVBMRVJfMkQ6IDM1Njc4LFxuICAgIFBPSU5UUzogMCxcbiAgICBMSU5FUzogMSxcbiAgICBMSU5FX0xPT1A6IDIsXG4gICAgTElORV9TVFJJUDogMyxcbiAgICBUUklBTkdMRVM6IDQsXG4gICAgVFJJQU5HTEVfU1RSSVA6IDUsXG4gICAgVFJJQU5HTEVfRkFOOiA2LFxuICAgIFVOU0lHTkVEX0JZVEU6IDUxMjEsXG4gICAgVU5TSUdORURfU0hPUlQ6IDUxMjMsXG4gIH07XG5cbiAgdmFyIFdFQkdMX0NPTVBPTkVOVF9UWVBFUyA9IHtcbiAgICA1MTIwOiBJbnQ4QXJyYXksXG4gICAgNTEyMTogVWludDhBcnJheSxcbiAgICA1MTIyOiBJbnQxNkFycmF5LFxuICAgIDUxMjM6IFVpbnQxNkFycmF5LFxuICAgIDUxMjU6IFVpbnQzMkFycmF5LFxuICAgIDUxMjY6IEZsb2F0MzJBcnJheSxcbiAgfTtcblxuICB2YXIgV0VCR0xfRklMVEVSUyA9IHtcbiAgICA5NzI4OiBOZWFyZXN0RmlsdGVyLFxuICAgIDk3Mjk6IExpbmVhckZpbHRlcixcbiAgICA5OTg0OiBOZWFyZXN0TWlwbWFwTmVhcmVzdEZpbHRlcixcbiAgICA5OTg1OiBMaW5lYXJNaXBtYXBOZWFyZXN0RmlsdGVyLFxuICAgIDk5ODY6IE5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXIsXG4gICAgOTk4NzogTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyLFxuICB9O1xuXG4gIHZhciBXRUJHTF9XUkFQUElOR1MgPSB7XG4gICAgMzMwNzE6IENsYW1wVG9FZGdlV3JhcHBpbmcsXG4gICAgMzM2NDg6IE1pcnJvcmVkUmVwZWF0V3JhcHBpbmcsXG4gICAgMTA0OTc6IFJlcGVhdFdyYXBwaW5nLFxuICB9O1xuXG4gIHZhciBXRUJHTF9UWVBFX1NJWkVTID0ge1xuICAgIFNDQUxBUjogMSxcbiAgICBWRUMyOiAyLFxuICAgIFZFQzM6IDMsXG4gICAgVkVDNDogNCxcbiAgICBNQVQyOiA0LFxuICAgIE1BVDM6IDksXG4gICAgTUFUNDogMTYsXG4gIH07XG5cbiAgdmFyIEFUVFJJQlVURVMgPSB7XG4gICAgUE9TSVRJT046ICdwb3NpdGlvbicsXG4gICAgTk9STUFMOiAnbm9ybWFsJyxcbiAgICBUQU5HRU5UOiAndGFuZ2VudCcsXG4gICAgVEVYQ09PUkRfMDogJ3V2JyxcbiAgICBURVhDT09SRF8xOiAndXYyJyxcbiAgICBDT0xPUl8wOiAnY29sb3InLFxuICAgIFdFSUdIVFNfMDogJ3NraW5XZWlnaHQnLFxuICAgIEpPSU5UU18wOiAnc2tpbkluZGV4JyxcbiAgfTtcblxuICB2YXIgUEFUSF9QUk9QRVJUSUVTID0ge1xuICAgIHNjYWxlOiAnc2NhbGUnLFxuICAgIHRyYW5zbGF0aW9uOiAncG9zaXRpb24nLFxuICAgIHJvdGF0aW9uOiAncXVhdGVybmlvbicsXG4gICAgd2VpZ2h0czogJ21vcnBoVGFyZ2V0SW5mbHVlbmNlcycsXG4gIH07XG5cbiAgdmFyIElOVEVSUE9MQVRJT04gPSB7XG4gICAgQ1VCSUNTUExJTkU6IHVuZGVmaW5lZCwgLy8gV2UgdXNlIGEgY3VzdG9tIGludGVycG9sYW50IChHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGF0aW9uKSBmb3IgQ1VCSUNTUExJTkUgdHJhY2tzLiBFYWNoXG4gICAgLy8ga2V5ZnJhbWUgdHJhY2sgd2lsbCBiZSBpbml0aWFsaXplZCB3aXRoIGEgZGVmYXVsdCBpbnRlcnBvbGF0aW9uIHR5cGUsIHRoZW4gbW9kaWZpZWQuXG4gICAgTElORUFSOiBJbnRlcnBvbGF0ZUxpbmVhcixcbiAgICBTVEVQOiBJbnRlcnBvbGF0ZURpc2NyZXRlLFxuICB9O1xuXG4gIHZhciBBTFBIQV9NT0RFUyA9IHtcbiAgICBPUEFRVUU6ICdPUEFRVUUnLFxuICAgIE1BU0s6ICdNQVNLJyxcbiAgICBCTEVORDogJ0JMRU5EJyxcbiAgfTtcblxuICB2YXIgTUlNRV9UWVBFX0ZPUk1BVFMgPSB7XG4gICAgJ2ltYWdlL3BuZyc6IFJHQkFGb3JtYXQsXG4gICAgJ2ltYWdlL2pwZWcnOiBSR0JGb3JtYXQsXG4gIH07XG5cbiAgLyogVVRJTElUWSBGVU5DVElPTlMgKi9cblxuICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCwgcGF0aCkge1xuICAgIC8vIEludmFsaWQgVVJMXG4gICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnIHx8IHVybCA9PT0gJycpIHJldHVybiAnJztcblxuICAgIC8vIEhvc3QgUmVsYXRpdmUgVVJMXG4gICAgaWYgKC9eaHR0cHM/OlxcL1xcLy9pLnRlc3QocGF0aCkgJiYgL15cXC8vLnRlc3QodXJsKSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG4gICAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC8oXmh0dHBzPzpcXC9cXC9bXlxcL10rKS4qL2ksICckMScpO1xuICAgIH1cblxuICAgIC8vIEFic29sdXRlIFVSTCBodHRwOi8vLGh0dHBzOi8vLC8vXG4gICAgaWYgKC9eKGh0dHBzPzopP1xcL1xcLy9pLnRlc3QodXJsKSkgcmV0dXJuIHVybDtcblxuICAgIC8vIERhdGEgVVJJXG4gICAgaWYgKC9eZGF0YTouKiwuKiQvaS50ZXN0KHVybCkpIHJldHVybiB1cmw7XG5cbiAgICAvLyBCbG9iIFVSTFxuICAgIGlmICgvXmJsb2I6LiokL2kudGVzdCh1cmwpKSByZXR1cm4gdXJsO1xuXG4gICAgLy8gUmVsYXRpdmUgVVJMXG4gICAgcmV0dXJuIHBhdGggKyB1cmw7XG4gIH1cblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNkZWZhdWx0LW1hdGVyaWFsXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0TWF0ZXJpYWwoY2FjaGUpIHtcbiAgICBpZiAoY2FjaGVbJ0RlZmF1bHRNYXRlcmlhbCddID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNhY2hlWydEZWZhdWx0TWF0ZXJpYWwnXSA9IG5ldyBNZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgIGNvbG9yOiAweGZmZmZmZixcbiAgICAgICAgZW1pc3NpdmU6IDB4MDAwMDAwLFxuICAgICAgICBtZXRhbG5lc3M6IDEsXG4gICAgICAgIHJvdWdobmVzczogMSxcbiAgICAgICAgdHJhbnNwYXJlbnQ6IGZhbHNlLFxuICAgICAgICBkZXB0aFRlc3Q6IHRydWUsXG4gICAgICAgIHNpZGU6IEZyb250U2lkZSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBjYWNoZVsnRGVmYXVsdE1hdGVyaWFsJ107XG4gIH1cblxuICBmdW5jdGlvbiBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoa25vd25FeHRlbnNpb25zLCBvYmplY3QsIG9iamVjdERlZikge1xuICAgIC8vIEFkZCB1bmtub3duIGdsVEYgZXh0ZW5zaW9ucyB0byBhbiBvYmplY3QncyB1c2VyRGF0YS5cblxuICAgIGZvciAodmFyIG5hbWUgaW4gb2JqZWN0RGVmLmV4dGVuc2lvbnMpIHtcbiAgICAgIGlmIChrbm93bkV4dGVuc2lvbnNbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvYmplY3QudXNlckRhdGEuZ2x0ZkV4dGVuc2lvbnMgPSBvYmplY3QudXNlckRhdGEuZ2x0ZkV4dGVuc2lvbnMgfHwge307XG4gICAgICAgIG9iamVjdC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9uc1tuYW1lXSA9IG9iamVjdERlZi5leHRlbnNpb25zW25hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdDNEfE1hdGVyaWFsfEJ1ZmZlckdlb21ldHJ5fSBvYmplY3RcbiAgICogQHBhcmFtIHtHTFRGLmRlZmluaXRpb259IGdsdGZEZWZcbiAgICovXG4gIGZ1bmN0aW9uIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEob2JqZWN0LCBnbHRmRGVmKSB7XG4gICAgaWYgKGdsdGZEZWYuZXh0cmFzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICh0eXBlb2YgZ2x0ZkRlZi5leHRyYXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LnVzZXJEYXRhLCBnbHRmRGVmLmV4dHJhcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IElnbm9yaW5nIHByaW1pdGl2ZSB0eXBlIC5leHRyYXMsICcgKyBnbHRmRGVmLmV4dHJhcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjbW9ycGgtdGFyZ2V0c1xuICAgKlxuICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxuICAgKiBAcGFyYW0ge0FycmF5PEdMVEYuVGFyZ2V0Pn0gdGFyZ2V0c1xuICAgKiBAcGFyYW0ge0dMVEZQYXJzZXJ9IHBhcnNlclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEJ1ZmZlckdlb21ldHJ5Pn1cbiAgICovXG4gIGZ1bmN0aW9uIGFkZE1vcnBoVGFyZ2V0cyhnZW9tZXRyeSwgdGFyZ2V0cywgcGFyc2VyKSB7XG4gICAgdmFyIGhhc01vcnBoUG9zaXRpb24gPSBmYWxzZTtcbiAgICB2YXIgaGFzTW9ycGhOb3JtYWwgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHRhcmdldHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgdmFyIHRhcmdldCA9IHRhcmdldHNbaV07XG5cbiAgICAgIGlmICh0YXJnZXQuUE9TSVRJT04gIT09IHVuZGVmaW5lZCkgaGFzTW9ycGhQb3NpdGlvbiA9IHRydWU7XG4gICAgICBpZiAodGFyZ2V0Lk5PUk1BTCAhPT0gdW5kZWZpbmVkKSBoYXNNb3JwaE5vcm1hbCA9IHRydWU7XG5cbiAgICAgIGlmIChoYXNNb3JwaFBvc2l0aW9uICYmIGhhc01vcnBoTm9ybWFsKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoIWhhc01vcnBoUG9zaXRpb24gJiYgIWhhc01vcnBoTm9ybWFsKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGdlb21ldHJ5KTtcblxuICAgIHZhciBwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMgPSBbXTtcbiAgICB2YXIgcGVuZGluZ05vcm1hbEFjY2Vzc29ycyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gdGFyZ2V0cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gdGFyZ2V0c1tpXTtcblxuICAgICAgaWYgKGhhc01vcnBoUG9zaXRpb24pIHtcbiAgICAgICAgdmFyIHBlbmRpbmdBY2Nlc3NvciA9XG4gICAgICAgICAgICAgIHRhcmdldC5QT1NJVElPTiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCB0YXJnZXQuUE9TSVRJT04pXG4gICAgICAgICAgICAgICAgOiBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xuXG4gICAgICAgIHBlbmRpbmdQb3NpdGlvbkFjY2Vzc29ycy5wdXNoKHBlbmRpbmdBY2Nlc3Nvcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChoYXNNb3JwaE5vcm1hbCkge1xuICAgICAgICB2YXIgcGVuZGluZ0FjY2Vzc29yID1cbiAgICAgICAgICAgICAgdGFyZ2V0Lk5PUk1BTCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCB0YXJnZXQuTk9STUFMKVxuICAgICAgICAgICAgICAgIDogZ2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWw7XG5cbiAgICAgICAgcGVuZGluZ05vcm1hbEFjY2Vzc29ycy5wdXNoKHBlbmRpbmdBY2Nlc3Nvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgIFByb21pc2UuYWxsKHBlbmRpbmdQb3NpdGlvbkFjY2Vzc29ycyksXG4gICAgICBQcm9taXNlLmFsbChwZW5kaW5nTm9ybWFsQWNjZXNzb3JzKSxcbiAgICBdKS50aGVuKGZ1bmN0aW9uIChhY2Nlc3NvcnMpIHtcbiAgICAgIHZhciBtb3JwaFBvc2l0aW9ucyA9IGFjY2Vzc29yc1swXTtcbiAgICAgIHZhciBtb3JwaE5vcm1hbHMgPSBhY2Nlc3NvcnNbMV07XG5cbiAgICAgIGlmIChoYXNNb3JwaFBvc2l0aW9uKSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24gPSBtb3JwaFBvc2l0aW9ucztcbiAgICAgIGlmIChoYXNNb3JwaE5vcm1hbCkgZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbCA9IG1vcnBoTm9ybWFscztcbiAgICAgIGdlb21ldHJ5Lm1vcnBoVGFyZ2V0c1JlbGF0aXZlID0gdHJ1ZTtcblxuICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVzaH0gbWVzaFxuICAgKiBAcGFyYW0ge0dMVEYuTWVzaH0gbWVzaERlZlxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlTW9ycGhUYXJnZXRzKG1lc2gsIG1lc2hEZWYpIHtcbiAgICBtZXNoLnVwZGF0ZU1vcnBoVGFyZ2V0cygpO1xuXG4gICAgaWYgKG1lc2hEZWYud2VpZ2h0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBtZXNoRGVmLndlaWdodHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICBtZXNoLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1tpXSA9IG1lc2hEZWYud2VpZ2h0c1tpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAuZXh0cmFzIGhhcyB1c2VyLWRlZmluZWQgZGF0YSwgc28gY2hlY2sgdGhhdCAuZXh0cmFzLnRhcmdldE5hbWVzIGlzIGFuIGFycmF5LlxuICAgIGlmIChtZXNoRGVmLmV4dHJhcyAmJiBBcnJheS5pc0FycmF5KG1lc2hEZWYuZXh0cmFzLnRhcmdldE5hbWVzKSkge1xuICAgICAgdmFyIHRhcmdldE5hbWVzID0gbWVzaERlZi5leHRyYXMudGFyZ2V0TmFtZXM7XG5cbiAgICAgIGlmIChtZXNoLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5sZW5ndGggPT09IHRhcmdldE5hbWVzLmxlbmd0aCkge1xuICAgICAgICBtZXNoLm1vcnBoVGFyZ2V0RGljdGlvbmFyeSA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHRhcmdldE5hbWVzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICBtZXNoLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVt0YXJnZXROYW1lc1tpXV0gPSBpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IEludmFsaWQgZXh0cmFzLnRhcmdldE5hbWVzIGxlbmd0aC4gSWdub3JpbmcgbmFtZXMuJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlS2V5KHByaW1pdGl2ZURlZikge1xuICAgIHZhciBkcmFjb0V4dGVuc2lvbiA9XG4gICAgICAgICAgcHJpbWl0aXZlRGVmLmV4dGVuc2lvbnMgJiYgcHJpbWl0aXZlRGVmLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTl07XG4gICAgdmFyIGdlb21ldHJ5S2V5O1xuXG4gICAgaWYgKGRyYWNvRXh0ZW5zaW9uKSB7XG4gICAgICBnZW9tZXRyeUtleSA9XG4gICAgICAgICdkcmFjbzonICtcbiAgICAgICAgZHJhY29FeHRlbnNpb24uYnVmZmVyVmlldyArXG4gICAgICAgICc6JyArXG4gICAgICAgIGRyYWNvRXh0ZW5zaW9uLmluZGljZXMgK1xuICAgICAgICAnOicgK1xuICAgICAgICBjcmVhdGVBdHRyaWJ1dGVzS2V5KGRyYWNvRXh0ZW5zaW9uLmF0dHJpYnV0ZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW9tZXRyeUtleSA9XG4gICAgICAgIHByaW1pdGl2ZURlZi5pbmRpY2VzICtcbiAgICAgICAgJzonICtcbiAgICAgICAgY3JlYXRlQXR0cmlidXRlc0tleShwcmltaXRpdmVEZWYuYXR0cmlidXRlcykgK1xuICAgICAgICAnOicgK1xuICAgICAgICBwcmltaXRpdmVEZWYubW9kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2VvbWV0cnlLZXk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVBdHRyaWJ1dGVzS2V5KGF0dHJpYnV0ZXMpIHtcbiAgICB2YXIgYXR0cmlidXRlc0tleSA9ICcnO1xuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5zb3J0KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBrZXlzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgIGF0dHJpYnV0ZXNLZXkgKz0ga2V5c1tpXSArICc6JyArIGF0dHJpYnV0ZXNba2V5c1tpXV0gKyAnOyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF0dHJpYnV0ZXNLZXk7XG4gIH1cblxuICAvKiBHTFRGIFBBUlNFUiAqL1xuXG4gIGZ1bmN0aW9uIEdMVEZQYXJzZXIoanNvbiwgZXh0ZW5zaW9ucywgb3B0aW9ucykge1xuICAgIHRoaXMuanNvbiA9IGpzb24gfHwge307XG4gICAgdGhpcy5leHRlbnNpb25zID0gZXh0ZW5zaW9ucyB8fCB7fTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLy8gbG9hZGVyIG9iamVjdCBjYWNoZVxuICAgIHRoaXMuY2FjaGUgPSBuZXcgR0xURlJlZ2lzdHJ5KCk7XG5cbiAgICAvLyBCdWZmZXJHZW9tZXRyeSBjYWNoaW5nXG4gICAgdGhpcy5wcmltaXRpdmVDYWNoZSA9IHt9O1xuXG4gICAgdGhpcy50ZXh0dXJlTG9hZGVyID0gbmV3IFRleHR1cmVMb2FkZXIodGhpcy5vcHRpb25zLm1hbmFnZXIpO1xuICAgIHRoaXMudGV4dHVyZUxvYWRlci5zZXRDcm9zc09yaWdpbih0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW4pO1xuXG4gICAgdGhpcy5maWxlTG9hZGVyID0gbmV3IEZpbGVMb2FkZXIodGhpcy5vcHRpb25zLm1hbmFnZXIpO1xuICAgIHRoaXMuZmlsZUxvYWRlci5zZXRSZXNwb25zZVR5cGUoJ2FycmF5YnVmZmVyJyk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luID09PSAndXNlLWNyZWRlbnRpYWxzJykge1xuICAgICAgdGhpcy5maWxlTG9hZGVyLnNldFdpdGhDcmVkZW50aWFscyh0cnVlKTtcbiAgICB9XG4gIH1cblxuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChvbkxvYWQsIG9uRXJyb3IpIHtcbiAgICB2YXIgcGFyc2VyID0gdGhpcztcbiAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcbiAgICB2YXIgZXh0ZW5zaW9ucyA9IHRoaXMuZXh0ZW5zaW9ucztcblxuICAgIC8vIENsZWFyIHRoZSBsb2FkZXIgY2FjaGVcbiAgICB0aGlzLmNhY2hlLnJlbW92ZUFsbCgpO1xuXG4gICAgLy8gTWFyayB0aGUgc3BlY2lhbCBub2Rlcy9tZXNoZXMgaW4ganNvbiBmb3IgZWZmaWNpZW50IHBhcnNlXG4gICAgdGhpcy5tYXJrRGVmcygpO1xuXG4gICAgUHJvbWlzZS5hbGwoW1xuICAgICAgdGhpcy5nZXREZXBlbmRlbmNpZXMoJ3NjZW5lJyksXG4gICAgICB0aGlzLmdldERlcGVuZGVuY2llcygnYW5pbWF0aW9uJyksXG4gICAgICB0aGlzLmdldERlcGVuZGVuY2llcygnY2FtZXJhJyksXG4gICAgXSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChkZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICBzY2VuZTogZGVwZW5kZW5jaWVzWzBdW2pzb24uc2NlbmUgfHwgMF0sXG4gICAgICAgICAgc2NlbmVzOiBkZXBlbmRlbmNpZXNbMF0sXG4gICAgICAgICAgYW5pbWF0aW9uczogZGVwZW5kZW5jaWVzWzFdLFxuICAgICAgICAgIGNhbWVyYXM6IGRlcGVuZGVuY2llc1syXSxcbiAgICAgICAgICBhc3NldDoganNvbi5hc3NldCxcbiAgICAgICAgICBwYXJzZXI6IHBhcnNlcixcbiAgICAgICAgICB1c2VyRGF0YToge30sXG4gICAgICAgIH07XG5cbiAgICAgICAgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKGV4dGVuc2lvbnMsIHJlc3VsdCwganNvbik7XG5cbiAgICAgICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShyZXN1bHQsIGpzb24pO1xuXG4gICAgICAgIG9uTG9hZChyZXN1bHQpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChvbkVycm9yKTtcbiAgfTtcblxuICAvKipcbiAgICogTWFya3MgdGhlIHNwZWNpYWwgbm9kZXMvbWVzaGVzIGluIGpzb24gZm9yIGVmZmljaWVudCBwYXJzZS5cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLm1hcmtEZWZzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBub2RlRGVmcyA9IHRoaXMuanNvbi5ub2RlcyB8fCBbXTtcbiAgICB2YXIgc2tpbkRlZnMgPSB0aGlzLmpzb24uc2tpbnMgfHwgW107XG4gICAgdmFyIG1lc2hEZWZzID0gdGhpcy5qc29uLm1lc2hlcyB8fCBbXTtcblxuICAgIHZhciBtZXNoUmVmZXJlbmNlcyA9IHt9O1xuICAgIHZhciBtZXNoVXNlcyA9IHt9O1xuXG4gICAgLy8gTm90aGluZyBpbiB0aGUgbm9kZSBkZWZpbml0aW9uIGluZGljYXRlcyB3aGV0aGVyIGl0IGlzIGEgQm9uZSBvciBhblxuICAgIC8vIE9iamVjdDNELiBVc2UgdGhlIHNraW5zJyBqb2ludCByZWZlcmVuY2VzIHRvIG1hcmsgYm9uZXMuXG4gICAgZm9yICh2YXIgc2tpbkluZGV4ID0gMCwgc2tpbkxlbmd0aCA9IHNraW5EZWZzLmxlbmd0aDsgc2tpbkluZGV4IDwgc2tpbkxlbmd0aDsgc2tpbkluZGV4KyspIHtcbiAgICAgIHZhciBqb2ludHMgPSBza2luRGVmc1tza2luSW5kZXhdLmpvaW50cztcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gam9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgbm9kZURlZnNbam9pbnRzW2ldXS5pc0JvbmUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1lc2hlcyBjYW4gKGFuZCBzaG91bGQpIGJlIHJldXNlZCBieSBtdWx0aXBsZSBub2RlcyBpbiBhIGdsVEYgYXNzZXQuIFRvXG4gICAgLy8gYXZvaWQgaGF2aW5nIG1vcmUgdGhhbiBvbmUgTWVzaCB3aXRoIHRoZSBzYW1lIG5hbWUsIGNvdW50XG4gICAgLy8gcmVmZXJlbmNlcyBhbmQgcmVuYW1lIGluc3RhbmNlcyBiZWxvdy5cbiAgICAvL1xuICAgIC8vIEV4YW1wbGU6IENlc2l1bU1pbGtUcnVjayBzYW1wbGUgbW9kZWwgcmV1c2VzIFwiV2hlZWxcIiBtZXNoZXMuXG4gICAgZm9yICh2YXIgbm9kZUluZGV4ID0gMCwgbm9kZUxlbmd0aCA9IG5vZGVEZWZzLmxlbmd0aDsgbm9kZUluZGV4IDwgbm9kZUxlbmd0aDsgbm9kZUluZGV4KyspIHtcbiAgICAgIHZhciBub2RlRGVmID0gbm9kZURlZnNbbm9kZUluZGV4XTtcblxuICAgICAgaWYgKG5vZGVEZWYubWVzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChtZXNoUmVmZXJlbmNlc1tub2RlRGVmLm1lc2hdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBtZXNoUmVmZXJlbmNlc1tub2RlRGVmLm1lc2hdID0gbWVzaFVzZXNbbm9kZURlZi5tZXNoXSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBtZXNoUmVmZXJlbmNlc1tub2RlRGVmLm1lc2hdKys7XG5cbiAgICAgICAgLy8gTm90aGluZyBpbiB0aGUgbWVzaCBkZWZpbml0aW9uIGluZGljYXRlcyB3aGV0aGVyIGl0IGlzXG4gICAgICAgIC8vIGEgU2tpbm5lZE1lc2ggb3IgTWVzaC4gVXNlIHRoZSBub2RlJ3MgbWVzaCByZWZlcmVuY2VcbiAgICAgICAgLy8gdG8gbWFyayBTa2lubmVkTWVzaCBpZiBub2RlIGhhcyBza2luLlxuICAgICAgICBpZiAobm9kZURlZi5za2luICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBtZXNoRGVmc1tub2RlRGVmLm1lc2hdLmlzU2tpbm5lZE1lc2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5qc29uLm1lc2hSZWZlcmVuY2VzID0gbWVzaFJlZmVyZW5jZXM7XG4gICAgdGhpcy5qc29uLm1lc2hVc2VzID0gbWVzaFVzZXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RzIHRoZSBzcGVjaWZpZWQgZGVwZW5kZW5jeSBhc3luY2hyb25vdXNseSwgd2l0aCBjYWNoaW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QzRHxNYXRlcmlhbHxUSFJFRS5UZXh0dXJlfEFuaW1hdGlvbkNsaXB8QXJyYXlCdWZmZXJ8T2JqZWN0Pn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmdldERlcGVuZGVuY3kgPSBmdW5jdGlvbiAodHlwZSwgaW5kZXgpIHtcbiAgICB2YXIgY2FjaGVLZXkgPSB0eXBlICsgJzonICsgaW5kZXg7XG4gICAgdmFyIGRlcGVuZGVuY3kgPSB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XG5cbiAgICBpZiAoIWRlcGVuZGVuY3kpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdzY2VuZSc6XG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZFNjZW5lKGluZGV4KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdub2RlJzpcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkTm9kZShpbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbWVzaCc6XG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZE1lc2goaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2FjY2Vzc29yJzpcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkQWNjZXNzb3IoaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2J1ZmZlclZpZXcnOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRCdWZmZXJWaWV3KGluZGV4KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdidWZmZXInOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRCdWZmZXIoaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ21hdGVyaWFsJzpcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkTWF0ZXJpYWwoaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3RleHR1cmUnOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRUZXh0dXJlKGluZGV4KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdza2luJzpcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkU2tpbihpbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnYW5pbWF0aW9uJzpcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkQW5pbWF0aW9uKGluZGV4KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdjYW1lcmEnOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRDYW1lcmEoaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2xpZ2h0JzpcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTF0ubG9hZExpZ2h0KGluZGV4KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biB0eXBlOiAnICsgdHlwZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FjaGUuYWRkKGNhY2hlS2V5LCBkZXBlbmRlbmN5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVwZW5kZW5jeTtcbiAgfTtcblxuICAvKipcbiAgICogUmVxdWVzdHMgYWxsIGRlcGVuZGVuY2llcyBvZiB0aGUgc3BlY2lmaWVkIHR5cGUgYXN5bmNocm9ub3VzbHksIHdpdGggY2FjaGluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxPYmplY3Q+Pn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmdldERlcGVuZGVuY2llcyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IHRoaXMuY2FjaGUuZ2V0KHR5cGUpO1xuXG4gICAgaWYgKCFkZXBlbmRlbmNpZXMpIHtcbiAgICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuICAgICAgdmFyIGRlZnMgPSB0aGlzLmpzb25bdHlwZSArICh0eXBlID09PSAnbWVzaCcgPyAnZXMnIDogJ3MnKV0gfHwgW107XG5cbiAgICAgIGRlcGVuZGVuY2llcyA9IFByb21pc2UuYWxsKFxuICAgICAgICBkZWZzLm1hcChmdW5jdGlvbiAoZGVmLCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSh0eXBlLCBpbmRleCk7XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICB0aGlzLmNhY2hlLmFkZCh0eXBlLCBkZXBlbmRlbmNpZXMpO1xuICAgIH1cblxuICAgIHJldHVybiBkZXBlbmRlbmNpZXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjYnVmZmVycy1hbmQtYnVmZmVyLXZpZXdzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBidWZmZXJJbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5QnVmZmVyPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRCdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVySW5kZXgpIHtcbiAgICB2YXIgYnVmZmVyRGVmID0gdGhpcy5qc29uLmJ1ZmZlcnNbYnVmZmVySW5kZXhdO1xuICAgIHZhciBsb2FkZXIgPSB0aGlzLmZpbGVMb2FkZXI7XG5cbiAgICBpZiAoYnVmZmVyRGVmLnR5cGUgJiYgYnVmZmVyRGVmLnR5cGUgIT09ICdhcnJheWJ1ZmZlcicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogJyArIGJ1ZmZlckRlZi50eXBlICsgJyBidWZmZXIgdHlwZSBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgIH1cblxuICAgIC8vIElmIHByZXNlbnQsIEdMQiBjb250YWluZXIgaXMgcmVxdWlyZWQgdG8gYmUgdGhlIGZpcnN0IGJ1ZmZlci5cbiAgICBpZiAoYnVmZmVyRGVmLnVyaSA9PT0gdW5kZWZpbmVkICYmIGJ1ZmZlckluZGV4ID09PSAwKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURl0uYm9keSk7XG4gICAgfVxuXG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgbG9hZGVyLmxvYWQocmVzb2x2ZVVSTChidWZmZXJEZWYudXJpLCBvcHRpb25zLnBhdGgpLCByZXNvbHZlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogRmFpbGVkIHRvIGxvYWQgYnVmZmVyIFwiJyArIGJ1ZmZlckRlZi51cmkgKyAnXCIuJykpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjYnVmZmVycy1hbmQtYnVmZmVyLXZpZXdzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBidWZmZXJWaWV3SW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheUJ1ZmZlcj59XG4gICAqL1xuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkQnVmZmVyVmlldyA9IGZ1bmN0aW9uIChidWZmZXJWaWV3SW5kZXgpIHtcbiAgICB2YXIgYnVmZmVyVmlld0RlZiA9IHRoaXMuanNvbi5idWZmZXJWaWV3c1tidWZmZXJWaWV3SW5kZXhdO1xuXG4gICAgcmV0dXJuIHRoaXMuZ2V0RGVwZW5kZW5jeSgnYnVmZmVyJywgYnVmZmVyVmlld0RlZi5idWZmZXIpLnRoZW4oZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgdmFyIGJ5dGVMZW5ndGggPSBidWZmZXJWaWV3RGVmLmJ5dGVMZW5ndGggfHwgMDtcbiAgICAgIHZhciBieXRlT2Zmc2V0ID0gYnVmZmVyVmlld0RlZi5ieXRlT2Zmc2V0IHx8IDA7XG4gICAgICByZXR1cm4gYnVmZmVyLnNsaWNlKGJ5dGVPZmZzZXQsIGJ5dGVPZmZzZXQgKyBieXRlTGVuZ3RoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNhY2Nlc3NvcnNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFjY2Vzc29ySW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxCdWZmZXJBdHRyaWJ1dGV8SW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZEFjY2Vzc29yID0gZnVuY3Rpb24gKGFjY2Vzc29ySW5kZXgpIHtcbiAgICB2YXIgcGFyc2VyID0gdGhpcztcbiAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcblxuICAgIHZhciBhY2Nlc3NvckRlZiA9IHRoaXMuanNvbi5hY2Nlc3NvcnNbYWNjZXNzb3JJbmRleF07XG5cbiAgICBpZiAoYWNjZXNzb3JEZWYuYnVmZmVyVmlldyA9PT0gdW5kZWZpbmVkICYmIGFjY2Vzc29yRGVmLnNwYXJzZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBJZ25vcmUgZW1wdHkgYWNjZXNzb3JzLCB3aGljaCBtYXkgYmUgdXNlZCB0byBkZWNsYXJlIHJ1bnRpbWVcbiAgICAgIC8vIGluZm9ybWF0aW9uIGFib3V0IGF0dHJpYnV0ZXMgY29taW5nIGZyb20gYW5vdGhlciBzb3VyY2UgKGUuZy4gRHJhY29cbiAgICAgIC8vIGNvbXByZXNzaW9uIGV4dGVuc2lvbikuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH1cblxuICAgIHZhciBwZW5kaW5nQnVmZmVyVmlld3MgPSBbXTtcblxuICAgIGlmIChhY2Nlc3NvckRlZi5idWZmZXJWaWV3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHBlbmRpbmdCdWZmZXJWaWV3cy5wdXNoKHRoaXMuZ2V0RGVwZW5kZW5jeSgnYnVmZmVyVmlldycsIGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGVuZGluZ0J1ZmZlclZpZXdzLnB1c2gobnVsbCk7XG4gICAgfVxuXG4gICAgaWYgKGFjY2Vzc29yRGVmLnNwYXJzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBwZW5kaW5nQnVmZmVyVmlld3MucHVzaChcbiAgICAgICAgdGhpcy5nZXREZXBlbmRlbmN5KCdidWZmZXJWaWV3JywgYWNjZXNzb3JEZWYuc3BhcnNlLmluZGljZXMuYnVmZmVyVmlldylcbiAgICAgICk7XG4gICAgICBwZW5kaW5nQnVmZmVyVmlld3MucHVzaChcbiAgICAgICAgdGhpcy5nZXREZXBlbmRlbmN5KCdidWZmZXJWaWV3JywgYWNjZXNzb3JEZWYuc3BhcnNlLnZhbHVlcy5idWZmZXJWaWV3KVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZ0J1ZmZlclZpZXdzKS50aGVuKGZ1bmN0aW9uIChidWZmZXJWaWV3cykge1xuICAgICAgdmFyIGJ1ZmZlclZpZXcgPSBidWZmZXJWaWV3c1swXTtcblxuICAgICAgdmFyIGl0ZW1TaXplID0gV0VCR0xfVFlQRV9TSVpFU1thY2Nlc3NvckRlZi50eXBlXTtcbiAgICAgIHZhciBUeXBlZEFycmF5ID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTW2FjY2Vzc29yRGVmLmNvbXBvbmVudFR5cGVdO1xuXG4gICAgICAvLyBGb3IgVkVDMzogaXRlbVNpemUgaXMgMywgZWxlbWVudEJ5dGVzIGlzIDQsIGl0ZW1CeXRlcyBpcyAxMi5cbiAgICAgIHZhciBlbGVtZW50Qnl0ZXMgPSBUeXBlZEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UO1xuICAgICAgdmFyIGl0ZW1CeXRlcyA9IGVsZW1lbnRCeXRlcyAqIGl0ZW1TaXplO1xuICAgICAgdmFyIGJ5dGVPZmZzZXQgPSBhY2Nlc3NvckRlZi5ieXRlT2Zmc2V0IHx8IDA7XG4gICAgICB2YXIgYnl0ZVN0cmlkZSA9XG4gICAgICAgICAgICBhY2Nlc3NvckRlZi5idWZmZXJWaWV3ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyBqc29uLmJ1ZmZlclZpZXdzW2FjY2Vzc29yRGVmLmJ1ZmZlclZpZXddLmJ5dGVTdHJpZGVcbiAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgbm9ybWFsaXplZCA9IGFjY2Vzc29yRGVmLm5vcm1hbGl6ZWQgPT09IHRydWU7XG4gICAgICB2YXIgYXJyYXksIGJ1ZmZlckF0dHJpYnV0ZTtcblxuICAgICAgLy8gVGhlIGJ1ZmZlciBpcyBub3QgaW50ZXJsZWF2ZWQgaWYgdGhlIHN0cmlkZSBpcyB0aGUgaXRlbSBzaXplIGluIGJ5dGVzLlxuICAgICAgaWYgKGJ5dGVTdHJpZGUgJiYgYnl0ZVN0cmlkZSAhPT0gaXRlbUJ5dGVzKSB7XG4gICAgICAgIC8vIEVhY2ggXCJzbGljZVwiIG9mIHRoZSBidWZmZXIsIGFzIGRlZmluZWQgYnkgJ2NvdW50JyBlbGVtZW50cyBvZiAnYnl0ZVN0cmlkZScgYnl0ZXMsIGdldHMgaXRzIG93biBJbnRlcmxlYXZlZEJ1ZmZlclxuICAgICAgICAvLyBUaGlzIG1ha2VzIHN1cmUgdGhhdCBJQkEuY291bnQgcmVmbGVjdHMgYWNjZXNzb3IuY291bnQgcHJvcGVybHlcbiAgICAgICAgdmFyIGliU2xpY2UgPSBNYXRoLmZsb29yKGJ5dGVPZmZzZXQgLyBieXRlU3RyaWRlKTtcbiAgICAgICAgdmFyIGliQ2FjaGVLZXkgPVxuICAgICAgICAgICAgICAnSW50ZXJsZWF2ZWRCdWZmZXI6JyArXG4gICAgICAgICAgICAgIGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgK1xuICAgICAgICAgICAgICAnOicgK1xuICAgICAgICAgICAgICBhY2Nlc3NvckRlZi5jb21wb25lbnRUeXBlICtcbiAgICAgICAgICAgICAgJzonICtcbiAgICAgICAgICAgICAgaWJTbGljZSArXG4gICAgICAgICAgICAgICc6JyArXG4gICAgICAgICAgICAgIGFjY2Vzc29yRGVmLmNvdW50O1xuICAgICAgICB2YXIgaWIgPSBwYXJzZXIuY2FjaGUuZ2V0KGliQ2FjaGVLZXkpO1xuXG4gICAgICAgIGlmICghaWIpIHtcbiAgICAgICAgICBhcnJheSA9IG5ldyBUeXBlZEFycmF5KFxuICAgICAgICAgICAgYnVmZmVyVmlldyxcbiAgICAgICAgICAgIGliU2xpY2UgKiBieXRlU3RyaWRlLFxuICAgICAgICAgICAgKGFjY2Vzc29yRGVmLmNvdW50ICogYnl0ZVN0cmlkZSkgLyBlbGVtZW50Qnl0ZXNcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gSW50ZWdlciBwYXJhbWV0ZXJzIHRvIElCL0lCQSBhcmUgaW4gYXJyYXkgZWxlbWVudHMsIG5vdCBieXRlcy5cbiAgICAgICAgICBpYiA9IG5ldyBJbnRlcmxlYXZlZEJ1ZmZlcihhcnJheSwgYnl0ZVN0cmlkZSAvIGVsZW1lbnRCeXRlcyk7XG5cbiAgICAgICAgICBwYXJzZXIuY2FjaGUuYWRkKGliQ2FjaGVLZXksIGliKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1ZmZlckF0dHJpYnV0ZSA9IG5ldyBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShcbiAgICAgICAgICBpYixcbiAgICAgICAgICBpdGVtU2l6ZSxcbiAgICAgICAgICAoYnl0ZU9mZnNldCAlIGJ5dGVTdHJpZGUpIC8gZWxlbWVudEJ5dGVzLFxuICAgICAgICAgIG5vcm1hbGl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChidWZmZXJWaWV3ID09PSBudWxsKSB7XG4gICAgICAgICAgYXJyYXkgPSBuZXcgVHlwZWRBcnJheShhY2Nlc3NvckRlZi5jb3VudCAqIGl0ZW1TaXplKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcnJheSA9IG5ldyBUeXBlZEFycmF5KGJ1ZmZlclZpZXcsIGJ5dGVPZmZzZXQsIGFjY2Vzc29yRGVmLmNvdW50ICogaXRlbVNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnVmZmVyQXR0cmlidXRlID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZShhcnJheSwgaXRlbVNpemUsIG5vcm1hbGl6ZWQpO1xuICAgICAgfVxuXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI3NwYXJzZS1hY2Nlc3NvcnNcbiAgICAgIGlmIChhY2Nlc3NvckRlZi5zcGFyc2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgaXRlbVNpemVJbmRpY2VzID0gV0VCR0xfVFlQRV9TSVpFUy5TQ0FMQVI7XG4gICAgICAgIHZhciBUeXBlZEFycmF5SW5kaWNlcyA9IFdFQkdMX0NPTVBPTkVOVF9UWVBFU1thY2Nlc3NvckRlZi5zcGFyc2UuaW5kaWNlcy5jb21wb25lbnRUeXBlXTtcblxuICAgICAgICB2YXIgYnl0ZU9mZnNldEluZGljZXMgPSBhY2Nlc3NvckRlZi5zcGFyc2UuaW5kaWNlcy5ieXRlT2Zmc2V0IHx8IDA7XG4gICAgICAgIHZhciBieXRlT2Zmc2V0VmFsdWVzID0gYWNjZXNzb3JEZWYuc3BhcnNlLnZhbHVlcy5ieXRlT2Zmc2V0IHx8IDA7XG5cbiAgICAgICAgdmFyIHNwYXJzZUluZGljZXMgPSBuZXcgVHlwZWRBcnJheUluZGljZXMoXG4gICAgICAgICAgYnVmZmVyVmlld3NbMV0sXG4gICAgICAgICAgYnl0ZU9mZnNldEluZGljZXMsXG4gICAgICAgICAgYWNjZXNzb3JEZWYuc3BhcnNlLmNvdW50ICogaXRlbVNpemVJbmRpY2VzXG4gICAgICAgICk7XG4gICAgICAgIHZhciBzcGFyc2VWYWx1ZXMgPSBuZXcgVHlwZWRBcnJheShcbiAgICAgICAgICBidWZmZXJWaWV3c1syXSxcbiAgICAgICAgICBieXRlT2Zmc2V0VmFsdWVzLFxuICAgICAgICAgIGFjY2Vzc29yRGVmLnNwYXJzZS5jb3VudCAqIGl0ZW1TaXplXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGJ1ZmZlclZpZXcgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyBBdm9pZCBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsIEFycmF5QnVmZmVyLCBpZiB0aGUgYnVmZmVyVmlldyB3YXNuJ3QgaW5pdGlhbGl6ZWQgd2l0aCB6ZXJvZXMuXG4gICAgICAgICAgYnVmZmVyQXR0cmlidXRlID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZShcbiAgICAgICAgICAgIGJ1ZmZlckF0dHJpYnV0ZS5hcnJheS5zbGljZSgpLFxuICAgICAgICAgICAgYnVmZmVyQXR0cmlidXRlLml0ZW1TaXplLFxuICAgICAgICAgICAgYnVmZmVyQXR0cmlidXRlLm5vcm1hbGl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gc3BhcnNlSW5kaWNlcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gc3BhcnNlSW5kaWNlc1tpXTtcblxuICAgICAgICAgIGJ1ZmZlckF0dHJpYnV0ZS5zZXRYKGluZGV4LCBzcGFyc2VWYWx1ZXNbaSAqIGl0ZW1TaXplXSk7XG4gICAgICAgICAgaWYgKGl0ZW1TaXplID49IDIpIGJ1ZmZlckF0dHJpYnV0ZS5zZXRZKGluZGV4LCBzcGFyc2VWYWx1ZXNbaSAqIGl0ZW1TaXplICsgMV0pO1xuICAgICAgICAgIGlmIChpdGVtU2l6ZSA+PSAzKSBidWZmZXJBdHRyaWJ1dGUuc2V0WihpbmRleCwgc3BhcnNlVmFsdWVzW2kgKiBpdGVtU2l6ZSArIDJdKTtcbiAgICAgICAgICBpZiAoaXRlbVNpemUgPj0gNCkgYnVmZmVyQXR0cmlidXRlLnNldFcoaW5kZXgsIHNwYXJzZVZhbHVlc1tpICogaXRlbVNpemUgKyAzXSk7XG4gICAgICAgICAgaWYgKGl0ZW1TaXplID49IDUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGl0ZW1TaXplIGluIHNwYXJzZSBCdWZmZXJBdHRyaWJ1dGUuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJ1ZmZlckF0dHJpYnV0ZTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI3RleHR1cmVzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0ZXh0dXJlSW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxUSFJFRS5UZXh0dXJlPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRUZXh0dXJlID0gZnVuY3Rpb24gKHRleHR1cmVJbmRleCkge1xuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIHZhciB0ZXh0dXJlTG9hZGVyID0gdGhpcy50ZXh0dXJlTG9hZGVyO1xuXG4gICAgdmFyIFVSTCA9IHNlbGYuVVJMIHx8IHNlbGYud2Via2l0VVJMO1xuXG4gICAgdmFyIHRleHR1cmVEZWYgPSBqc29uLnRleHR1cmVzW3RleHR1cmVJbmRleF07XG5cbiAgICB2YXIgdGV4dHVyZUV4dGVuc2lvbnMgPSB0ZXh0dXJlRGVmLmV4dGVuc2lvbnMgfHwge307XG5cbiAgICB2YXIgc291cmNlO1xuXG4gICAgaWYgKHRleHR1cmVFeHRlbnNpb25zW0VYVEVOU0lPTlMuTVNGVF9URVhUVVJFX0REU10pIHtcbiAgICAgIHNvdXJjZSA9IGpzb24uaW1hZ2VzW3RleHR1cmVFeHRlbnNpb25zW0VYVEVOU0lPTlMuTVNGVF9URVhUVVJFX0REU10uc291cmNlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgc291cmNlID0ganNvbi5pbWFnZXNbdGV4dHVyZURlZi5zb3VyY2VdO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2VVUkkgPSBzb3VyY2UudXJpO1xuICAgIHZhciBpc09iamVjdFVSTCA9IGZhbHNlO1xuXG4gICAgaWYgKHNvdXJjZS5idWZmZXJWaWV3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIExvYWQgYmluYXJ5IGltYWdlIGRhdGEgZnJvbSBidWZmZXJWaWV3LCBpZiBwcm92aWRlZC5cblxuICAgICAgc291cmNlVVJJID0gcGFyc2VyLmdldERlcGVuZGVuY3koJ2J1ZmZlclZpZXcnLCBzb3VyY2UuYnVmZmVyVmlldykudGhlbihmdW5jdGlvbiAoYnVmZmVyVmlldykge1xuICAgICAgICBpc09iamVjdFVSTCA9IHRydWU7XG4gICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2J1ZmZlclZpZXddLCB7IHR5cGU6IHNvdXJjZS5taW1lVHlwZSB9KTtcbiAgICAgICAgc291cmNlVVJJID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZVVSSTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc291cmNlVVJJKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHNvdXJjZVVSSSkge1xuICAgICAgICAvLyBMb2FkIFRleHR1cmUgcmVzb3VyY2UuXG5cbiAgICAgICAgdmFyIGxvYWRlciA9IG9wdGlvbnMubWFuYWdlci5nZXRIYW5kbGVyKHNvdXJjZVVSSSk7XG5cbiAgICAgICAgaWYgKCFsb2FkZXIpIHtcbiAgICAgICAgICBsb2FkZXIgPSB0ZXh0dXJlRXh0ZW5zaW9uc1tFWFRFTlNJT05TLk1TRlRfVEVYVFVSRV9ERFNdXG4gICAgICAgICAgICA/IHBhcnNlci5leHRlbnNpb25zW0VYVEVOU0lPTlMuTVNGVF9URVhUVVJFX0REU10uZGRzTG9hZGVyXG4gICAgICAgICAgICA6IHRleHR1cmVMb2FkZXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGxvYWRlci5sb2FkKHJlc29sdmVVUkwoc291cmNlVVJJLCBvcHRpb25zLnBhdGgpLCByZXNvbHZlLCB1bmRlZmluZWQsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIC8vIENsZWFuIHVwIHJlc291cmNlcyBhbmQgY29uZmlndXJlIFRleHR1cmUuXG5cbiAgICAgICAgaWYgKGlzT2JqZWN0VVJMID09PSB0cnVlKSB7XG4gICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChzb3VyY2VVUkkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGV4dHVyZS5mbGlwWSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlRGVmLm5hbWUpIHRleHR1cmUubmFtZSA9IHRleHR1cmVEZWYubmFtZTtcblxuICAgICAgICAvLyBJZ25vcmUgdW5rbm93biBtaW1lIHR5cGVzLCBsaWtlIEREUyBmaWxlcy5cbiAgICAgICAgaWYgKHNvdXJjZS5taW1lVHlwZSBpbiBNSU1FX1RZUEVfRk9STUFUUykge1xuICAgICAgICAgIHRleHR1cmUuZm9ybWF0ID0gTUlNRV9UWVBFX0ZPUk1BVFNbc291cmNlLm1pbWVUeXBlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzYW1wbGVycyA9IGpzb24uc2FtcGxlcnMgfHwge307XG4gICAgICAgIHZhciBzYW1wbGVyID0gc2FtcGxlcnNbdGV4dHVyZURlZi5zYW1wbGVyXSB8fCB7fTtcblxuICAgICAgICB0ZXh0dXJlLm1hZ0ZpbHRlciA9IFdFQkdMX0ZJTFRFUlNbc2FtcGxlci5tYWdGaWx0ZXJdIHx8IExpbmVhckZpbHRlcjtcbiAgICAgICAgdGV4dHVyZS5taW5GaWx0ZXIgPSBXRUJHTF9GSUxURVJTW3NhbXBsZXIubWluRmlsdGVyXSB8fCBMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXI7XG4gICAgICAgIHRleHR1cmUud3JhcFMgPSBXRUJHTF9XUkFQUElOR1Nbc2FtcGxlci53cmFwU10gfHwgUmVwZWF0V3JhcHBpbmc7XG4gICAgICAgIHRleHR1cmUud3JhcFQgPSBXRUJHTF9XUkFQUElOR1Nbc2FtcGxlci53cmFwVF0gfHwgUmVwZWF0V3JhcHBpbmc7XG5cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQXN5bmNocm9ub3VzbHkgYXNzaWducyBhIHRleHR1cmUgdG8gdGhlIGdpdmVuIG1hdGVyaWFsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRlcmlhbFBhcmFtc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gbWFwTmFtZVxuICAgKiBAcGFyYW0ge09iamVjdH0gbWFwRGVmXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5hc3NpZ25UZXh0dXJlID0gZnVuY3Rpb24gKG1hdGVyaWFsUGFyYW1zLCBtYXBOYW1lLCBtYXBEZWYpIHtcbiAgICB2YXIgcGFyc2VyID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLmdldERlcGVuZGVuY3koJ3RleHR1cmUnLCBtYXBEZWYuaW5kZXgpLnRoZW4oZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgIGlmICghdGV4dHVyZS5pc0NvbXByZXNzZWRUZXh0dXJlKSB7XG4gICAgICAgIHN3aXRjaCAobWFwTmFtZSkge1xuICAgICAgICAgIGNhc2UgJ2FvTWFwJzpcbiAgICAgICAgICBjYXNlICdlbWlzc2l2ZU1hcCc6XG4gICAgICAgICAgY2FzZSAnbWV0YWxuZXNzTWFwJzpcbiAgICAgICAgICBjYXNlICdub3JtYWxNYXAnOlxuICAgICAgICAgIGNhc2UgJ3JvdWdobmVzc01hcCc6XG4gICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCA9IFJHQkZvcm1hdDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIE1hdGVyaWFscyBzYW1wbGUgYW9NYXAgZnJvbSBVViBzZXQgMSBhbmQgb3RoZXIgbWFwcyBmcm9tIFVWIHNldCAwIC0gdGhpcyBjYW4ndCBiZSBjb25maWd1cmVkXG4gICAgICAvLyBIb3dldmVyLCB3ZSB3aWxsIGNvcHkgVVYgc2V0IDAgdG8gVVYgc2V0IDEgb24gZGVtYW5kIGZvciBhb01hcFxuICAgICAgaWYgKFxuICAgICAgICBtYXBEZWYudGV4Q29vcmQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBtYXBEZWYudGV4Q29vcmQgIT0gMCAmJlxuICAgICAgICAhKG1hcE5hbWUgPT09ICdhb01hcCcgJiYgbWFwRGVmLnRleENvb3JkID09IDEpXG4gICAgICApIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdUSFJFRS5HTFRGTG9hZGVyOiBDdXN0b20gVVYgc2V0ICcgK1xuICAgICAgICAgIG1hcERlZi50ZXhDb29yZCArXG4gICAgICAgICAgJyBmb3IgdGV4dHVyZSAnICtcbiAgICAgICAgICBtYXBOYW1lICtcbiAgICAgICAgICAnIG5vdCB5ZXQgc3VwcG9ydGVkLidcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcnNlci5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX1RFWFRVUkVfVFJBTlNGT1JNXSkge1xuICAgICAgICB2YXIgdHJhbnNmb3JtID1cbiAgICAgICAgICAgICAgbWFwRGVmLmV4dGVuc2lvbnMgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gbWFwRGVmLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk1dXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgICAgIHRleHR1cmUgPSBwYXJzZXIuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STV0uZXh0ZW5kVGV4dHVyZShcbiAgICAgICAgICAgIHRleHR1cmUsXG4gICAgICAgICAgICB0cmFuc2Zvcm1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1hdGVyaWFsUGFyYW1zW21hcE5hbWVdID0gdGV4dHVyZTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQXNzaWducyBmaW5hbCBtYXRlcmlhbCB0byBhIE1lc2gsIExpbmUsIG9yIFBvaW50cyBpbnN0YW5jZS4gVGhlIGluc3RhbmNlXG4gICAqIGFscmVhZHkgaGFzIGEgbWF0ZXJpYWwgKGdlbmVyYXRlZCBmcm9tIHRoZSBnbFRGIG1hdGVyaWFsIG9wdGlvbnMgYWxvbmUpXG4gICAqIGJ1dCByZXVzZSBvZiB0aGUgc2FtZSBnbFRGIG1hdGVyaWFsIG1heSByZXF1aXJlIG11bHRpcGxlIHRocmVlanMgbWF0ZXJpYWxzXG4gICAqIHRvIGFjY29tb2RhdGUgZGlmZmVyZW50IHByaW1pdGl2ZSB0eXBlcywgZGVmaW5lcywgZXRjLiBOZXcgbWF0ZXJpYWxzIHdpbGxcbiAgICogYmUgY3JlYXRlZCBpZiBuZWNlc3NhcnksIGFuZCByZXVzZWQgZnJvbSBhIGNhY2hlLlxuICAgKiBAcGFyYW0gIHtPYmplY3QzRH0gbWVzaCBNZXNoLCBMaW5lLCBvciBQb2ludHMgaW5zdGFuY2UuXG4gICAqL1xuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5hc3NpZ25GaW5hbE1hdGVyaWFsID0gZnVuY3Rpb24gKG1lc2gpIHtcbiAgICB2YXIgZ2VvbWV0cnkgPSBtZXNoLmdlb21ldHJ5O1xuICAgIHZhciBtYXRlcmlhbCA9IG1lc2gubWF0ZXJpYWw7XG5cbiAgICB2YXIgdXNlVmVydGV4VGFuZ2VudHMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLnRhbmdlbnQgIT09IHVuZGVmaW5lZDtcbiAgICB2YXIgdXNlVmVydGV4Q29sb3JzID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5jb2xvciAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciB1c2VGbGF0U2hhZGluZyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFsID09PSB1bmRlZmluZWQ7XG4gICAgdmFyIHVzZVNraW5uaW5nID0gbWVzaC5pc1NraW5uZWRNZXNoID09PSB0cnVlO1xuICAgIHZhciB1c2VNb3JwaFRhcmdldHMgPSBPYmplY3Qua2V5cyhnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMpLmxlbmd0aCA+IDA7XG4gICAgdmFyIHVzZU1vcnBoTm9ybWFscyA9IHVzZU1vcnBoVGFyZ2V0cyAmJiBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsICE9PSB1bmRlZmluZWQ7XG5cbiAgICBpZiAobWVzaC5pc1BvaW50cykge1xuICAgICAgdmFyIGNhY2hlS2V5ID0gJ1BvaW50c01hdGVyaWFsOicgKyBtYXRlcmlhbC51dWlkO1xuXG4gICAgICB2YXIgcG9pbnRzTWF0ZXJpYWwgPSB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XG5cbiAgICAgIGlmICghcG9pbnRzTWF0ZXJpYWwpIHtcbiAgICAgICAgcG9pbnRzTWF0ZXJpYWwgPSBuZXcgUG9pbnRzTWF0ZXJpYWwoKTtcbiAgICAgICAgTWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbChwb2ludHNNYXRlcmlhbCwgbWF0ZXJpYWwpO1xuICAgICAgICBwb2ludHNNYXRlcmlhbC5jb2xvci5jb3B5KG1hdGVyaWFsLmNvbG9yKTtcbiAgICAgICAgcG9pbnRzTWF0ZXJpYWwubWFwID0gbWF0ZXJpYWwubWFwO1xuICAgICAgICBwb2ludHNNYXRlcmlhbC5zaXplQXR0ZW51YXRpb24gPSBmYWxzZTsgLy8gZ2xURiBzcGVjIHNheXMgcG9pbnRzIHNob3VsZCBiZSAxcHhcblxuICAgICAgICB0aGlzLmNhY2hlLmFkZChjYWNoZUtleSwgcG9pbnRzTWF0ZXJpYWwpO1xuICAgICAgfVxuXG4gICAgICBtYXRlcmlhbCA9IHBvaW50c01hdGVyaWFsO1xuICAgIH0gZWxzZSBpZiAobWVzaC5pc0xpbmUpIHtcbiAgICAgIHZhciBjYWNoZUtleSA9ICdMaW5lQmFzaWNNYXRlcmlhbDonICsgbWF0ZXJpYWwudXVpZDtcblxuICAgICAgdmFyIGxpbmVNYXRlcmlhbCA9IHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcblxuICAgICAgaWYgKCFsaW5lTWF0ZXJpYWwpIHtcbiAgICAgICAgbGluZU1hdGVyaWFsID0gbmV3IExpbmVCYXNpY01hdGVyaWFsKCk7XG4gICAgICAgIE1hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwobGluZU1hdGVyaWFsLCBtYXRlcmlhbCk7XG4gICAgICAgIGxpbmVNYXRlcmlhbC5jb2xvci5jb3B5KG1hdGVyaWFsLmNvbG9yKTtcblxuICAgICAgICB0aGlzLmNhY2hlLmFkZChjYWNoZUtleSwgbGluZU1hdGVyaWFsKTtcbiAgICAgIH1cblxuICAgICAgbWF0ZXJpYWwgPSBsaW5lTWF0ZXJpYWw7XG4gICAgfVxuXG4gICAgLy8gQ2xvbmUgdGhlIG1hdGVyaWFsIGlmIGl0IHdpbGwgYmUgbW9kaWZpZWRcbiAgICBpZiAodXNlVmVydGV4VGFuZ2VudHMgfHwgdXNlVmVydGV4Q29sb3JzIHx8IHVzZUZsYXRTaGFkaW5nIHx8IHVzZVNraW5uaW5nIHx8IHVzZU1vcnBoVGFyZ2V0cykge1xuICAgICAgdmFyIGNhY2hlS2V5ID0gJ0Nsb25lZE1hdGVyaWFsOicgKyBtYXRlcmlhbC51dWlkICsgJzonO1xuXG4gICAgICBpZiAobWF0ZXJpYWwuaXNHTFRGU3BlY3VsYXJHbG9zc2luZXNzTWF0ZXJpYWwpIGNhY2hlS2V5ICs9ICdzcGVjdWxhci1nbG9zc2luZXNzOic7XG4gICAgICBpZiAodXNlU2tpbm5pbmcpIGNhY2hlS2V5ICs9ICdza2lubmluZzonO1xuICAgICAgaWYgKHVzZVZlcnRleFRhbmdlbnRzKSBjYWNoZUtleSArPSAndmVydGV4LXRhbmdlbnRzOic7XG4gICAgICBpZiAodXNlVmVydGV4Q29sb3JzKSBjYWNoZUtleSArPSAndmVydGV4LWNvbG9yczonO1xuICAgICAgaWYgKHVzZUZsYXRTaGFkaW5nKSBjYWNoZUtleSArPSAnZmxhdC1zaGFkaW5nOic7XG4gICAgICBpZiAodXNlTW9ycGhUYXJnZXRzKSBjYWNoZUtleSArPSAnbW9ycGgtdGFyZ2V0czonO1xuICAgICAgaWYgKHVzZU1vcnBoTm9ybWFscykgY2FjaGVLZXkgKz0gJ21vcnBoLW5vcm1hbHM6JztcblxuICAgICAgdmFyIGNhY2hlZE1hdGVyaWFsID0gdGhpcy5jYWNoZS5nZXQoY2FjaGVLZXkpO1xuXG4gICAgICBpZiAoIWNhY2hlZE1hdGVyaWFsKSB7XG4gICAgICAgIGNhY2hlZE1hdGVyaWFsID0gbWF0ZXJpYWwuY2xvbmUoKTtcblxuICAgICAgICBpZiAodXNlU2tpbm5pbmcpIGNhY2hlZE1hdGVyaWFsLnNraW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHVzZVZlcnRleFRhbmdlbnRzKSBjYWNoZWRNYXRlcmlhbC52ZXJ0ZXhUYW5nZW50cyA9IHRydWU7XG4gICAgICAgIGlmICh1c2VWZXJ0ZXhDb2xvcnMpIGNhY2hlZE1hdGVyaWFsLnZlcnRleENvbG9ycyA9IHRydWU7XG4gICAgICAgIGlmICh1c2VGbGF0U2hhZGluZykgY2FjaGVkTWF0ZXJpYWwuZmxhdFNoYWRpbmcgPSB0cnVlO1xuICAgICAgICBpZiAodXNlTW9ycGhUYXJnZXRzKSBjYWNoZWRNYXRlcmlhbC5tb3JwaFRhcmdldHMgPSB0cnVlO1xuICAgICAgICBpZiAodXNlTW9ycGhOb3JtYWxzKSBjYWNoZWRNYXRlcmlhbC5tb3JwaE5vcm1hbHMgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuY2FjaGUuYWRkKGNhY2hlS2V5LCBjYWNoZWRNYXRlcmlhbCk7XG4gICAgICB9XG5cbiAgICAgIG1hdGVyaWFsID0gY2FjaGVkTWF0ZXJpYWw7XG4gICAgfVxuXG4gICAgLy8gd29ya2Fyb3VuZHMgZm9yIG1lc2ggYW5kIGdlb21ldHJ5XG5cbiAgICBpZiAoXG4gICAgICBtYXRlcmlhbC5hb01hcCAmJlxuICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlcy51djIgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlcy51diAhPT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3V2MicsIGdlb21ldHJ5LmF0dHJpYnV0ZXMudXYpO1xuICAgIH1cblxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzExNDM4I2lzc3VlY29tbWVudC01MDcwMDM5OTVcbiAgICBpZiAobWF0ZXJpYWwubm9ybWFsU2NhbGUgJiYgIXVzZVZlcnRleFRhbmdlbnRzKSB7XG4gICAgICBtYXRlcmlhbC5ub3JtYWxTY2FsZS55ID0gLW1hdGVyaWFsLm5vcm1hbFNjYWxlLnk7XG4gICAgfVxuXG4gICAgaWYgKG1hdGVyaWFsLmNsZWFyY29hdE5vcm1hbFNjYWxlICYmICF1c2VWZXJ0ZXhUYW5nZW50cykge1xuICAgICAgbWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsU2NhbGUueSA9IC1tYXRlcmlhbC5jbGVhcmNvYXROb3JtYWxTY2FsZS55O1xuICAgIH1cblxuICAgIG1lc2gubWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNtYXRlcmlhbHNcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1hdGVyaWFsSW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxNYXRlcmlhbD59XG4gICAqL1xuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkTWF0ZXJpYWwgPSBmdW5jdGlvbiAobWF0ZXJpYWxJbmRleCkge1xuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xuICAgIHZhciBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuICAgIHZhciBtYXRlcmlhbERlZiA9IGpzb24ubWF0ZXJpYWxzW21hdGVyaWFsSW5kZXhdO1xuXG4gICAgdmFyIG1hdGVyaWFsVHlwZTtcbiAgICB2YXIgbWF0ZXJpYWxQYXJhbXMgPSB7fTtcbiAgICB2YXIgbWF0ZXJpYWxFeHRlbnNpb25zID0gbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCB7fTtcblxuICAgIHZhciBwZW5kaW5nID0gW107XG5cbiAgICBpZiAobWF0ZXJpYWxFeHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTU10pIHtcbiAgICAgIHZhciBzZ0V4dGVuc2lvbiA9IGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTXTtcbiAgICAgIG1hdGVyaWFsVHlwZSA9IHNnRXh0ZW5zaW9uLmdldE1hdGVyaWFsVHlwZSgpO1xuICAgICAgcGVuZGluZy5wdXNoKHNnRXh0ZW5zaW9uLmV4dGVuZFBhcmFtcyhtYXRlcmlhbFBhcmFtcywgbWF0ZXJpYWxEZWYsIHBhcnNlcikpO1xuICAgIH0gZWxzZSBpZiAobWF0ZXJpYWxFeHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19VTkxJVF0pIHtcbiAgICAgIHZhciBrbXVFeHRlbnNpb24gPSBleHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19VTkxJVF07XG4gICAgICBtYXRlcmlhbFR5cGUgPSBrbXVFeHRlbnNpb24uZ2V0TWF0ZXJpYWxUeXBlKCk7XG4gICAgICBwZW5kaW5nLnB1c2goa211RXh0ZW5zaW9uLmV4dGVuZFBhcmFtcyhtYXRlcmlhbFBhcmFtcywgbWF0ZXJpYWxEZWYsIHBhcnNlcikpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTcGVjaWZpY2F0aW9uOlxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI21ldGFsbGljLXJvdWdobmVzcy1tYXRlcmlhbFxuXG4gICAgICBtYXRlcmlhbFR5cGUgPSBNZXNoU3RhbmRhcmRNYXRlcmlhbDtcblxuICAgICAgdmFyIG1ldGFsbGljUm91Z2huZXNzID0gbWF0ZXJpYWxEZWYucGJyTWV0YWxsaWNSb3VnaG5lc3MgfHwge307XG5cbiAgICAgIG1hdGVyaWFsUGFyYW1zLmNvbG9yID0gbmV3IENvbG9yKDEuMCwgMS4wLCAxLjApO1xuICAgICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IDEuMDtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yKSkge1xuICAgICAgICB2YXIgYXJyYXkgPSBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3I7XG5cbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IuZnJvbUFycmF5KGFycmF5KTtcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IGFycmF5WzNdO1xuICAgICAgfVxuXG4gICAgICBpZiAobWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ21hcCcsIG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUpXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIG1hdGVyaWFsUGFyYW1zLm1ldGFsbmVzcyA9XG4gICAgICAgIG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljRmFjdG9yICE9PSB1bmRlZmluZWQgPyBtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY0ZhY3RvciA6IDEuMDtcbiAgICAgIG1hdGVyaWFsUGFyYW1zLnJvdWdobmVzcyA9XG4gICAgICAgIG1ldGFsbGljUm91Z2huZXNzLnJvdWdobmVzc0ZhY3RvciAhPT0gdW5kZWZpbmVkID8gbWV0YWxsaWNSb3VnaG5lc3Mucm91Z2huZXNzRmFjdG9yIDogMS4wO1xuXG4gICAgICBpZiAobWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKFxuICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMsXG4gICAgICAgICAgICAnbWV0YWxuZXNzTWFwJyxcbiAgICAgICAgICAgIG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKFxuICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMsXG4gICAgICAgICAgICAncm91Z2huZXNzTWFwJyxcbiAgICAgICAgICAgIG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWF0ZXJpYWxEZWYuZG91YmxlU2lkZWQgPT09IHRydWUpIHtcbiAgICAgIG1hdGVyaWFsUGFyYW1zLnNpZGUgPSBEb3VibGVTaWRlO1xuICAgIH1cblxuICAgIHZhciBhbHBoYU1vZGUgPSBtYXRlcmlhbERlZi5hbHBoYU1vZGUgfHwgQUxQSEFfTU9ERVMuT1BBUVVFO1xuXG4gICAgaWYgKGFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuQkxFTkQpIHtcbiAgICAgIG1hdGVyaWFsUGFyYW1zLnRyYW5zcGFyZW50ID0gdHJ1ZTtcblxuICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8xNzcwNlxuICAgICAgbWF0ZXJpYWxQYXJhbXMuZGVwdGhXcml0ZSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXRlcmlhbFBhcmFtcy50cmFuc3BhcmVudCA9IGZhbHNlO1xuXG4gICAgICBpZiAoYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5NQVNLKSB7XG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmFscGhhVGVzdCA9XG4gICAgICAgICAgbWF0ZXJpYWxEZWYuYWxwaGFDdXRvZmYgIT09IHVuZGVmaW5lZCA/IG1hdGVyaWFsRGVmLmFscGhhQ3V0b2ZmIDogMC41O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXRlcmlhbERlZi5ub3JtYWxUZXh0dXJlICE9PSB1bmRlZmluZWQgJiYgbWF0ZXJpYWxUeXBlICE9PSBNZXNoQmFzaWNNYXRlcmlhbCkge1xuICAgICAgcGVuZGluZy5wdXNoKHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnbm9ybWFsTWFwJywgbWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZSkpO1xuXG4gICAgICBtYXRlcmlhbFBhcmFtcy5ub3JtYWxTY2FsZSA9IG5ldyBWZWN0b3IyKDEsIDEpO1xuXG4gICAgICBpZiAobWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZS5zY2FsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlLnNldChcbiAgICAgICAgICBtYXRlcmlhbERlZi5ub3JtYWxUZXh0dXJlLnNjYWxlLFxuICAgICAgICAgIG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmUuc2NhbGVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gTWVzaEJhc2ljTWF0ZXJpYWwpIHtcbiAgICAgIHBlbmRpbmcucHVzaChwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ2FvTWFwJywgbWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZSkpO1xuXG4gICAgICBpZiAobWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZS5zdHJlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmFvTWFwSW50ZW5zaXR5ID0gbWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZS5zdHJlbmd0aDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWF0ZXJpYWxEZWYuZW1pc3NpdmVGYWN0b3IgIT09IHVuZGVmaW5lZCAmJiBtYXRlcmlhbFR5cGUgIT09IE1lc2hCYXNpY01hdGVyaWFsKSB7XG4gICAgICBtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZSA9IG5ldyBDb2xvcigpLmZyb21BcnJheShtYXRlcmlhbERlZi5lbWlzc2l2ZUZhY3Rvcik7XG4gICAgfVxuXG4gICAgaWYgKG1hdGVyaWFsRGVmLmVtaXNzaXZlVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gTWVzaEJhc2ljTWF0ZXJpYWwpIHtcbiAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUobWF0ZXJpYWxQYXJhbXMsICdlbWlzc2l2ZU1hcCcsIG1hdGVyaWFsRGVmLmVtaXNzaXZlVGV4dHVyZSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKG1hdGVyaWFsRXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfQ0xFQVJDT0FUXSkge1xuICAgICAgdmFyIGNsZWFyY29hdEV4dGVuc2lvbiA9IGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX0NMRUFSQ09BVF07XG4gICAgICBtYXRlcmlhbFR5cGUgPSBjbGVhcmNvYXRFeHRlbnNpb24uZ2V0TWF0ZXJpYWxUeXBlKCk7XG4gICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgIGNsZWFyY29hdEV4dGVuc2lvbi5leHRlbmRQYXJhbXMobWF0ZXJpYWxQYXJhbXMsIHsgZXh0ZW5zaW9uczogbWF0ZXJpYWxFeHRlbnNpb25zIH0sIHBhcnNlcilcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG1hdGVyaWFsO1xuXG4gICAgICBpZiAobWF0ZXJpYWxUeXBlID09PSBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbCkge1xuICAgICAgICBtYXRlcmlhbCA9IGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTXS5jcmVhdGVNYXRlcmlhbChcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtc1xuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0ZXJpYWwgPSBuZXcgbWF0ZXJpYWxUeXBlKG1hdGVyaWFsUGFyYW1zKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1hdGVyaWFsRGVmLm5hbWUpIG1hdGVyaWFsLm5hbWUgPSBtYXRlcmlhbERlZi5uYW1lO1xuXG4gICAgICAvLyBiYXNlQ29sb3JUZXh0dXJlLCBlbWlzc2l2ZVRleHR1cmUsIGFuZCBzcGVjdWxhckdsb3NzaW5lc3NUZXh0dXJlIHVzZSBzUkdCIGVuY29kaW5nLlxuICAgICAgaWYgKG1hdGVyaWFsLm1hcCkgbWF0ZXJpYWwubWFwLmVuY29kaW5nID0gc1JHQkVuY29kaW5nO1xuICAgICAgaWYgKG1hdGVyaWFsLmVtaXNzaXZlTWFwKSBtYXRlcmlhbC5lbWlzc2l2ZU1hcC5lbmNvZGluZyA9IHNSR0JFbmNvZGluZztcblxuICAgICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShtYXRlcmlhbCwgbWF0ZXJpYWxEZWYpO1xuXG4gICAgICBpZiAobWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucykgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKGV4dGVuc2lvbnMsIG1hdGVyaWFsLCBtYXRlcmlhbERlZik7XG5cbiAgICAgIHJldHVybiBtYXRlcmlhbDtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcbiAgICogQHBhcmFtIHtHTFRGLlByaW1pdGl2ZX0gcHJpbWl0aXZlRGVmXG4gICAqIEBwYXJhbSB7R0xURlBhcnNlcn0gcGFyc2VyXG4gICAqL1xuICBmdW5jdGlvbiBjb21wdXRlQm91bmRzKGdlb21ldHJ5LCBwcmltaXRpdmVEZWYsIHBhcnNlcikge1xuICAgIHZhciBhdHRyaWJ1dGVzID0gcHJpbWl0aXZlRGVmLmF0dHJpYnV0ZXM7XG5cbiAgICB2YXIgYm94ID0gbmV3IEJveDMoKTtcblxuICAgIGlmIChhdHRyaWJ1dGVzLlBPU0lUSU9OICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBhY2Nlc3NvciA9IHBhcnNlci5qc29uLmFjY2Vzc29yc1thdHRyaWJ1dGVzLlBPU0lUSU9OXTtcblxuICAgICAgdmFyIG1pbiA9IGFjY2Vzc29yLm1pbjtcbiAgICAgIHZhciBtYXggPSBhY2Nlc3Nvci5tYXg7XG5cbiAgICAgIC8vIGdsVEYgcmVxdWlyZXMgJ21pbicgYW5kICdtYXgnLCBidXQgVlJNICh3aGljaCBleHRlbmRzIGdsVEYpIGN1cnJlbnRseSBpZ25vcmVzIHRoYXQgcmVxdWlyZW1lbnQuXG5cbiAgICAgIGlmIChtaW4gIT09IHVuZGVmaW5lZCAmJiBtYXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBib3guc2V0KG5ldyBWZWN0b3IzKG1pblswXSwgbWluWzFdLCBtaW5bMl0pLCBuZXcgVmVjdG9yMyhtYXhbMF0sIG1heFsxXSwgbWF4WzJdKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IE1pc3NpbmcgbWluL21heCBwcm9wZXJ0aWVzIGZvciBhY2Nlc3NvciBQT1NJVElPTi4nKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGFyZ2V0cyA9IHByaW1pdGl2ZURlZi50YXJnZXRzO1xuXG4gICAgaWYgKHRhcmdldHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIG1heERpc3BsYWNlbWVudCA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICB2YXIgdmVjdG9yID0gbmV3IFZlY3RvcjMoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gdGFyZ2V0cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0YXJnZXRzW2ldO1xuXG4gICAgICAgIGlmICh0YXJnZXQuUE9TSVRJT04gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHZhciBhY2Nlc3NvciA9IHBhcnNlci5qc29uLmFjY2Vzc29yc1t0YXJnZXQuUE9TSVRJT05dO1xuICAgICAgICAgIHZhciBtaW4gPSBhY2Nlc3Nvci5taW47XG4gICAgICAgICAgdmFyIG1heCA9IGFjY2Vzc29yLm1heDtcblxuICAgICAgICAgIC8vIGdsVEYgcmVxdWlyZXMgJ21pbicgYW5kICdtYXgnLCBidXQgVlJNICh3aGljaCBleHRlbmRzIGdsVEYpIGN1cnJlbnRseSBpZ25vcmVzIHRoYXQgcmVxdWlyZW1lbnQuXG5cbiAgICAgICAgICBpZiAobWluICE9PSB1bmRlZmluZWQgJiYgbWF4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gZ2V0IG1heCBvZiBhYnNvbHV0ZSBjb21wb25lbnRzIGJlY2F1c2UgdGFyZ2V0IHdlaWdodCBpcyBbLTEsMV1cbiAgICAgICAgICAgIHZlY3Rvci5zZXRYKE1hdGgubWF4KE1hdGguYWJzKG1pblswXSksIE1hdGguYWJzKG1heFswXSkpKTtcbiAgICAgICAgICAgIHZlY3Rvci5zZXRZKE1hdGgubWF4KE1hdGguYWJzKG1pblsxXSksIE1hdGguYWJzKG1heFsxXSkpKTtcbiAgICAgICAgICAgIHZlY3Rvci5zZXRaKE1hdGgubWF4KE1hdGguYWJzKG1pblsyXSksIE1hdGguYWJzKG1heFsyXSkpKTtcblxuICAgICAgICAgICAgLy8gTm90ZTogdGhpcyBhc3N1bWVzIHRoYXQgdGhlIHN1bSBvZiBhbGwgd2VpZ2h0cyBpcyBhdCBtb3N0IDEuIFRoaXMgaXNuJ3QgcXVpdGUgY29ycmVjdCAtIGl0J3MgbW9yZSBjb25zZXJ2YXRpdmVcbiAgICAgICAgICAgIC8vIHRvIGFzc3VtZSB0aGF0IGVhY2ggdGFyZ2V0IGNhbiBoYXZlIGEgbWF4IHdlaWdodCBvZiAxLiBIb3dldmVyLCBmb3Igc29tZSB1c2UgY2FzZXMgLSBub3RhYmx5LCB3aGVuIG1vcnBoIHRhcmdldHNcbiAgICAgICAgICAgIC8vIGFyZSB1c2VkIHRvIGltcGxlbWVudCBrZXktZnJhbWUgYW5pbWF0aW9ucyBhbmQgYXMgc3VjaCBvbmx5IHR3byBhcmUgYWN0aXZlIGF0IGEgdGltZSAtIHRoaXMgcmVzdWx0cyBpbiB2ZXJ5IGxhcmdlXG4gICAgICAgICAgICAvLyBib3hlcy4gU28gZm9yIG5vdyB3ZSBtYWtlIGEgYm94IHRoYXQncyBzb21ldGltZXMgYSB0b3VjaCB0b28gc21hbGwgYnV0IGlzIGhvcGVmdWxseSBtb3N0bHkgb2YgcmVhc29uYWJsZSBzaXplLlxuICAgICAgICAgICAgbWF4RGlzcGxhY2VtZW50Lm1heCh2ZWN0b3IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IE1pc3NpbmcgbWluL21heCBwcm9wZXJ0aWVzIGZvciBhY2Nlc3NvciBQT1NJVElPTi4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQXMgcGVyIGNvbW1lbnQgYWJvdmUgdGhpcyBib3ggaXNuJ3QgY29uc2VydmF0aXZlLCBidXQgaGFzIGEgcmVhc29uYWJsZSBzaXplIGZvciBhIHZlcnkgbGFyZ2UgbnVtYmVyIG9mIG1vcnBoIHRhcmdldHMuXG4gICAgICBib3guZXhwYW5kQnlWZWN0b3IobWF4RGlzcGxhY2VtZW50KTtcbiAgICB9XG5cbiAgICBnZW9tZXRyeS5ib3VuZGluZ0JveCA9IGJveDtcblxuICAgIHZhciBzcGhlcmUgPSBuZXcgU3BoZXJlKCk7XG5cbiAgICBib3guZ2V0Q2VudGVyKHNwaGVyZS5jZW50ZXIpO1xuICAgIHNwaGVyZS5yYWRpdXMgPSBib3gubWluLmRpc3RhbmNlVG8oYm94Lm1heCkgLyAyO1xuXG4gICAgZ2VvbWV0cnkuYm91bmRpbmdTcGhlcmUgPSBzcGhlcmU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcbiAgICogQHBhcmFtIHtHTFRGLlByaW1pdGl2ZX0gcHJpbWl0aXZlRGVmXG4gICAqIEBwYXJhbSB7R0xURlBhcnNlcn0gcGFyc2VyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QnVmZmVyR2VvbWV0cnk+fVxuICAgKi9cbiAgZnVuY3Rpb24gYWRkUHJpbWl0aXZlQXR0cmlidXRlcyhnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLCBwYXJzZXIpIHtcbiAgICB2YXIgYXR0cmlidXRlcyA9IHByaW1pdGl2ZURlZi5hdHRyaWJ1dGVzO1xuXG4gICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGFzc2lnbkF0dHJpYnV0ZUFjY2Vzc29yKGFjY2Vzc29ySW5kZXgsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgIHJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCBhY2Nlc3NvckluZGV4KS50aGVuKGZ1bmN0aW9uIChhY2Nlc3Nvcikge1xuICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYWNjZXNzb3IpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgZ2x0ZkF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgICAgdmFyIHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbZ2x0ZkF0dHJpYnV0ZU5hbWVdIHx8IGdsdGZBdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgIC8vIFNraXAgYXR0cmlidXRlcyBhbHJlYWR5IHByb3ZpZGVkIGJ5IGUuZy4gRHJhY28gZXh0ZW5zaW9uLlxuICAgICAgaWYgKHRocmVlQXR0cmlidXRlTmFtZSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKSBjb250aW51ZTtcblxuICAgICAgcGVuZGluZy5wdXNoKGFzc2lnbkF0dHJpYnV0ZUFjY2Vzc29yKGF0dHJpYnV0ZXNbZ2x0ZkF0dHJpYnV0ZU5hbWVdLCB0aHJlZUF0dHJpYnV0ZU5hbWUpKTtcbiAgICB9XG5cbiAgICBpZiAocHJpbWl0aXZlRGVmLmluZGljZXMgIT09IHVuZGVmaW5lZCAmJiAhZ2VvbWV0cnkuaW5kZXgpIHtcbiAgICAgIHZhciBhY2Nlc3NvciA9IHBhcnNlclxuICAgICAgICAuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCBwcmltaXRpdmVEZWYuaW5kaWNlcylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGFjY2Vzc29yKSB7XG4gICAgICAgICAgZ2VvbWV0cnkuc2V0SW5kZXgoYWNjZXNzb3IpO1xuICAgICAgICB9KTtcblxuICAgICAgcGVuZGluZy5wdXNoKGFjY2Vzc29yKTtcbiAgICB9XG5cbiAgICBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKGdlb21ldHJ5LCBwcmltaXRpdmVEZWYpO1xuXG4gICAgY29tcHV0ZUJvdW5kcyhnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLCBwYXJzZXIpO1xuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHByaW1pdGl2ZURlZi50YXJnZXRzICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBhZGRNb3JwaFRhcmdldHMoZ2VvbWV0cnksIHByaW1pdGl2ZURlZi50YXJnZXRzLCBwYXJzZXIpXG4gICAgICAgIDogZ2VvbWV0cnk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGRyYXdNb2RlXG4gICAqIEByZXR1cm4ge0J1ZmZlckdlb21ldHJ5fVxuICAgKi9cbiAgZnVuY3Rpb24gdG9UcmlhbmdsZXNEcmF3TW9kZShnZW9tZXRyeSwgZHJhd01vZGUpIHtcbiAgICB2YXIgaW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xuXG4gICAgLy8gZ2VuZXJhdGUgaW5kZXggaWYgbm90IHByZXNlbnRcblxuICAgIGlmIChpbmRleCA9PT0gbnVsbCkge1xuICAgICAgdmFyIGluZGljZXMgPSBbXTtcblxuICAgICAgdmFyIHBvc2l0aW9uID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCdwb3NpdGlvbicpO1xuXG4gICAgICBpZiAocG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvc2l0aW9uLmNvdW50OyBpKyspIHtcbiAgICAgICAgICBpbmRpY2VzLnB1c2goaSk7XG4gICAgICAgIH1cblxuICAgICAgICBnZW9tZXRyeS5zZXRJbmRleChpbmRpY2VzKTtcbiAgICAgICAgaW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnVEhSRUUuR0xURkxvYWRlci50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuZGVmaW5lZCBwb3NpdGlvbiBhdHRyaWJ1dGUuIFByb2Nlc3Npbmcgbm90IHBvc3NpYmxlLidcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG5cbiAgICB2YXIgbnVtYmVyT2ZUcmlhbmdsZXMgPSBpbmRleC5jb3VudCAtIDI7XG4gICAgdmFyIG5ld0luZGljZXMgPSBbXTtcblxuICAgIGlmIChkcmF3TW9kZSA9PT0gVHJpYW5nbGVGYW5EcmF3TW9kZSkge1xuICAgICAgLy8gZ2wuVFJJQU5HTEVfRkFOXG5cbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG51bWJlck9mVHJpYW5nbGVzOyBpKyspIHtcbiAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoMCkpO1xuICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XG4gICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAxKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGdsLlRSSUFOR0xFX1NUUklQXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyT2ZUcmlhbmdsZXM7IGkrKykge1xuICAgICAgICBpZiAoaSAlIDIgPT09IDApIHtcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XG4gICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDEpKTtcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAyKSk7XG4gICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDEpKTtcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmV3SW5kaWNlcy5sZW5ndGggLyAzICE9PSBudW1iZXJPZlRyaWFuZ2xlcykge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ1RIUkVFLkdMVEZMb2FkZXIudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmFibGUgdG8gZ2VuZXJhdGUgY29ycmVjdCBhbW91bnQgb2YgdHJpYW5nbGVzLidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gYnVpbGQgZmluYWwgZ2VvbWV0cnlcblxuICAgIHZhciBuZXdHZW9tZXRyeSA9IGdlb21ldHJ5LmNsb25lKCk7XG4gICAgbmV3R2VvbWV0cnkuc2V0SW5kZXgobmV3SW5kaWNlcyk7XG5cbiAgICByZXR1cm4gbmV3R2VvbWV0cnk7XG4gIH1cblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNnZW9tZXRyeVxuICAgKlxuICAgKiBDcmVhdGVzIEJ1ZmZlckdlb21ldHJpZXMgZnJvbSBwcmltaXRpdmVzLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PEdMVEYuUHJpbWl0aXZlPn0gcHJpbWl0aXZlc1xuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PEJ1ZmZlckdlb21ldHJ5Pj59XG4gICAqL1xuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkR2VvbWV0cmllcyA9IGZ1bmN0aW9uIChwcmltaXRpdmVzKSB7XG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XG4gICAgdmFyIGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG4gICAgdmFyIGNhY2hlID0gdGhpcy5wcmltaXRpdmVDYWNoZTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZURyYWNvUHJpbWl0aXZlKHByaW1pdGl2ZSkge1xuICAgICAgcmV0dXJuIGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTl1cbiAgICAgICAgLmRlY29kZVByaW1pdGl2ZShwcmltaXRpdmUsIHBhcnNlcilcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgICAgcmV0dXJuIGFkZFByaW1pdGl2ZUF0dHJpYnV0ZXMoZ2VvbWV0cnksIHByaW1pdGl2ZSwgcGFyc2VyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHByaW1pdGl2ZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgdmFyIHByaW1pdGl2ZSA9IHByaW1pdGl2ZXNbaV07XG4gICAgICB2YXIgY2FjaGVLZXkgPSBjcmVhdGVQcmltaXRpdmVLZXkocHJpbWl0aXZlKTtcblxuICAgICAgLy8gU2VlIGlmIHdlJ3ZlIGFscmVhZHkgY3JlYXRlZCB0aGlzIGdlb21ldHJ5XG4gICAgICB2YXIgY2FjaGVkID0gY2FjaGVbY2FjaGVLZXldO1xuXG4gICAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgIC8vIFVzZSB0aGUgY2FjaGVkIGdlb21ldHJ5IGlmIGl0IGV4aXN0c1xuICAgICAgICBwZW5kaW5nLnB1c2goY2FjaGVkLnByb21pc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5UHJvbWlzZTtcblxuICAgICAgICBpZiAocHJpbWl0aXZlLmV4dGVuc2lvbnMgJiYgcHJpbWl0aXZlLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTl0pIHtcbiAgICAgICAgICAvLyBVc2UgRFJBQ08gZ2VvbWV0cnkgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgZ2VvbWV0cnlQcm9taXNlID0gY3JlYXRlRHJhY29QcmltaXRpdmUocHJpbWl0aXZlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGdlb21ldHJ5XG4gICAgICAgICAgZ2VvbWV0cnlQcm9taXNlID0gYWRkUHJpbWl0aXZlQXR0cmlidXRlcyhuZXcgQnVmZmVyR2VvbWV0cnkoKSwgcHJpbWl0aXZlLCBwYXJzZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FjaGUgdGhpcyBnZW9tZXRyeVxuICAgICAgICBjYWNoZVtjYWNoZUtleV0gPSB7IHByaW1pdGl2ZTogcHJpbWl0aXZlLCBwcm9taXNlOiBnZW9tZXRyeVByb21pc2UgfTtcblxuICAgICAgICBwZW5kaW5nLnB1c2goZ2VvbWV0cnlQcm9taXNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjbWVzaGVzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtZXNoSW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxHcm91cHxNZXNofFNraW5uZWRNZXNoPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRNZXNoID0gZnVuY3Rpb24gKG1lc2hJbmRleCkge1xuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xuXG4gICAgdmFyIG1lc2hEZWYgPSBqc29uLm1lc2hlc1ttZXNoSW5kZXhdO1xuICAgIHZhciBwcmltaXRpdmVzID0gbWVzaERlZi5wcmltaXRpdmVzO1xuXG4gICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHByaW1pdGl2ZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgdmFyIG1hdGVyaWFsID1cbiAgICAgICAgICAgIHByaW1pdGl2ZXNbaV0ubWF0ZXJpYWwgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IGNyZWF0ZURlZmF1bHRNYXRlcmlhbCh0aGlzLmNhY2hlKVxuICAgICAgICAgICAgICA6IHRoaXMuZ2V0RGVwZW5kZW5jeSgnbWF0ZXJpYWwnLCBwcmltaXRpdmVzW2ldLm1hdGVyaWFsKTtcblxuICAgICAgcGVuZGluZy5wdXNoKG1hdGVyaWFsKTtcbiAgICB9XG5cbiAgICBwZW5kaW5nLnB1c2gocGFyc2VyLmxvYWRHZW9tZXRyaWVzKHByaW1pdGl2ZXMpKTtcblxuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICB2YXIgbWF0ZXJpYWxzID0gcmVzdWx0cy5zbGljZSgwLCByZXN1bHRzLmxlbmd0aCAtIDEpO1xuICAgICAgdmFyIGdlb21ldHJpZXMgPSByZXN1bHRzW3Jlc3VsdHMubGVuZ3RoIC0gMV07XG5cbiAgICAgIHZhciBtZXNoZXMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XG4gICAgICAgIHZhciBwcmltaXRpdmUgPSBwcmltaXRpdmVzW2ldO1xuXG4gICAgICAgIC8vIDEuIGNyZWF0ZSBNZXNoXG5cbiAgICAgICAgdmFyIG1lc2g7XG5cbiAgICAgICAgdmFyIG1hdGVyaWFsID0gbWF0ZXJpYWxzW2ldO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFUyB8fFxuICAgICAgICAgIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVfU1RSSVAgfHxcbiAgICAgICAgICBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX0ZBTiB8fFxuICAgICAgICAgIHByaW1pdGl2ZS5tb2RlID09PSB1bmRlZmluZWRcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gLmlzU2tpbm5lZE1lc2ggaXNuJ3QgaW4gZ2xURiBzcGVjLiBTZWUgLm1hcmtEZWZzKClcbiAgICAgICAgICBtZXNoID1cbiAgICAgICAgICAgIG1lc2hEZWYuaXNTa2lubmVkTWVzaCA9PT0gdHJ1ZVxuICAgICAgICAgICAgICA/IG5ldyBTa2lubmVkTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpXG4gICAgICAgICAgICAgIDogbmV3IE1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcblxuICAgICAgICAgIGlmIChtZXNoLmlzU2tpbm5lZE1lc2ggPT09IHRydWUgJiYgIW1lc2guZ2VvbWV0cnkuYXR0cmlidXRlcy5za2luV2VpZ2h0Lm5vcm1hbGl6ZWQpIHtcbiAgICAgICAgICAgIC8vIHdlIG5vcm1hbGl6ZSBmbG9hdGluZyBwb2ludCBza2luIHdlaWdodCBhcnJheSB0byBmaXggbWFsZm9ybWVkIGFzc2V0cyAoc2VlICMxNTMxOSlcbiAgICAgICAgICAgIC8vIGl0J3MgaW1wb3J0YW50IHRvIHNraXAgdGhpcyBmb3Igbm9uLWZsb2F0MzIgZGF0YSBzaW5jZSBub3JtYWxpemVTa2luV2VpZ2h0cyBhc3N1bWVzIG5vbi1ub3JtYWxpemVkIGlucHV0c1xuICAgICAgICAgICAgbWVzaC5ub3JtYWxpemVTa2luV2VpZ2h0cygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX1NUUklQKSB7XG4gICAgICAgICAgICBtZXNoLmdlb21ldHJ5ID0gdG9UcmlhbmdsZXNEcmF3TW9kZShtZXNoLmdlb21ldHJ5LCBUcmlhbmdsZVN0cmlwRHJhd01vZGUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5UUklBTkdMRV9GQU4pIHtcbiAgICAgICAgICAgIG1lc2guZ2VvbWV0cnkgPSB0b1RyaWFuZ2xlc0RyYXdNb2RlKG1lc2guZ2VvbWV0cnksIFRyaWFuZ2xlRmFuRHJhd01vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLkxJTkVTKSB7XG4gICAgICAgICAgbWVzaCA9IG5ldyBMaW5lU2VnbWVudHMoZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLkxJTkVfU1RSSVApIHtcbiAgICAgICAgICBtZXNoID0gbmV3IExpbmUoZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLkxJTkVfTE9PUCkge1xuICAgICAgICAgIG1lc2ggPSBuZXcgTGluZUxvb3AoZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlBPSU5UUykge1xuICAgICAgICAgIG1lc2ggPSBuZXcgUG9pbnRzKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBQcmltaXRpdmUgbW9kZSB1bnN1cHBvcnRlZDogJyArIHByaW1pdGl2ZS5tb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhtZXNoLmdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHVwZGF0ZU1vcnBoVGFyZ2V0cyhtZXNoLCBtZXNoRGVmKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lc2gubmFtZSA9IG1lc2hEZWYubmFtZSB8fCAnbWVzaF8nICsgbWVzaEluZGV4O1xuXG4gICAgICAgIGlmIChnZW9tZXRyaWVzLmxlbmd0aCA+IDEpIG1lc2gubmFtZSArPSAnXycgKyBpO1xuXG4gICAgICAgIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEobWVzaCwgbWVzaERlZik7XG5cbiAgICAgICAgcGFyc2VyLmFzc2lnbkZpbmFsTWF0ZXJpYWwobWVzaCk7XG5cbiAgICAgICAgbWVzaGVzLnB1c2gobWVzaCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBtZXNoZXNbMF07XG4gICAgICB9XG5cbiAgICAgIHZhciBncm91cCA9IG5ldyBHcm91cCgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBtZXNoZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICBncm91cC5hZGQobWVzaGVzW2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjY2FtZXJhc1xuICAgKiBAcGFyYW0ge251bWJlcn0gY2FtZXJhSW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxUSFJFRS5DYW1lcmE+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZENhbWVyYSA9IGZ1bmN0aW9uIChjYW1lcmFJbmRleCkge1xuICAgIHZhciBjYW1lcmE7XG4gICAgdmFyIGNhbWVyYURlZiA9IHRoaXMuanNvbi5jYW1lcmFzW2NhbWVyYUluZGV4XTtcbiAgICB2YXIgcGFyYW1zID0gY2FtZXJhRGVmW2NhbWVyYURlZi50eXBlXTtcblxuICAgIGlmICghcGFyYW1zKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IE1pc3NpbmcgY2FtZXJhIHBhcmFtZXRlcnMuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGNhbWVyYURlZi50eXBlID09PSAncGVyc3BlY3RpdmUnKSB7XG4gICAgICBjYW1lcmEgPSBuZXcgUGVyc3BlY3RpdmVDYW1lcmEoXG4gICAgICAgIE1hdGhVdGlscy5yYWRUb0RlZyhwYXJhbXMueWZvdiksXG4gICAgICAgIHBhcmFtcy5hc3BlY3RSYXRpbyB8fCAxLFxuICAgICAgICBwYXJhbXMuem5lYXIgfHwgMSxcbiAgICAgICAgcGFyYW1zLnpmYXIgfHwgMmU2XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoY2FtZXJhRGVmLnR5cGUgPT09ICdvcnRob2dyYXBoaWMnKSB7XG4gICAgICBjYW1lcmEgPSBuZXcgT3J0aG9ncmFwaGljQ2FtZXJhKFxuICAgICAgICAtcGFyYW1zLnhtYWcsXG4gICAgICAgIHBhcmFtcy54bWFnLFxuICAgICAgICBwYXJhbXMueW1hZyxcbiAgICAgICAgLXBhcmFtcy55bWFnLFxuICAgICAgICBwYXJhbXMuem5lYXIsXG4gICAgICAgIHBhcmFtcy56ZmFyXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChjYW1lcmFEZWYubmFtZSkgY2FtZXJhLm5hbWUgPSBjYW1lcmFEZWYubmFtZTtcblxuICAgIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoY2FtZXJhLCBjYW1lcmFEZWYpO1xuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjYW1lcmEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjc2tpbnNcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNraW5JbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdD59XG4gICAqL1xuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkU2tpbiA9IGZ1bmN0aW9uIChza2luSW5kZXgpIHtcbiAgICB2YXIgc2tpbkRlZiA9IHRoaXMuanNvbi5za2luc1tza2luSW5kZXhdO1xuXG4gICAgdmFyIHNraW5FbnRyeSA9IHsgam9pbnRzOiBza2luRGVmLmpvaW50cyB9O1xuXG4gICAgaWYgKHNraW5EZWYuaW52ZXJzZUJpbmRNYXRyaWNlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNraW5FbnRyeSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCBza2luRGVmLmludmVyc2VCaW5kTWF0cmljZXMpLnRoZW4oZnVuY3Rpb24gKGFjY2Vzc29yKSB7XG4gICAgICBza2luRW50cnkuaW52ZXJzZUJpbmRNYXRyaWNlcyA9IGFjY2Vzc29yO1xuXG4gICAgICByZXR1cm4gc2tpbkVudHJ5O1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjYW5pbWF0aW9uc1xuICAgKiBAcGFyYW0ge251bWJlcn0gYW5pbWF0aW9uSW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxBbmltYXRpb25DbGlwPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRBbmltYXRpb24gPSBmdW5jdGlvbiAoYW5pbWF0aW9uSW5kZXgpIHtcbiAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcblxuICAgIHZhciBhbmltYXRpb25EZWYgPSBqc29uLmFuaW1hdGlvbnNbYW5pbWF0aW9uSW5kZXhdO1xuXG4gICAgdmFyIHBlbmRpbmdOb2RlcyA9IFtdO1xuICAgIHZhciBwZW5kaW5nSW5wdXRBY2Nlc3NvcnMgPSBbXTtcbiAgICB2YXIgcGVuZGluZ091dHB1dEFjY2Vzc29ycyA9IFtdO1xuICAgIHZhciBwZW5kaW5nU2FtcGxlcnMgPSBbXTtcbiAgICB2YXIgcGVuZGluZ1RhcmdldHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGFuaW1hdGlvbkRlZi5jaGFubmVscy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICB2YXIgY2hhbm5lbCA9IGFuaW1hdGlvbkRlZi5jaGFubmVsc1tpXTtcbiAgICAgIHZhciBzYW1wbGVyID0gYW5pbWF0aW9uRGVmLnNhbXBsZXJzW2NoYW5uZWwuc2FtcGxlcl07XG4gICAgICB2YXIgdGFyZ2V0ID0gY2hhbm5lbC50YXJnZXQ7XG4gICAgICB2YXIgbmFtZSA9IHRhcmdldC5ub2RlICE9PSB1bmRlZmluZWQgPyB0YXJnZXQubm9kZSA6IHRhcmdldC5pZDsgLy8gTk9URTogdGFyZ2V0LmlkIGlzIGRlcHJlY2F0ZWQuXG4gICAgICB2YXIgaW5wdXQgPVxuICAgICAgICAgICAgYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IGFuaW1hdGlvbkRlZi5wYXJhbWV0ZXJzW3NhbXBsZXIuaW5wdXRdXG4gICAgICAgICAgICAgIDogc2FtcGxlci5pbnB1dDtcbiAgICAgIHZhciBvdXRwdXQgPVxuICAgICAgICAgICAgYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IGFuaW1hdGlvbkRlZi5wYXJhbWV0ZXJzW3NhbXBsZXIub3V0cHV0XVxuICAgICAgICAgICAgICA6IHNhbXBsZXIub3V0cHV0O1xuXG4gICAgICBwZW5kaW5nTm9kZXMucHVzaCh0aGlzLmdldERlcGVuZGVuY3koJ25vZGUnLCBuYW1lKSk7XG4gICAgICBwZW5kaW5nSW5wdXRBY2Nlc3NvcnMucHVzaCh0aGlzLmdldERlcGVuZGVuY3koJ2FjY2Vzc29yJywgaW5wdXQpKTtcbiAgICAgIHBlbmRpbmdPdXRwdXRBY2Nlc3NvcnMucHVzaCh0aGlzLmdldERlcGVuZGVuY3koJ2FjY2Vzc29yJywgb3V0cHV0KSk7XG4gICAgICBwZW5kaW5nU2FtcGxlcnMucHVzaChzYW1wbGVyKTtcbiAgICAgIHBlbmRpbmdUYXJnZXRzLnB1c2godGFyZ2V0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgUHJvbWlzZS5hbGwocGVuZGluZ05vZGVzKSxcbiAgICAgIFByb21pc2UuYWxsKHBlbmRpbmdJbnB1dEFjY2Vzc29ycyksXG4gICAgICBQcm9taXNlLmFsbChwZW5kaW5nT3V0cHV0QWNjZXNzb3JzKSxcbiAgICAgIFByb21pc2UuYWxsKHBlbmRpbmdTYW1wbGVycyksXG4gICAgICBQcm9taXNlLmFsbChwZW5kaW5nVGFyZ2V0cyksXG4gICAgXSkudGhlbihmdW5jdGlvbiAoZGVwZW5kZW5jaWVzKSB7XG4gICAgICB2YXIgbm9kZXMgPSBkZXBlbmRlbmNpZXNbMF07XG4gICAgICB2YXIgaW5wdXRBY2Nlc3NvcnMgPSBkZXBlbmRlbmNpZXNbMV07XG4gICAgICB2YXIgb3V0cHV0QWNjZXNzb3JzID0gZGVwZW5kZW5jaWVzWzJdO1xuICAgICAgdmFyIHNhbXBsZXJzID0gZGVwZW5kZW5jaWVzWzNdO1xuICAgICAgdmFyIHRhcmdldHMgPSBkZXBlbmRlbmNpZXNbNF07XG5cbiAgICAgIHZhciB0cmFja3MgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gbm9kZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICB2YXIgaW5wdXRBY2Nlc3NvciA9IGlucHV0QWNjZXNzb3JzW2ldO1xuICAgICAgICB2YXIgb3V0cHV0QWNjZXNzb3IgPSBvdXRwdXRBY2Nlc3NvcnNbaV07XG4gICAgICAgIHZhciBzYW1wbGVyID0gc2FtcGxlcnNbaV07XG4gICAgICAgIHZhciB0YXJnZXQgPSB0YXJnZXRzW2ldO1xuXG4gICAgICAgIGlmIChub2RlID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuXG4gICAgICAgIG5vZGUudXBkYXRlTWF0cml4KCk7XG4gICAgICAgIG5vZGUubWF0cml4QXV0b1VwZGF0ZSA9IHRydWU7XG5cbiAgICAgICAgdmFyIFR5cGVkS2V5ZnJhbWVUcmFjaztcblxuICAgICAgICBzd2l0Y2ggKFBBVEhfUFJPUEVSVElFU1t0YXJnZXQucGF0aF0pIHtcbiAgICAgICAgICBjYXNlIFBBVEhfUFJPUEVSVElFUy53ZWlnaHRzOlxuICAgICAgICAgICAgVHlwZWRLZXlmcmFtZVRyYWNrID0gTnVtYmVyS2V5ZnJhbWVUcmFjaztcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBQQVRIX1BST1BFUlRJRVMucm90YXRpb246XG4gICAgICAgICAgICBUeXBlZEtleWZyYW1lVHJhY2sgPSBRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjaztcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBQQVRIX1BST1BFUlRJRVMucG9zaXRpb246XG4gICAgICAgICAgY2FzZSBQQVRIX1BST1BFUlRJRVMuc2NhbGU6XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIFR5cGVkS2V5ZnJhbWVUcmFjayA9IFZlY3RvcktleWZyYW1lVHJhY2s7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0YXJnZXROYW1lID0gbm9kZS5uYW1lID8gbm9kZS5uYW1lIDogbm9kZS51dWlkO1xuXG4gICAgICAgIHZhciBpbnRlcnBvbGF0aW9uID1cbiAgICAgICAgICAgICAgc2FtcGxlci5pbnRlcnBvbGF0aW9uICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IElOVEVSUE9MQVRJT05bc2FtcGxlci5pbnRlcnBvbGF0aW9uXVxuICAgICAgICAgICAgICAgIDogSW50ZXJwb2xhdGVMaW5lYXI7XG5cbiAgICAgICAgdmFyIHRhcmdldE5hbWVzID0gW107XG5cbiAgICAgICAgaWYgKFBBVEhfUFJPUEVSVElFU1t0YXJnZXQucGF0aF0gPT09IFBBVEhfUFJPUEVSVElFUy53ZWlnaHRzKSB7XG4gICAgICAgICAgLy8gTm9kZSBtYXkgYmUgYSBHcm91cCAoZ2xURiBtZXNoIHdpdGggc2V2ZXJhbCBwcmltaXRpdmVzKSBvciBhIE1lc2guXG4gICAgICAgICAgbm9kZS50cmF2ZXJzZShmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAob2JqZWN0LmlzTWVzaCA9PT0gdHJ1ZSAmJiBvYmplY3QubW9ycGhUYXJnZXRJbmZsdWVuY2VzKSB7XG4gICAgICAgICAgICAgIHRhcmdldE5hbWVzLnB1c2gob2JqZWN0Lm5hbWUgPyBvYmplY3QubmFtZSA6IG9iamVjdC51dWlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXJnZXROYW1lcy5wdXNoKHRhcmdldE5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG91dHB1dEFycmF5ID0gb3V0cHV0QWNjZXNzb3IuYXJyYXk7XG5cbiAgICAgICAgaWYgKG91dHB1dEFjY2Vzc29yLm5vcm1hbGl6ZWQpIHtcbiAgICAgICAgICB2YXIgc2NhbGU7XG5cbiAgICAgICAgICBpZiAob3V0cHV0QXJyYXkuY29uc3RydWN0b3IgPT09IEludDhBcnJheSkge1xuICAgICAgICAgICAgc2NhbGUgPSAxIC8gMTI3O1xuICAgICAgICAgIH0gZWxzZSBpZiAob3V0cHV0QXJyYXkuY29uc3RydWN0b3IgPT09IFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIHNjYWxlID0gMSAvIDI1NTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG91dHB1dEFycmF5LmNvbnN0cnVjdG9yID09IEludDE2QXJyYXkpIHtcbiAgICAgICAgICAgIHNjYWxlID0gMSAvIDMyNzY3O1xuICAgICAgICAgIH0gZWxzZSBpZiAob3V0cHV0QXJyYXkuY29uc3RydWN0b3IgPT09IFVpbnQxNkFycmF5KSB7XG4gICAgICAgICAgICBzY2FsZSA9IDEgLyA2NTUzNTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBVbnN1cHBvcnRlZCBvdXRwdXQgYWNjZXNzb3IgY29tcG9uZW50IHR5cGUuJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHNjYWxlZCA9IG5ldyBGbG9hdDMyQXJyYXkob3V0cHV0QXJyYXkubGVuZ3RoKTtcblxuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBqbCA9IG91dHB1dEFycmF5Lmxlbmd0aDsgaiA8IGpsOyBqKyspIHtcbiAgICAgICAgICAgIHNjYWxlZFtqXSA9IG91dHB1dEFycmF5W2pdICogc2NhbGU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb3V0cHV0QXJyYXkgPSBzY2FsZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBqID0gMCwgamwgPSB0YXJnZXROYW1lcy5sZW5ndGg7IGogPCBqbDsgaisrKSB7XG4gICAgICAgICAgdmFyIHRyYWNrID0gbmV3IFR5cGVkS2V5ZnJhbWVUcmFjayhcbiAgICAgICAgICAgIHRhcmdldE5hbWVzW2pdICsgJy4nICsgUEFUSF9QUk9QRVJUSUVTW3RhcmdldC5wYXRoXSxcbiAgICAgICAgICAgIGlucHV0QWNjZXNzb3IuYXJyYXksXG4gICAgICAgICAgICBvdXRwdXRBcnJheSxcbiAgICAgICAgICAgIGludGVycG9sYXRpb25cbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gT3ZlcnJpZGUgaW50ZXJwb2xhdGlvbiB3aXRoIGN1c3RvbSBmYWN0b3J5IG1ldGhvZC5cbiAgICAgICAgICBpZiAoc2FtcGxlci5pbnRlcnBvbGF0aW9uID09PSAnQ1VCSUNTUExJTkUnKSB7XG4gICAgICAgICAgICB0cmFjay5jcmVhdGVJbnRlcnBvbGFudCA9IGZ1bmN0aW9uIEludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZShyZXN1bHQpIHtcbiAgICAgICAgICAgICAgLy8gQSBDVUJJQ1NQTElORSBrZXlmcmFtZSBpbiBnbFRGIGhhcyB0aHJlZSBvdXRwdXQgdmFsdWVzIGZvciBlYWNoIGlucHV0IHZhbHVlLFxuICAgICAgICAgICAgICAvLyByZXByZXNlbnRpbmcgaW5UYW5nZW50LCBzcGxpbmVWZXJ0ZXgsIGFuZCBvdXRUYW5nZW50LiBBcyBhIHJlc3VsdCwgdHJhY2suZ2V0VmFsdWVTaXplKClcbiAgICAgICAgICAgICAgLy8gbXVzdCBiZSBkaXZpZGVkIGJ5IHRocmVlIHRvIGdldCB0aGUgaW50ZXJwb2xhbnQncyBzYW1wbGVTaXplIGFyZ3VtZW50LlxuXG4gICAgICAgICAgICAgIHJldHVybiBuZXcgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQoXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lcyxcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlcyxcbiAgICAgICAgICAgICAgICB0aGlzLmdldFZhbHVlU2l6ZSgpIC8gMyxcbiAgICAgICAgICAgICAgICByZXN1bHRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIE1hcmsgYXMgQ1VCSUNTUExJTkUuIGB0cmFjay5nZXRJbnRlcnBvbGF0aW9uKClgIGRvZXNuJ3Qgc3VwcG9ydCBjdXN0b20gaW50ZXJwb2xhbnRzLlxuICAgICAgICAgICAgdHJhY2suY3JlYXRlSW50ZXJwb2xhbnQuaXNJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRyYWNrcy5wdXNoKHRyYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgbmFtZSA9IGFuaW1hdGlvbkRlZi5uYW1lID8gYW5pbWF0aW9uRGVmLm5hbWUgOiAnYW5pbWF0aW9uXycgKyBhbmltYXRpb25JbmRleDtcblxuICAgICAgcmV0dXJuIG5ldyBBbmltYXRpb25DbGlwKG5hbWUsIHVuZGVmaW5lZCwgdHJhY2tzKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI25vZGVzLWFuZC1oaWVyYXJjaHlcbiAgICogQHBhcmFtIHtudW1iZXJ9IG5vZGVJbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdDNEPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWROb2RlID0gZnVuY3Rpb24gKG5vZGVJbmRleCkge1xuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xuICAgIHZhciBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuXG4gICAgdmFyIG1lc2hSZWZlcmVuY2VzID0ganNvbi5tZXNoUmVmZXJlbmNlcztcbiAgICB2YXIgbWVzaFVzZXMgPSBqc29uLm1lc2hVc2VzO1xuXG4gICAgdmFyIG5vZGVEZWYgPSBqc29uLm5vZGVzW25vZGVJbmRleF07XG5cbiAgICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwZW5kaW5nID0gW107XG5cbiAgICAgIGlmIChub2RlRGVmLm1lc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgICAgcGFyc2VyLmdldERlcGVuZGVuY3koJ21lc2gnLCBub2RlRGVmLm1lc2gpLnRoZW4oZnVuY3Rpb24gKG1lc2gpIHtcbiAgICAgICAgICAgIHZhciBub2RlO1xuXG4gICAgICAgICAgICBpZiAobWVzaFJlZmVyZW5jZXNbbm9kZURlZi5tZXNoXSA+IDEpIHtcbiAgICAgICAgICAgICAgdmFyIGluc3RhbmNlTnVtID0gbWVzaFVzZXNbbm9kZURlZi5tZXNoXSsrO1xuXG4gICAgICAgICAgICAgIG5vZGUgPSBtZXNoLmNsb25lKCk7XG4gICAgICAgICAgICAgIG5vZGUubmFtZSArPSAnX2luc3RhbmNlXycgKyBpbnN0YW5jZU51bTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5vZGUgPSBtZXNoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB3ZWlnaHRzIGFyZSBwcm92aWRlZCBvbiB0aGUgbm9kZSwgb3ZlcnJpZGUgd2VpZ2h0cyBvbiB0aGUgbWVzaC5cbiAgICAgICAgICAgIGlmIChub2RlRGVmLndlaWdodHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBub2RlLnRyYXZlcnNlKGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFvLmlzTWVzaCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gbm9kZURlZi53ZWlnaHRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgIG8ubW9ycGhUYXJnZXRJbmZsdWVuY2VzW2ldID0gbm9kZURlZi53ZWlnaHRzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlRGVmLmNhbWVyYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBlbmRpbmcucHVzaChwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnY2FtZXJhJywgbm9kZURlZi5jYW1lcmEpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBub2RlRGVmLmV4dGVuc2lvbnMgJiZcbiAgICAgICAgbm9kZURlZi5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTF0gJiZcbiAgICAgICAgbm9kZURlZi5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTF0ubGlnaHQgIT09IHVuZGVmaW5lZFxuICAgICAgKSB7XG4gICAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAgICBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnbGlnaHQnLCBub2RlRGVmLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMXS5saWdodClcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpO1xuICAgIH0pKCkudGhlbihmdW5jdGlvbiAob2JqZWN0cykge1xuICAgICAgdmFyIG5vZGU7XG5cbiAgICAgIC8vIC5pc0JvbmUgaXNuJ3QgaW4gZ2xURiBzcGVjLiBTZWUgLm1hcmtEZWZzXG4gICAgICBpZiAobm9kZURlZi5pc0JvbmUgPT09IHRydWUpIHtcbiAgICAgICAgbm9kZSA9IG5ldyBCb25lKCk7XG4gICAgICB9IGVsc2UgaWYgKG9iamVjdHMubGVuZ3RoID4gMSkge1xuICAgICAgICBub2RlID0gbmV3IEdyb3VwKCk7XG4gICAgICB9IGVsc2UgaWYgKG9iamVjdHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIG5vZGUgPSBvYmplY3RzWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZSA9IG5ldyBPYmplY3QzRCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAobm9kZSAhPT0gb2JqZWN0c1swXSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBvYmplY3RzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICBub2RlLmFkZChvYmplY3RzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobm9kZURlZi5uYW1lKSB7XG4gICAgICAgIG5vZGUudXNlckRhdGEubmFtZSA9IG5vZGVEZWYubmFtZTtcbiAgICAgICAgbm9kZS5uYW1lID0gUHJvcGVydHlCaW5kaW5nLnNhbml0aXplTm9kZU5hbWUobm9kZURlZi5uYW1lKTtcbiAgICAgIH1cblxuICAgICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShub2RlLCBub2RlRGVmKTtcblxuICAgICAgaWYgKG5vZGVEZWYuZXh0ZW5zaW9ucykgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKGV4dGVuc2lvbnMsIG5vZGUsIG5vZGVEZWYpO1xuXG4gICAgICBpZiAobm9kZURlZi5tYXRyaXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgbWF0cml4ID0gbmV3IE1hdHJpeDQoKTtcbiAgICAgICAgbWF0cml4LmZyb21BcnJheShub2RlRGVmLm1hdHJpeCk7XG4gICAgICAgIG5vZGUuYXBwbHlNYXRyaXg0KG1hdHJpeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobm9kZURlZi50cmFuc2xhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbm9kZS5wb3NpdGlvbi5mcm9tQXJyYXkobm9kZURlZi50cmFuc2xhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9kZURlZi5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbm9kZS5xdWF0ZXJuaW9uLmZyb21BcnJheShub2RlRGVmLnJvdGF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlRGVmLnNjYWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBub2RlLnNjYWxlLmZyb21BcnJheShub2RlRGVmLnNjYWxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI3NjZW5lc1xuICAgKiBAcGFyYW0ge251bWJlcn0gc2NlbmVJbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEdyb3VwPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRTY2VuZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgLy8gc2NlbmUgbm9kZSBoaWVyYWNoeSBidWlsZGVyXG5cbiAgICBmdW5jdGlvbiBidWlsZE5vZGVIaWVyYWNoeShub2RlSWQsIHBhcmVudE9iamVjdCwganNvbiwgcGFyc2VyKSB7XG4gICAgICB2YXIgbm9kZURlZiA9IGpzb24ubm9kZXNbbm9kZUlkXTtcblxuICAgICAgcmV0dXJuIHBhcnNlclxuICAgICAgICAuZ2V0RGVwZW5kZW5jeSgnbm9kZScsIG5vZGVJZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBpZiAobm9kZURlZi5za2luID09PSB1bmRlZmluZWQpIHJldHVybiBub2RlO1xuXG4gICAgICAgICAgLy8gYnVpbGQgc2tlbGV0b24gaGVyZSBhcyB3ZWxsXG5cbiAgICAgICAgICB2YXIgc2tpbkVudHJ5O1xuXG4gICAgICAgICAgcmV0dXJuIHBhcnNlclxuICAgICAgICAgICAgLmdldERlcGVuZGVuY3koJ3NraW4nLCBub2RlRGVmLnNraW4pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoc2tpbikge1xuICAgICAgICAgICAgICBza2luRW50cnkgPSBza2luO1xuXG4gICAgICAgICAgICAgIHZhciBwZW5kaW5nSm9pbnRzID0gW107XG5cbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gc2tpbkVudHJ5LmpvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGVuZGluZ0pvaW50cy5wdXNoKHBhcnNlci5nZXREZXBlbmRlbmN5KCdub2RlJywgc2tpbkVudHJ5LmpvaW50c1tpXSkpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmdKb2ludHMpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChqb2ludE5vZGVzKSB7XG4gICAgICAgICAgICAgIG5vZGUudHJhdmVyc2UoZnVuY3Rpb24gKG1lc2gpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW1lc2guaXNNZXNoKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICB2YXIgYm9uZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgYm9uZUludmVyc2VzID0gW107XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgamwgPSBqb2ludE5vZGVzLmxlbmd0aDsgaiA8IGpsOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgIHZhciBqb2ludE5vZGUgPSBqb2ludE5vZGVzW2pdO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoam9pbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvbmVzLnB1c2goam9pbnROb2RlKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0ID0gbmV3IE1hdHJpeDQoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2tpbkVudHJ5LmludmVyc2VCaW5kTWF0cmljZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgIG1hdC5mcm9tQXJyYXkoc2tpbkVudHJ5LmludmVyc2VCaW5kTWF0cmljZXMuYXJyYXksIGogKiAxNik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBib25lSW52ZXJzZXMucHVzaChtYXQpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgICAgICdUSFJFRS5HTFRGTG9hZGVyOiBKb2ludCBcIiVzXCIgY291bGQgbm90IGJlIGZvdW5kLicsXG4gICAgICAgICAgICAgICAgICAgICAgc2tpbkVudHJ5LmpvaW50c1tqXVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG1lc2guYmluZChuZXcgU2tlbGV0b24oYm9uZXMsIGJvbmVJbnZlcnNlcyksIG1lc2gubWF0cml4V29ybGQpO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIC8vIGJ1aWxkIG5vZGUgaGllcmFjaHlcblxuICAgICAgICAgIHBhcmVudE9iamVjdC5hZGQobm9kZSk7XG5cbiAgICAgICAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgICAgICAgaWYgKG5vZGVEZWYuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IG5vZGVEZWYuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgIHBlbmRpbmcucHVzaChidWlsZE5vZGVIaWVyYWNoeShjaGlsZCwgbm9kZSwganNvbiwgcGFyc2VyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gbG9hZFNjZW5lKHNjZW5lSW5kZXgpIHtcbiAgICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xuICAgICAgdmFyIGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG4gICAgICB2YXIgc2NlbmVEZWYgPSB0aGlzLmpzb24uc2NlbmVzW3NjZW5lSW5kZXhdO1xuICAgICAgdmFyIHBhcnNlciA9IHRoaXM7XG5cbiAgICAgIC8vIExvYWRlciByZXR1cm5zIEdyb3VwLCBub3QgU2NlbmUuXG4gICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzE4MzQyI2lzc3VlY29tbWVudC01Nzg5ODExNzJcbiAgICAgIHZhciBzY2VuZSA9IG5ldyBHcm91cCgpO1xuICAgICAgaWYgKHNjZW5lRGVmLm5hbWUpIHNjZW5lLm5hbWUgPSBzY2VuZURlZi5uYW1lO1xuXG4gICAgICBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKHNjZW5lLCBzY2VuZURlZik7XG5cbiAgICAgIGlmIChzY2VuZURlZi5leHRlbnNpb25zKSBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoZXh0ZW5zaW9ucywgc2NlbmUsIHNjZW5lRGVmKTtcblxuICAgICAgdmFyIG5vZGVJZHMgPSBzY2VuZURlZi5ub2RlcyB8fCBbXTtcblxuICAgICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gbm9kZUlkcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgIHBlbmRpbmcucHVzaChidWlsZE5vZGVIaWVyYWNoeShub2RlSWRzW2ldLCBzY2VuZSwganNvbiwgcGFyc2VyKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHNjZW5lO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSkoKTtcblxuICByZXR1cm4gR0xURkxvYWRlcjtcbn0pKCk7XG5cbmV4cG9ydCB7IEdMVEZMb2FkZXIgfTtcbiIsIi8vIEdsb2JhbCBpbXBvcnRzIC1cbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCBUV0VFTiBmcm9tICdAdHdlZW5qcy90d2Vlbi5qcyc7XG5cbi8vIExvY2FsIGltcG9ydHMgLVxuLy8gQ29tcG9uZW50c1xuaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vY29tcG9uZW50cy9yZW5kZXJlcic7XG5pbXBvcnQgQ2FtZXJhIGZyb20gJy4vY29tcG9uZW50cy9jYW1lcmEnO1xuaW1wb3J0IExpZ2h0IGZyb20gJy4vY29tcG9uZW50cy9saWdodCc7XG5pbXBvcnQgQ29udHJvbHMgZnJvbSAnLi9jb21wb25lbnRzL2NvbnRyb2xzJztcbmltcG9ydCBHZW9tZXRyeSBmcm9tICcuL2NvbXBvbmVudHMvZ2VvbWV0cnknO1xuXG4vLyBIZWxwZXJzXG5pbXBvcnQgU3RhdHMgZnJvbSAnLi9oZWxwZXJzL3N0YXRzJztcbmltcG9ydCBNZXNoSGVscGVyIGZyb20gJy4vaGVscGVycy9tZXNoSGVscGVyJztcblxuLy8gTW9kZWxcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vbW9kZWwvdGV4dHVyZSc7XG5pbXBvcnQgTW9kZWwgZnJvbSAnLi9tb2RlbC9tb2RlbCc7XG5cbi8vIE1hbmFnZXJzXG5pbXBvcnQgSW50ZXJhY3Rpb24gZnJvbSAnLi9tYW5hZ2Vycy9pbnRlcmFjdGlvbic7XG5pbXBvcnQgRGF0R1VJIGZyb20gJy4vbWFuYWdlcnMvZGF0R1VJJztcblxuLy8gZGF0YVxuaW1wb3J0IENvbmZpZyBmcm9tICcuLy4uL2RhdGEvY29uZmlnJztcbi8vIC0tIEVuZCBvZiBpbXBvcnRzXG5cbi8vIFRoaXMgY2xhc3MgaW5zdGFudGlhdGVzIGFuZCB0aWVzIGFsbCBvZiB0aGUgY29tcG9uZW50cyB0b2dldGhlciwgc3RhcnRzIHRoZSBsb2FkaW5nIHByb2Nlc3MgYW5kIHJlbmRlcnMgdGhlIG1haW4gbG9vcFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpbiB7XG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xuICAgIC8vIFNldCBjb250YWluZXIgcHJvcGVydHkgdG8gY29udGFpbmVyIGVsZW1lbnRcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcblxuICAgIC8vIFN0YXJ0IFRocmVlIGNsb2NrXG4gICAgdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xuXG4gICAgLy8gTWFpbiBzY2VuZSBjcmVhdGlvblxuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLnNjZW5lLmZvZyA9IG5ldyBUSFJFRS5Gb2dFeHAyKENvbmZpZy5mb2cuY29sb3IsIENvbmZpZy5mb2cubmVhcik7XG5cbiAgICAvLyBHZXQgRGV2aWNlIFBpeGVsIFJhdGlvIGZpcnN0IGZvciByZXRpbmFcbiAgICBpZih3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbykge1xuICAgICAgQ29uZmlnLmRwciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgIH1cblxuICAgIC8vIE1haW4gcmVuZGVyZXIgY29uc3RydWN0b3JcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKHRoaXMuc2NlbmUsIGNvbnRhaW5lcik7XG5cbiAgICAvLyBDb21wb25lbnRzIGluc3RhbnRpYXRpb25zXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKHRoaXMucmVuZGVyZXIudGhyZWVSZW5kZXJlcik7XG4gICAgdGhpcy5jb250cm9scyA9IG5ldyBDb250cm9scyh0aGlzLmNhbWVyYS50aHJlZUNhbWVyYSwgY29udGFpbmVyKTtcbiAgICB0aGlzLmxpZ2h0ID0gbmV3IExpZ2h0KHRoaXMuc2NlbmUpO1xuXG4gICAgLy8gQ3JlYXRlIGFuZCBwbGFjZSBsaWdodHMgaW4gc2NlbmVcbiAgICBjb25zdCBsaWdodHMgPSBbJ2FtYmllbnQnLCAnZGlyZWN0aW9uYWwnLCAncG9pbnQnLCAnaGVtaSddO1xuICAgIGxpZ2h0cy5mb3JFYWNoKChsaWdodCkgPT4gdGhpcy5saWdodC5wbGFjZShsaWdodCkpO1xuXG4gICAgLy8gQ3JlYXRlIGFuZCBwbGFjZSBnZW8gaW4gc2NlbmVcbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5KHRoaXMuc2NlbmUpO1xuICAgIHRoaXMuZ2VvbWV0cnkubWFrZSgncGxhbmUnKSgxNTAsIDE1MCwgMTAsIDEwKTtcbiAgICB0aGlzLmdlb21ldHJ5LnBsYWNlKFswLCAtMjAsIDBdLCBbTWF0aC5QSSAvIDIsIDAsIDBdKTtcblxuICAgIC8vIFNldCB1cCByU3RhdHMgaWYgZGV2IGVudmlyb25tZW50XG4gICAgaWYoQ29uZmlnLmlzRGV2ICYmIENvbmZpZy5pc1Nob3dpbmdTdGF0cykge1xuICAgICAgdGhpcy5zdGF0cyA9IG5ldyBTdGF0cyh0aGlzLnJlbmRlcmVyKTtcbiAgICAgIHRoaXMuc3RhdHMuc2V0VXAoKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdXAgZ3VpXG4gICAgaWYgKENvbmZpZy5pc0Rldikge1xuICAgICAgdGhpcy5ndWkgPSBuZXcgRGF0R1VJKHRoaXMpXG4gICAgfVxuXG4gICAgLy8gSW5zdGFudGlhdGUgdGV4dHVyZSBjbGFzc1xuICAgIHRoaXMudGV4dHVyZSA9IG5ldyBUZXh0dXJlKCk7XG5cbiAgICAvLyBTdGFydCBsb2FkaW5nIHRoZSB0ZXh0dXJlcyBhbmQgdGhlbiBnbyBvbiB0byBsb2FkIHRoZSBtb2RlbCBhZnRlciB0aGUgdGV4dHVyZSBQcm9taXNlcyBoYXZlIHJlc29sdmVkXG4gICAgdGhpcy50ZXh0dXJlLmxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMubWFuYWdlciA9IG5ldyBUSFJFRS5Mb2FkaW5nTWFuYWdlcigpO1xuXG4gICAgICAvLyBUZXh0dXJlcyBsb2FkZWQsIGxvYWQgbW9kZWxcbiAgICAgIHRoaXMubW9kZWwgPSBuZXcgTW9kZWwodGhpcy5zY2VuZSwgdGhpcy5tYW5hZ2VyLCB0aGlzLnRleHR1cmUudGV4dHVyZXMpO1xuICAgICAgdGhpcy5tb2RlbC5sb2FkKENvbmZpZy5tb2RlbHNbQ29uZmlnLm1vZGVsLnNlbGVjdGVkXS50eXBlKTtcblxuICAgICAgLy8gb25Qcm9ncmVzcyBjYWxsYmFja1xuICAgICAgdGhpcy5tYW5hZ2VyLm9uUHJvZ3Jlc3MgPSAoaXRlbSwgbG9hZGVkLCB0b3RhbCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhgJHtpdGVtfTogJHtsb2FkZWR9ICR7dG90YWx9YCk7XG4gICAgICB9O1xuXG4gICAgICAvLyBBbGwgbG9hZGVycyBkb25lIG5vd1xuICAgICAgdGhpcy5tYW5hZ2VyLm9uTG9hZCA9ICgpID0+IHtcbiAgICAgICAgLy8gU2V0IHVwIGludGVyYWN0aW9uIG1hbmFnZXIgd2l0aCB0aGUgYXBwIG5vdyB0aGF0IHRoZSBtb2RlbCBpcyBmaW5pc2hlZCBsb2FkaW5nXG4gICAgICAgIG5ldyBJbnRlcmFjdGlvbih0aGlzLnJlbmRlcmVyLnRocmVlUmVuZGVyZXIsIHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhLnRocmVlQ2FtZXJhLCB0aGlzLmNvbnRyb2xzLnRocmVlQ29udHJvbHMpO1xuXG4gICAgICAgIC8vIEFkZCBkYXQuR1VJIGNvbnRyb2xzIGlmIGRldlxuICAgICAgICBpZihDb25maWcuaXNEZXYpIHtcbiAgICAgICAgICB0aGlzLm1lc2hIZWxwZXIgPSBuZXcgTWVzaEhlbHBlcih0aGlzLnNjZW5lLCB0aGlzLm1vZGVsLm9iaik7XG4gICAgICAgICAgaWYgKENvbmZpZy5tZXNoLmVuYWJsZUhlbHBlcikgdGhpcy5tZXNoSGVscGVyLmVuYWJsZSgpO1xuXG4gICAgICAgICAgdGhpcy5ndWkubG9hZCh0aGlzLCB0aGlzLm1vZGVsLm9iaik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFdmVyeXRoaW5nIGlzIG5vdyBmdWxseSBsb2FkZWRcbiAgICAgICAgQ29uZmlnLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignI2xvYWRpbmcnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIFN0YXJ0IHJlbmRlciB3aGljaCBkb2VzIG5vdCB3YWl0IGZvciBtb2RlbCBmdWxseSBsb2FkZWRcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8vIFJlbmRlciByU3RhdHMgaWYgRGV2XG4gICAgaWYoQ29uZmlnLmlzRGV2ICYmIENvbmZpZy5pc1Nob3dpbmdTdGF0cykge1xuICAgICAgU3RhdHMuc3RhcnQoKTtcbiAgICB9XG5cbiAgICAvLyBDYWxsIHJlbmRlciBmdW5jdGlvbiBhbmQgcGFzcyBpbiBjcmVhdGVkIHNjZW5lIGFuZCBjYW1lcmFcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYS50aHJlZUNhbWVyYSk7XG5cbiAgICAvLyByU3RhdHMgaGFzIGZpbmlzaGVkIGRldGVybWluaW5nIHJlbmRlciBjYWxsIG5vd1xuICAgIGlmKENvbmZpZy5pc0RldiAmJiBDb25maWcuaXNTaG93aW5nU3RhdHMpIHtcbiAgICAgIFN0YXRzLmVuZCgpO1xuICAgIH1cblxuICAgIC8vIERlbHRhIHRpbWUgaXMgc29tZXRpbWVzIG5lZWRlZCBmb3IgY2VydGFpbiB1cGRhdGVzXG4gICAgLy9jb25zdCBkZWx0YSA9IHRoaXMuY2xvY2suZ2V0RGVsdGEoKTtcblxuICAgIC8vIENhbGwgYW55IHZlbmRvciBvciBtb2R1bGUgZnJhbWUgdXBkYXRlcyBoZXJlXG4gICAgVFdFRU4udXBkYXRlKCk7XG4gICAgdGhpcy5jb250cm9scy50aHJlZUNvbnRyb2xzLnVwZGF0ZSgpO1xuXG4gICAgLy8gUkFGXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVuZGVyLmJpbmQodGhpcykpOyAvLyBCaW5kIHRoZSBtYWluIGNsYXNzIGluc3RlYWQgb2Ygd2luZG93IG9iamVjdFxuICB9XG59XG4iLCJpbXBvcnQgQ29uZmlnIGZyb20gJy4uLy4uL2RhdGEvY29uZmlnJztcblxuLy8gTWFuYWdlcyBhbGwgZGF0LkdVSSBpbnRlcmFjdGlvbnNcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdEdVSSB7XG4gIGNvbnN0cnVjdG9yKG1haW4pIHtcbiAgICB0aGlzLmd1aSA9IG5ldyBkYXQuR1VJKCk7XG5cbiAgICB0aGlzLmNhbWVyYSA9IG1haW4uY2FtZXJhLnRocmVlQ2FtZXJhO1xuICAgIHRoaXMuY29udHJvbHMgPSBtYWluLmNvbnRyb2xzLnRocmVlQ29udHJvbHM7XG4gICAgdGhpcy5saWdodCA9IG1haW4ubGlnaHQ7XG4gICAgdGhpcy5zY2VuZSA9IG1haW4uc2NlbmU7XG5cbiAgICB0aGlzLm1vZGVsID0gbnVsbDtcbiAgICB0aGlzLm1lc2hIZWxwZXIgPSBudWxsO1xuICB9XG5cbiAgbG9hZChtYWluLCBtZXNoKSB7XG4gICAgLyogR2xvYmFsICovXG4gICAgLy90aGlzLmd1aS5jbG9zZSgpO1xuXG4gICAgdGhpcy5tb2RlbCA9IG1haW4ubW9kZWw7XG4gICAgdGhpcy5tZXNoSGVscGVyID0gbWFpbi5tZXNoSGVscGVyO1xuXG4gICAgLyogQ2FtZXJhICovXG4gICAgY29uc3QgY2FtZXJhRm9sZGVyID0gdGhpcy5ndWkuYWRkRm9sZGVyKCdDYW1lcmEnKTtcbiAgICBjb25zdCBjYW1lcmFGT1ZHdWkgPSBjYW1lcmFGb2xkZXIuYWRkKENvbmZpZy5jYW1lcmEsICdmb3YnLCAwLCAxODApLm5hbWUoJ0NhbWVyYSBGT1YnKTtcbiAgICBjYW1lcmFGT1ZHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmNhbWVyYS5mb3YgPSB2YWx1ZTtcbiAgICB9KTtcbiAgICBjYW1lcmFGT1ZHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuXG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XG4gICAgfSk7XG4gICAgY29uc3QgY2FtZXJhQXNwZWN0R3VpID0gY2FtZXJhRm9sZGVyLmFkZChDb25maWcuY2FtZXJhLCAnYXNwZWN0JywgMCwgNCkubmFtZSgnQ2FtZXJhIEFzcGVjdCcpO1xuICAgIGNhbWVyYUFzcGVjdEd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHZhbHVlO1xuICAgIH0pO1xuICAgIGNhbWVyYUFzcGVjdEd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XG4gICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBjb25zdCBjYW1lcmFGb2dDb2xvckd1aSA9IGNhbWVyYUZvbGRlci5hZGRDb2xvcihDb25maWcuZm9nLCAnY29sb3InKS5uYW1lKCdGb2cgQ29sb3InKTtcbiAgICBjYW1lcmFGb2dDb2xvckd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgIHRoaXMuc2NlbmUuZm9nLmNvbG9yLnNldEhleCh2YWx1ZSk7XG4gICAgfSk7XG4gICAgY29uc3QgY2FtZXJhRm9nTmVhckd1aSA9IGNhbWVyYUZvbGRlci5hZGQoQ29uZmlnLmZvZywgJ25lYXInLCAwLjAwMCwgMC4wMTApLm5hbWUoJ0ZvZyBOZWFyJyk7XG4gICAgY2FtZXJhRm9nTmVhckd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuc2NlbmUuZm9nLmRlbnNpdHkgPSB2YWx1ZTtcbiAgICB9KTtcbiAgICBjYW1lcmFGb2dOZWFyR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcbiAgICB9KTtcblxuXG4gICAgLyogQ29udHJvbHMgKi9cbiAgICBjb25zdCBjb250cm9sc0ZvbGRlciA9IHRoaXMuZ3VpLmFkZEZvbGRlcignQ29udHJvbHMnKTtcbiAgICBjb250cm9sc0ZvbGRlci5hZGQoQ29uZmlnLmNvbnRyb2xzLCAnYXV0b1JvdGF0ZScpLm5hbWUoJ0F1dG8gUm90YXRlJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmF1dG9Sb3RhdGUgPSB2YWx1ZTtcbiAgICB9KTtcbiAgICBjb25zdCBjb250cm9sc0F1dG9Sb3RhdGVTcGVlZEd1aSA9IGNvbnRyb2xzRm9sZGVyLmFkZChDb25maWcuY29udHJvbHMsICdhdXRvUm90YXRlU3BlZWQnLCAtMSwgMSkubmFtZSgnUm90YXRpb24gU3BlZWQnKTtcbiAgICBjb250cm9sc0F1dG9Sb3RhdGVTcGVlZEd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XG4gICAgICB0aGlzLmNvbnRyb2xzLmF1dG9Sb3RhdGVTcGVlZCA9IHZhbHVlO1xuICAgIH0pO1xuICAgIGNvbnRyb2xzQXV0b1JvdGF0ZVNwZWVkR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcbiAgICB9KTtcblxuXG4gICAgLyogTW9kZWwgKi9cbiAgICBjb25zdCBtb2RlbEZvbGRlciA9IHRoaXMuZ3VpLmFkZEZvbGRlcignTW9kZWwnKTtcbiAgICBtb2RlbEZvbGRlci5hZGQoQ29uZmlnLm1vZGVsLCAndHlwZScsIFsuLi5Db25maWcubW9kZWwuaW5pdGlhbFR5cGVzXSkubmFtZSgnU2VsZWN0IE1vZGVsJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgaWYgKENvbmZpZy5tZXNoLmVuYWJsZUhlbHBlcilcbiAgICAgICAgICB0aGlzLm1lc2hIZWxwZXIuZGlzYWJsZSgpO1xuXG4gICAgICAgIENvbmZpZy5tb2RlbC5zZWxlY3RlZCA9IENvbmZpZy5tb2RlbC5pbml0aWFsVHlwZXMuaW5kZXhPZih2YWx1ZSk7XG4gICAgICAgIHRoaXMudW5sb2FkKCk7XG4gICAgICAgIHRoaXMubW9kZWwudW5sb2FkKCk7XG4gICAgICAgIHRoaXMubW9kZWwubG9hZCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKiBNZXNoICovXG4gICAgY29uc3QgbWVzaEZvbGRlciA9IHRoaXMuZ3VpLmFkZEZvbGRlcignTWVzaCcpO1xuICAgIG1lc2hGb2xkZXIuYWRkKENvbmZpZy5tZXNoLCAnZW5hYmxlSGVscGVyJywgdHJ1ZSkubmFtZSgnRW5hYmxlIEhlbHBlcnMnKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgIGlmKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubWVzaEhlbHBlci5lbmFibGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWVzaEhlbHBlci5kaXNhYmxlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbWVzaEZvbGRlci5hZGQoQ29uZmlnLm1lc2gsICd0cmFuc2x1Y2VudCcsIHRydWUpLm5hbWUoJ1RyYW5zbHVjZW50Jykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICBpZih2YWx1ZSkge1xuICAgICAgICBtZXNoLm1hdGVyaWFsLnRyYW5zcGFyZW50ID0gdHJ1ZTtcbiAgICAgICAgbWVzaC5tYXRlcmlhbC5vcGFjaXR5ID0gMC41O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVzaC5tYXRlcmlhbC5vcGFjaXR5ID0gMS4wO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG1lc2hGb2xkZXIuYWRkKENvbmZpZy5tZXNoLCAnd2lyZWZyYW1lJywgdHJ1ZSkubmFtZSgnV2lyZWZyYW1lJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICBtZXNoLm1hdGVyaWFsLndpcmVmcmFtZSA9IHZhbHVlO1xuICAgIH0pO1xuXG5cbiAgICAvKiBMaWdodHMgKi9cbiAgICAvLyBBbWJpZW50IExpZ2h0XG4gICAgY29uc3QgYW1iaWVudExpZ2h0Rm9sZGVyID0gdGhpcy5ndWkuYWRkRm9sZGVyKCdBbWJpZW50IExpZ2h0Jyk7XG4gICAgYW1iaWVudExpZ2h0Rm9sZGVyLmFkZChDb25maWcuYW1iaWVudExpZ2h0LCAnZW5hYmxlZCcpLm5hbWUoJ0VuYWJsZWQnKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgIHRoaXMubGlnaHQuYW1iaWVudExpZ2h0LnZpc2libGUgPSB2YWx1ZTtcbiAgICB9KTtcbiAgICBhbWJpZW50TGlnaHRGb2xkZXIuYWRkQ29sb3IoQ29uZmlnLmFtYmllbnRMaWdodCwgJ2NvbG9yJykubmFtZSgnQ29sb3InKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgIHRoaXMubGlnaHQuYW1iaWVudExpZ2h0LmNvbG9yLnNldEhleCh2YWx1ZSk7XG4gICAgfSk7XG5cblxuICAgIC8vIERpcmVjdGlvbmFsIExpZ2h0XG4gICAgY29uc3QgZGlyZWN0aW9uYWxMaWdodEZvbGRlciA9IHRoaXMuZ3VpLmFkZEZvbGRlcignRGlyZWN0aW9uYWwgTGlnaHQnKTtcbiAgICBkaXJlY3Rpb25hbExpZ2h0Rm9sZGVyLmFkZChDb25maWcuZGlyZWN0aW9uYWxMaWdodCwgJ2VuYWJsZWQnKS5uYW1lKCdFbmFibGVkJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQudmlzaWJsZSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIGRpcmVjdGlvbmFsTGlnaHRGb2xkZXIuYWRkQ29sb3IoQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQsICdjb2xvcicpLm5hbWUoJ0NvbG9yJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuY29sb3Iuc2V0SGV4KHZhbHVlKTtcbiAgICB9KTtcbiAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0SW50ZW5zaXR5R3VpID0gZGlyZWN0aW9uYWxMaWdodEZvbGRlci5hZGQoQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQsICdpbnRlbnNpdHknLCAwLCAyKS5uYW1lKCdJbnRlbnNpdHknKTtcbiAgICBkaXJlY3Rpb25hbExpZ2h0SW50ZW5zaXR5R3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcblxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LmludGVuc2l0eSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIGRpcmVjdGlvbmFsTGlnaHRJbnRlbnNpdHlHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xuICAgIH0pO1xuICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvblhHdWkgPSBkaXJlY3Rpb25hbExpZ2h0Rm9sZGVyLmFkZChDb25maWcuZGlyZWN0aW9uYWxMaWdodCwgJ3gnLCAtMTAwMCwgMTAwMCkubmFtZSgnUG9zaXRpb24gWCcpO1xuICAgIGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvblhHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQucG9zaXRpb24ueCA9IHZhbHVlO1xuICAgIH0pO1xuICAgIGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvblhHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xuICAgIH0pO1xuICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvbllHdWkgPSBkaXJlY3Rpb25hbExpZ2h0Rm9sZGVyLmFkZChDb25maWcuZGlyZWN0aW9uYWxMaWdodCwgJ3knLCAtMTAwMCwgMTAwMCkubmFtZSgnUG9zaXRpb24gWScpO1xuICAgIGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvbllHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQucG9zaXRpb24ueSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvbllHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xuICAgIH0pO1xuICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvblpHdWkgPSBkaXJlY3Rpb25hbExpZ2h0Rm9sZGVyLmFkZChDb25maWcuZGlyZWN0aW9uYWxMaWdodCwgJ3onLCAtMTAwMCwgMTAwMCkubmFtZSgnUG9zaXRpb24gWicpO1xuICAgIGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvblpHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQucG9zaXRpb24ueiA9IHZhbHVlO1xuICAgIH0pO1xuICAgIGRpcmVjdGlvbmFsTGlnaHRQb3NpdGlvblpHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgLy8gU2hhZG93IE1hcFxuICAgIGNvbnN0IHNoYWRvd0ZvbGRlciA9IHRoaXMuZ3VpLmFkZEZvbGRlcignU2hhZG93IE1hcCcpO1xuICAgIHNoYWRvd0ZvbGRlci5hZGQoQ29uZmlnLnNoYWRvdywgJ2VuYWJsZWQnKS5uYW1lKCdFbmFibGVkJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuY2FzdFNoYWRvdyA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHNoYWRvd0ZvbGRlci5hZGQoQ29uZmlnLnNoYWRvdywgJ2hlbHBlckVuYWJsZWQnKS5uYW1lKCdIZWxwZXIgRW5hYmxlZCcpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0SGVscGVyLnZpc2libGUgPSB2YWx1ZTtcbiAgICB9KTtcbiAgICBjb25zdCBzaGFkb3dOZWFyR3VpID0gc2hhZG93Rm9sZGVyLmFkZChDb25maWcuc2hhZG93LCAnbmVhcicsIDAsIDQwMCkubmFtZSgnTmVhcicpO1xuICAgIHNoYWRvd05lYXJHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5uZWFyID0gdmFsdWU7XG4gICAgfSk7XG4gICAgc2hhZG93TmVhckd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcC5kaXNwb3NlKCk7XG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcCA9IG51bGw7XG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIudXBkYXRlKCk7XG4gICAgfSk7XG4gICAgY29uc3Qgc2hhZG93RmFyR3VpID0gc2hhZG93Rm9sZGVyLmFkZChDb25maWcuc2hhZG93LCAnZmFyJywgMCwgMTIwMCkubmFtZSgnRmFyJyk7XG4gICAgc2hhZG93RmFyR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcblxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEuZmFyID0gdmFsdWU7XG4gICAgfSk7XG4gICAgc2hhZG93RmFyR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwLmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwID0gbnVsbDtcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodEhlbHBlci51cGRhdGUoKTtcbiAgICB9KTtcbiAgICBjb25zdCBzaGFkb3dUb3BHdWkgPSBzaGFkb3dGb2xkZXIuYWRkKENvbmZpZy5zaGFkb3csICd0b3AnLCAtNDAwLCA0MDApLm5hbWUoJ1RvcCcpO1xuICAgIHNoYWRvd1RvcEd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XG5cbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLnRvcCA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHNoYWRvd1RvcEd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcC5kaXNwb3NlKCk7XG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcCA9IG51bGw7XG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIudXBkYXRlKCk7XG4gICAgfSk7XG4gICAgY29uc3Qgc2hhZG93UmlnaHRHdWkgPSBzaGFkb3dGb2xkZXIuYWRkKENvbmZpZy5zaGFkb3csICdyaWdodCcsIC00MDAsIDQwMCkubmFtZSgnUmlnaHQnKTtcbiAgICBzaGFkb3dSaWdodEd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XG5cbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLnJpZ2h0ID0gdmFsdWU7XG4gICAgfSk7XG4gICAgc2hhZG93UmlnaHRHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXAuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXAgPSBudWxsO1xuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0SGVscGVyLnVwZGF0ZSgpO1xuICAgIH0pO1xuICAgIGNvbnN0IHNoYWRvd0JvdHRvbUd1aSA9IHNoYWRvd0ZvbGRlci5hZGQoQ29uZmlnLnNoYWRvdywgJ2JvdHRvbScsIC00MDAsIDQwMCkubmFtZSgnQm90dG9tJyk7XG4gICAgc2hhZG93Qm90dG9tR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcblxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEuYm90dG9tID0gdmFsdWU7XG4gICAgfSk7XG4gICAgc2hhZG93Qm90dG9tR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwLmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwID0gbnVsbDtcbiAgICAgIHRoaXMubGlnaHQuZGlyZWN0aW9uYWxMaWdodEhlbHBlci51cGRhdGUoKTtcbiAgICB9KTtcbiAgICBjb25zdCBzaGFkb3dMZWZ0R3VpID0gc2hhZG93Rm9sZGVyLmFkZChDb25maWcuc2hhZG93LCAnbGVmdCcsIC00MDAsIDQwMCkubmFtZSgnTGVmdCcpO1xuICAgIHNoYWRvd0xlZnRHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5sZWZ0ID0gdmFsdWU7XG4gICAgfSk7XG4gICAgc2hhZG93TGVmdEd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcC5kaXNwb3NlKCk7XG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcCA9IG51bGw7XG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIudXBkYXRlKCk7XG4gICAgfSk7XG4gICAgY29uc3Qgc2hhZG93Qmlhc0d1aSA9IHNoYWRvd0ZvbGRlci5hZGQoQ29uZmlnLnNoYWRvdywgJ2JpYXMnLCAtMC4wMDAwMTAsIDEpLm5hbWUoJ0JpYXMnKTtcbiAgICBzaGFkb3dCaWFzR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcblxuICAgICAgdGhpcy5saWdodC5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5iaWFzID0gdmFsdWU7XG4gICAgfSk7XG4gICAgc2hhZG93Qmlhc0d1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcC5kaXNwb3NlKCk7XG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcCA9IG51bGw7XG4gICAgICB0aGlzLmxpZ2h0LmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIudXBkYXRlKCk7XG4gICAgfSk7XG5cblxuICAgIC8vIFBvaW50IExpZ2h0XG4gICAgY29uc3QgcG9pbnRMaWdodEZvbGRlciA9IHRoaXMuZ3VpLmFkZEZvbGRlcignUG9pbnQgTGlnaHQnKTtcbiAgICBwb2ludExpZ2h0Rm9sZGVyLmFkZChDb25maWcucG9pbnRMaWdodCwgJ2VuYWJsZWQnKS5uYW1lKCdFbmFibGVkJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLmxpZ2h0LnBvaW50TGlnaHQudmlzaWJsZSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHBvaW50TGlnaHRGb2xkZXIuYWRkQ29sb3IoQ29uZmlnLnBvaW50TGlnaHQsICdjb2xvcicpLm5hbWUoJ0NvbG9yJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLmxpZ2h0LnBvaW50TGlnaHQuY29sb3Iuc2V0SGV4KHZhbHVlKTtcbiAgICB9KTtcbiAgICBjb25zdCBwb2ludExpZ2h0SW50ZW5zaXR5R3VpID0gcG9pbnRMaWdodEZvbGRlci5hZGQoQ29uZmlnLnBvaW50TGlnaHQsICdpbnRlbnNpdHknLCAwLCAyKS5uYW1lKCdJbnRlbnNpdHknKTtcbiAgICBwb2ludExpZ2h0SW50ZW5zaXR5R3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcblxuICAgICAgdGhpcy5saWdodC5wb2ludExpZ2h0LmludGVuc2l0eSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHBvaW50TGlnaHRJbnRlbnNpdHlHdWkub25GaW5pc2hDaGFuZ2UoKCkgPT4ge1xuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlO1xuICAgIH0pO1xuICAgIGNvbnN0IHBvaW50TGlnaHREaXN0YW5jZUd1aSA9IHBvaW50TGlnaHRGb2xkZXIuYWRkKENvbmZpZy5wb2ludExpZ2h0LCAnZGlzdGFuY2UnLCAwLCAxMDAwKS5uYW1lKCdEaXN0YW5jZScpO1xuICAgIHBvaW50TGlnaHREaXN0YW5jZUd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XG5cbiAgICAgIHRoaXMubGlnaHQucG9pbnRMaWdodC5kaXN0YW5jZSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHBvaW50TGlnaHREaXN0YW5jZUd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XG4gICAgfSk7XG4gICAgY29uc3QgcG9pbnRMaWdodFBvc2l0aW9uWEd1aSA9IHBvaW50TGlnaHRGb2xkZXIuYWRkKENvbmZpZy5wb2ludExpZ2h0LCAneCcsIC0xMDAwLCAxMDAwKS5uYW1lKCdQb3NpdGlvbiBYJyk7XG4gICAgcG9pbnRMaWdodFBvc2l0aW9uWEd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XG5cbiAgICAgIHRoaXMubGlnaHQucG9pbnRMaWdodC5wb3NpdGlvbi54ID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcG9pbnRMaWdodFBvc2l0aW9uWEd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XG4gICAgfSk7XG4gICAgY29uc3QgcG9pbnRMaWdodFBvc2l0aW9uWUd1aSA9IHBvaW50TGlnaHRGb2xkZXIuYWRkKENvbmZpZy5wb2ludExpZ2h0LCAneScsIC0xMDAwLCAxMDAwKS5uYW1lKCdQb3NpdGlvbiBZJyk7XG4gICAgcG9pbnRMaWdodFBvc2l0aW9uWUd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XG5cbiAgICAgIHRoaXMubGlnaHQucG9pbnRMaWdodC5wb3NpdGlvbi55ID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcG9pbnRMaWdodFBvc2l0aW9uWUd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XG4gICAgfSk7XG4gICAgY29uc3QgcG9pbnRMaWdodFBvc2l0aW9uWkd1aSA9IHBvaW50TGlnaHRGb2xkZXIuYWRkKENvbmZpZy5wb2ludExpZ2h0LCAneicsIC0xMDAwLCAxMDAwKS5uYW1lKCdQb3NpdGlvbiBaJyk7XG4gICAgcG9pbnRMaWdodFBvc2l0aW9uWkd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XG5cbiAgICAgIHRoaXMubGlnaHQucG9pbnRMaWdodC5wb3NpdGlvbi56ID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcG9pbnRMaWdodFBvc2l0aW9uWkd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XG4gICAgfSk7XG5cblxuICAgIC8vIEhlbWkgTGlnaHRcbiAgICBjb25zdCBoZW1pTGlnaHRGb2xkZXIgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ0hlbWkgTGlnaHQnKTtcbiAgICBoZW1pTGlnaHRGb2xkZXIuYWRkKENvbmZpZy5oZW1pTGlnaHQsICdlbmFibGVkJykubmFtZSgnRW5hYmxlZCcpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgdGhpcy5saWdodC5oZW1pTGlnaHQudmlzaWJsZSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIGhlbWlMaWdodEZvbGRlci5hZGRDb2xvcihDb25maWcuaGVtaUxpZ2h0LCAnY29sb3InKS5uYW1lKCdDb2xvcicpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgdGhpcy5saWdodC5oZW1pTGlnaHQuY29sb3Iuc2V0SGV4KHZhbHVlKTtcbiAgICB9KTtcbiAgICBoZW1pTGlnaHRGb2xkZXIuYWRkQ29sb3IoQ29uZmlnLmhlbWlMaWdodCwgJ2dyb3VuZENvbG9yJykubmFtZSgnZ3JvdW5kIENvbG9yJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLmxpZ2h0LmhlbWlMaWdodC5ncm91bmRDb2xvci5zZXRIZXgodmFsdWUpO1xuICAgIH0pO1xuICAgIGNvbnN0IGhlbWlMaWdodEludGVuc2l0eUd1aSA9IGhlbWlMaWdodEZvbGRlci5hZGQoQ29uZmlnLmhlbWlMaWdodCwgJ2ludGVuc2l0eScsIDAsIDIpLm5hbWUoJ0ludGVuc2l0eScpO1xuICAgIGhlbWlMaWdodEludGVuc2l0eUd1aS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XG5cbiAgICAgIHRoaXMubGlnaHQuaGVtaUxpZ2h0LmludGVuc2l0eSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIGhlbWlMaWdodEludGVuc2l0eUd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XG4gICAgfSk7XG4gICAgY29uc3QgaGVtaUxpZ2h0UG9zaXRpb25YR3VpID0gaGVtaUxpZ2h0Rm9sZGVyLmFkZChDb25maWcuaGVtaUxpZ2h0LCAneCcsIC0xMDAwLCAxMDAwKS5uYW1lKCdQb3NpdGlvbiBYJyk7XG4gICAgaGVtaUxpZ2h0UG9zaXRpb25YR3VpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTtcblxuICAgICAgdGhpcy5saWdodC5oZW1pTGlnaHQucG9zaXRpb24ueCA9IHZhbHVlO1xuICAgIH0pO1xuICAgIGhlbWlMaWdodFBvc2l0aW9uWEd1aS5vbkZpbmlzaENoYW5nZSgoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XG4gICAgfSk7XG4gICAgY29uc3QgaGVtaUxpZ2h0UG9zaXRpb25ZR3VpID0gaGVtaUxpZ2h0Rm9sZGVyLmFkZChDb25maWcuaGVtaUxpZ2h0LCAneScsIC01MDAsIDEwMDApLm5hbWUoJ1Bvc2l0aW9uIFknKTtcbiAgICBoZW1pTGlnaHRQb3NpdGlvbllHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmxpZ2h0LmhlbWlMaWdodC5wb3NpdGlvbi55ID0gdmFsdWU7XG4gICAgfSk7XG4gICAgaGVtaUxpZ2h0UG9zaXRpb25ZR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBjb25zdCBoZW1pTGlnaHRQb3NpdGlvblpHdWkgPSBoZW1pTGlnaHRGb2xkZXIuYWRkKENvbmZpZy5oZW1pTGlnaHQsICd6JywgLTEwMDAsIDEwMDApLm5hbWUoJ1Bvc2l0aW9uIFonKTtcbiAgICBoZW1pTGlnaHRQb3NpdGlvblpHdWkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmxpZ2h0LmhlbWlMaWdodC5wb3NpdGlvbi56ID0gdmFsdWU7XG4gICAgfSk7XG4gICAgaGVtaUxpZ2h0UG9zaXRpb25aR3VpLm9uRmluaXNoQ2hhbmdlKCgpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIHVubG9hZCgpIHtcbiAgICB0aGlzLmd1aS5kZXN0cm95KCk7XG4gICAgdGhpcy5ndWkgPSBuZXcgZGF0LkdVSSgpO1xuICB9XG59XG4iLCJpbXBvcnQgS2V5Ym9hcmQgZnJvbSAnLi4vLi4vdXRpbHMva2V5Ym9hcmQnO1xuaW1wb3J0IEhlbHBlcnMgZnJvbSAnLi4vLi4vdXRpbHMvaGVscGVycyc7XG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uLy4uL2RhdGEvY29uZmlnJztcblxuLy8gTWFuYWdlcyBhbGwgaW5wdXQgaW50ZXJhY3Rpb25zXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnRlcmFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBzY2VuZSwgY2FtZXJhLCBjb250cm9scykge1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgIHRoaXMuY2FtZXJhID0gY2FtZXJhO1xuICAgIHRoaXMuY29udHJvbHMgPSBjb250cm9scztcblxuICAgIHRoaXMudGltZW91dCA9IG51bGw7XG5cbiAgICAvLyBJbnN0YW50aWF0ZSBrZXlib2FyZCBoZWxwZXJcbiAgICB0aGlzLmtleWJvYXJkID0gbmV3IEtleWJvYXJkKCk7XG5cbiAgICAvLyBMaXN0ZW5lcnNcbiAgICAvLyBNb3VzZSBldmVudHNcbiAgICB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGV2ZW50KSA9PiBIZWxwZXJzLnRocm90dGxlKHRoaXMub25Nb3VzZU1vdmUoZXZlbnQpLCAyNTApLCBmYWxzZSk7XG4gICAgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoZXZlbnQpID0+IHRoaXMub25Nb3VzZUxlYXZlKGV2ZW50KSwgZmFsc2UpO1xuICAgIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoZXZlbnQpID0+IHRoaXMub25Nb3VzZU92ZXIoZXZlbnQpLCBmYWxzZSk7XG5cbiAgICAvLyBLZXlib2FyZCBldmVudHNcbiAgICB0aGlzLmtleWJvYXJkLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgLy8gT25seSBvbmNlXG4gICAgICBpZihldmVudC5yZXBlYXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZih0aGlzLmtleWJvYXJkLmV2ZW50TWF0Y2hlcyhldmVudCwgJ2VzY2FwZScpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFc2NhcGUgcHJlc3NlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb25Nb3VzZU92ZXIoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgQ29uZmlnLmlzTW91c2VPdmVyID0gdHJ1ZTtcbiAgfVxuXG4gIG9uTW91c2VMZWF2ZShldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBDb25maWcuaXNNb3VzZU92ZXIgPSBmYWxzZTtcbiAgfVxuXG4gIG9uTW91c2VNb3ZlKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuXG4gICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIENvbmZpZy5pc01vdXNlTW92aW5nID0gZmFsc2U7XG4gICAgfSwgMjAwKTtcblxuICAgIENvbmZpZy5pc01vdXNlTW92aW5nID0gdHJ1ZTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5pbXBvcnQgTWF0ZXJpYWwgZnJvbSAnLi4vY29tcG9uZW50cy9tYXRlcmlhbCc7XG5pbXBvcnQgSGVscGVycyBmcm9tICcuLi8uLi91dGlscy9oZWxwZXJzJztcbmltcG9ydCB7IEJ1ZmZlckdlb21ldHJ5VXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy9idWZmZXJHZW9tZXRyeVV0aWxzJztcbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tICcuLi9sb2FkZXJzL0dMVEZMb2FkZXInO1xuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XG5cbi8vIExvYWRzIGluIGEgc2luZ2xlIG9iamVjdCBmcm9tIHRoZSBjb25maWcgZmlsZVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kZWwge1xuICBjb25zdHJ1Y3RvcihzY2VuZSwgbWFuYWdlciwgdGV4dHVyZXMpIHtcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG4gICAgdGhpcy50ZXh0dXJlcyA9IHRleHR1cmVzO1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG5cbiAgICB0aGlzLm9iaiA9IG51bGw7XG4gICAgdGhpcy5yZWYgPSBudWxsO1xuICB9XG5cbiAgbG9hZCh0eXBlKSB7XG4gICAgLy8gTWFuYWdlciBpcyBwYXNzZWQgaW4gdG8gbG9hZGVyIHRvIGRldGVybWluZSB3aGVuIGxvYWRpbmcgZG9uZSBpbiBtYWluXG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2dsdGYnOlxuICAgICAgICAvLyBMb2FkIG1vZGVsIHdpdGggc2VsZWN0ZWQgbG9hZGVyXG4gICAgICAgIG5ldyBHTFRGTG9hZGVyKHRoaXMubWFuYWdlcikubG9hZChcbiAgICAgICAgICBDb25maWcubW9kZWxzW0NvbmZpZy5tb2RlbC5zZWxlY3RlZF0ucGF0aCxcbiAgICAgICAgICAoZ2x0ZikgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2NlbmUgPSBnbHRmLnNjZW5lO1xuICAgICAgICAgICAgbGV0IG1lc2g7XG5cbiAgICAgICAgICAgIGlmIChDb25maWcuc2hhZG93LmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgc2NlbmUudHJhdmVyc2UoZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmlzTWVzaCB8fCBub2RlLmlzTGlnaHQpIG5vZGUuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuaXNNZXNoKSB7XG4gICAgICAgICAgICAgICAgICBub2RlLm1hdGVyaWFsLndpcmVmcmFtZSA9IENvbmZpZy5tZXNoLndpcmVmcmFtZTtcbiAgICAgICAgICAgICAgICAgIG1lc2ggPSBub2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMub2JqID0gbWVzaDtcblxuICAgICAgICAgICAgQnVmZmVyR2VvbWV0cnlVdGlscy5jb21wdXRlVGFuZ2VudHMobWVzaC5nZW9tZXRyeSk7XG5cbiAgICAgICAgICAgIHZhciBncm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xuICAgICAgICAgICAgZ3JvdXAuc2NhbGUubXVsdGlwbHlTY2FsYXIoMC4yNSk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmFkZCggZ3JvdXAgKTtcblxuICAgICAgICAgICAgdGhpcy5yZWYgPSBncm91cDtcblxuICAgICAgICAgICAgLy8gVG8gbWFrZSBzdXJlIHRoYXQgdGhlIG1hdHJpeFdvcmxkIGlzIHVwIHRvIGRhdGUgZm9yIHRoZSBib3hoZWxwZXJzXG4gICAgICAgICAgICBncm91cC51cGRhdGVNYXRyaXhXb3JsZCh0cnVlKTtcbiAgICAgICAgICAgIGdyb3VwLmFkZChtZXNoKTtcblxuICAgICAgICAgICAgLy8gQWRkIHRvIHNjZW5lXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmFkZChzY2VuZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBIZWxwZXJzLmxvZ1Byb2dyZXNzKCksXG4gICAgICAgICAgSGVscGVycy5sb2dFcnJvcigpXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAvLyBMb2FkIG1vZGVsIHdpdGggT2JqZWN0TG9hZGVyXG4gICAgICAgIG5ldyBUSFJFRS5PYmplY3RMb2FkZXIodGhpcy5tYW5hZ2VyKS5sb2FkKFxuICAgICAgICAgIENvbmZpZy5tb2RlbHNbQ29uZmlnLm1vZGVsLnNlbGVjdGVkXS5wYXRoLFxuICAgICAgICAgIG9iaiA9PiB7XG4gICAgICAgICAgICBvYmoudHJhdmVyc2UoY2hpbGQgPT4ge1xuICAgICAgICAgICAgICBpZihjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpIHtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbWF0ZXJpYWwgZm9yIG1lc2ggYW5kIHNldCBpdHMgbWFwIHRvIHRleHR1cmUgYnkgbmFtZSBmcm9tIHByZWxvYWRlZCB0ZXh0dXJlc1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKDB4ZmZmZmZmKS5zdGFuZGFyZDtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5tYXAgPSB0aGlzLnRleHR1cmVzLlVWO1xuICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsID0gbWF0ZXJpYWw7XG5cbiAgICAgICAgICAgICAgICAvLyBTZXQgdG8gY2FzdCBhbmQgcmVjZWl2ZSBzaGFkb3cgaWYgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGlmKENvbmZpZy5zaGFkb3cuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgY2hpbGQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBjaGlsZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBTZXQgcHJvcCB0byBvYmogc28gaXQgY2FuIGJlIGFjY2Vzc2VkIGZyb20gb3V0c2lkZSB0aGUgY2xhc3NcbiAgICAgICAgICAgIHRoaXMub2JqID0gb2JqO1xuICAgICAgICAgICAgdGhpcy5yZWYgPSBvYmo7XG5cbiAgICAgICAgICAgIG9iai5zY2FsZS5tdWx0aXBseVNjYWxhcihDb25maWcubW9kZWxzW0NvbmZpZy5tb2RlbC5zZWxlY3RlZF0uc2NhbGUpO1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQob2JqKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIEhlbHBlcnMubG9nUHJvZ3Jlc3MoKSxcbiAgICAgICAgICBIZWxwZXJzLmxvZ0Vycm9yKClcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdW5sb2FkKCkge1xuICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMucmVmKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuLy8gUHJvbWlzZSBwb2x5ZmlsbCBmb3IgSUVcbmltcG9ydCB7IFByb21pc2UgfSBmcm9tICdlczYtcHJvbWlzZSc7XG5cbmltcG9ydCBIZWxwZXJzIGZyb20gJy4uLy4uL3V0aWxzL2hlbHBlcnMnO1xuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XG5cbi8vIFRoaXMgY2xhc3MgcHJlbG9hZHMgYWxsIHRleHR1cmVzIGluIHRoZSBpbWFnZUZpbGVzIGFycmF5IGluIHRoZSBDb25maWcgdmlhIEVTNiBQcm9taXNlcy5cbi8vIE9uY2UgYWxsIHRleHR1cmVzIGFyZSBkb25lIGxvYWRpbmcgdGhlIG1vZGVsIGl0c2VsZiB3aWxsIGJlIGxvYWRlZCBhZnRlciB0aGUgUHJvbWlzZSAudGhlbigpIGNhbGxiYWNrLlxuLy8gVXNpbmcgcHJvbWlzZXMgdG8gcHJlbG9hZCB0ZXh0dXJlcyBwcmV2ZW50cyBpc3N1ZXMgd2hlbiBhcHBseWluZyB0ZXh0dXJlcyB0byBtYXRlcmlhbHNcbi8vIGJlZm9yZSB0aGUgdGV4dHVyZXMgaGF2ZSBsb2FkZWQuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0dXJlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gUHJvcCB0aGF0IHdpbGwgY29udGFpbiBhbGwgbG9hZGVkIHRleHR1cmVzXG4gICAgdGhpcy50ZXh0dXJlcyA9IHt9O1xuICB9XG5cbiAgbG9hZCgpIHtcbiAgICBjb25zdCBsb2FkZXIgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpO1xuICAgIGNvbnN0IG1heEFuaXNvdHJvcHkgPSBDb25maWcubWF4QW5pc290cm9weTtcbiAgICBjb25zdCBpbWFnZUZpbGVzID0gQ29uZmlnLnRleHR1cmUuaW1hZ2VGaWxlcztcbiAgICBjb25zdCBwcm9taXNlQXJyYXkgPSBbXTtcblxuICAgIGxvYWRlci5zZXRQYXRoKENvbmZpZy50ZXh0dXJlLnBhdGgpO1xuXG4gICAgaW1hZ2VGaWxlcy5mb3JFYWNoKGltYWdlRmlsZSA9PiB7XG4gICAgICAvLyBBZGQgYW4gaW5kaXZpZHVhbCBQcm9taXNlIGZvciBlYWNoIGltYWdlIGluIGFycmF5XG4gICAgICBwcm9taXNlQXJyYXkucHVzaChuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vIEVhY2ggUHJvbWlzZSB3aWxsIGF0dGVtcHQgdG8gbG9hZCB0aGUgaW1hZ2UgZmlsZVxuICAgICAgICBsb2FkZXIubG9hZChpbWFnZUZpbGUuaW1hZ2UsXG4gICAgICAgICAgLy8gVGhpcyBnZXRzIGNhbGxlZCBvbiBsb2FkIHdpdGggdGhlIGxvYWRlZCB0ZXh0dXJlXG4gICAgICAgICAgdGV4dHVyZSA9PiB7XG4gICAgICAgICAgICB0ZXh0dXJlLmFuaXNvdHJvcHkgPSBtYXhBbmlzb3Ryb3B5O1xuXG4gICAgICAgICAgICAvLyBSZXNvbHZlIFByb21pc2Ugd2l0aCBvYmplY3Qgb2YgdGV4dHVyZSBpZiBpdCBpcyBpbnN0YW5jZSBvZiBUSFJFRS5UZXh0dXJlXG4gICAgICAgICAgICBjb25zdCBtb2RlbE9CSiA9IHt9O1xuICAgICAgICAgICAgbW9kZWxPQkpbaW1hZ2VGaWxlLm5hbWVdID0gdGV4dHVyZTtcbiAgICAgICAgICAgIGlmKG1vZGVsT0JKW2ltYWdlRmlsZS5uYW1lXSBpbnN0YW5jZW9mIFRIUkVFLlRleHR1cmUpXG4gICAgICAgICAgICAgIHJlc29sdmUobW9kZWxPQkopO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgSGVscGVycy5sb2dQcm9ncmVzcygpLFxuICAgICAgICAgIHhociA9PiByZWplY3QobmV3IEVycm9yKHhociArICdBbiBlcnJvciBvY2N1cnJlZCBsb2FkaW5nIHdoaWxlIGxvYWRpbmcgJyArIGltYWdlRmlsZS5pbWFnZSkpXG4gICAgICAgIClcbiAgICAgIH0pKTtcbiAgICB9KTtcblxuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwgUHJvbWlzZXMgaW4gYXJyYXkgYW5kIHJldHVybiBhbm90aGVyIFByb21pc2Ugd2hlbiBhbGwgaGF2ZSByZXNvbHZlZCBvciBjb25zb2xlIGxvZyByZWFzb24gd2hlbiBhbnkgcmVqZWN0XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VBcnJheSkudGhlbih0ZXh0dXJlcyA9PiB7XG4gICAgICAvLyBTZXQgdGhlIHRleHR1cmVzIHByb3Agb2JqZWN0IHRvIGhhdmUgbmFtZSBiZSB0aGUgcmVzb2x2ZWQgdGV4dHVyZVxuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZXNbT2JqZWN0LmtleXModGV4dHVyZXNbaV0pWzBdXSA9IHRleHR1cmVzW2ldW09iamVjdC5rZXlzKHRleHR1cmVzW2ldKVswXV07XG4gICAgICB9XG4gICAgfSwgcmVhc29uID0+IGNvbnNvbGUubG9nKHJlYXNvbikpO1xuICB9XG59XG4iLCJpbXBvcnQgVFdFRU4gZnJvbSAnQHR3ZWVuanMvdHdlZW4uanMnO1xuXG4vLyBUaGlzIG9iamVjdCBjb250YWlucyB0aGUgc3RhdGUgb2YgdGhlIGFwcFxuZXhwb3J0IGRlZmF1bHQge1xuICBpc0RldjogZmFsc2UsXG4gIGlzU2hvd2luZ1N0YXRzOiB0cnVlLFxuICBpc0xvYWRlZDogZmFsc2UsXG4gIGlzVHdlZW5pbmc6IGZhbHNlLFxuICBpc1JvdGF0aW5nOiB0cnVlLFxuICBpc01vdXNlTW92aW5nOiBmYWxzZSxcbiAgaXNNb3VzZU92ZXI6IGZhbHNlLFxuICBtYXhBbmlzb3Ryb3B5OiAxLFxuICBkcHI6IDEsXG4gIGVhc2luZzogVFdFRU4uRWFzaW5nLlF1YWRyYXRpYy5Jbk91dCxcbiAgZHVyYXRpb246IDUwMCxcbiAgbW9kZWw6IHtcbiAgICBzZWxlY3RlZDogMCxcbiAgICBpbml0aWFsVHlwZXM6IFsnZ2x0ZicsICdvYmplY3QnXSxcbiAgICB0eXBlOiAnZ2x0ZidcbiAgfSxcbiAgbW9kZWxzOiBbXG4gICAge1xuICAgICAgcGF0aDogJy4vYXNzZXRzL21vZGVscy9kdWNrLmdsdGYnLFxuICAgICAgc2NhbGU6IDIwLFxuICAgICAgdHlwZTogJ2dsdGYnXG4gICAgfSxcbiAgICB7XG4gICAgICBwYXRoOiAnLi9hc3NldHMvbW9kZWxzL1RlYXBvdC5qc29uJyxcbiAgICAgIHNjYWxlOiAyMCxcbiAgICAgIHR5cGU6ICdvYmplY3QnXG4gICAgfVxuICBdLFxuICB0ZXh0dXJlOiB7XG4gICAgcGF0aDogJy4vYXNzZXRzL3RleHR1cmVzLycsXG4gICAgaW1hZ2VGaWxlczogW1xuICAgICAgeyBuYW1lOiAnVVYnLCBpbWFnZTogJ1VWX0dyaWRfU20uanBnJyB9XG4gICAgXVxuICB9LFxuICBtZXNoOiB7XG4gICAgZW5hYmxlSGVscGVyOiB0cnVlLFxuICAgIHdpcmVmcmFtZTogZmFsc2UsXG4gICAgdHJhbnNsdWNlbnQ6IGZhbHNlLFxuICAgIG1hdGVyaWFsOiB7XG4gICAgICBjb2xvcjogMHhmZmZmZmYsXG4gICAgICBlbWlzc2l2ZTogMHhmZmZmZmZcbiAgICB9XG4gIH0sXG4gIGZvZzoge1xuICAgIGNvbG9yOiAweGZmZmZmZixcbiAgICBuZWFyOiAwLjAwMDhcbiAgfSxcbiAgY2FtZXJhOiB7XG4gICAgZm92OiA0MCxcbiAgICBuZWFyOiAyLFxuICAgIGZhcjogMTAwMCxcbiAgICBhc3BlY3Q6IDEsXG4gICAgcG9zWDogMCxcbiAgICBwb3NZOiAzMCxcbiAgICBwb3NaOiA0MFxuICB9LFxuICBjb250cm9sczoge1xuICAgIGF1dG9Sb3RhdGU6IGZhbHNlLFxuICAgIGF1dG9Sb3RhdGVTcGVlZDogLTAuNSxcbiAgICByb3RhdGVTcGVlZDogMC41LFxuICAgIHpvb21TcGVlZDogMC44LFxuICAgIG1pbkRpc3RhbmNlOiAyMDAsXG4gICAgbWF4RGlzdGFuY2U6IDYwMCxcbiAgICBtaW5Qb2xhckFuZ2xlOiBNYXRoLlBJIC8gNSxcbiAgICBtYXhQb2xhckFuZ2xlOiBNYXRoLlBJIC8gMixcbiAgICBtaW5BemltdXRoQW5nbGU6IC1JbmZpbml0eSxcbiAgICBtYXhBemltdXRoQW5nbGU6IEluZmluaXR5LFxuICAgIGVuYWJsZURhbXBpbmc6IHRydWUsXG4gICAgZGFtcGluZ0ZhY3RvcjogMC41LFxuICAgIGVuYWJsZVpvb206IHRydWUsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHo6IDBcbiAgICB9XG4gIH0sXG4gIGFtYmllbnRMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4MTQxNDE0XG4gIH0sXG4gIGRpcmVjdGlvbmFsTGlnaHQ6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGNvbG9yOiAweGYwZjBmMCxcbiAgICBpbnRlbnNpdHk6IDAuNCxcbiAgICB4OiAtNzUsXG4gICAgeTogMjgwLFxuICAgIHo6IDE1MFxuICB9LFxuICBzaGFkb3c6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGhlbHBlckVuYWJsZWQ6IHRydWUsXG4gICAgYmlhczogMCxcbiAgICBtYXBXaWR0aDogMjA0OCxcbiAgICBtYXBIZWlnaHQ6IDIwNDgsXG4gICAgbmVhcjogMjUwLFxuICAgIGZhcjogNDAwLFxuICAgIHRvcDogMTAwLFxuICAgIHJpZ2h0OiAxMDAsXG4gICAgYm90dG9tOiAtMTAwLFxuICAgIGxlZnQ6IC0xMDBcbiAgfSxcbiAgcG9pbnRMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4ZmZmZmZmLFxuICAgIGludGVuc2l0eTogMC4zNCxcbiAgICBkaXN0YW5jZTogMTE1LFxuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICB6OiAwXG4gIH0sXG4gIGhlbWlMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4YzhjOGM4LFxuICAgIGdyb3VuZENvbG9yOiAweGZmZmZmZixcbiAgICBpbnRlbnNpdHk6IDAuNTUsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHo6IDBcbiAgfVxufTtcbiIsIi8qKlxuICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cbiAqL1xuXG5pbXBvcnQge1xuICBCdWZmZXJBdHRyaWJ1dGUsXG4gIEJ1ZmZlckdlb21ldHJ5LFxuICBJbnRlcmxlYXZlZEJ1ZmZlcixcbiAgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUsXG4gIFRyaWFuZ2xlRmFuRHJhd01vZGUsXG4gIFRyaWFuZ2xlU3RyaXBEcmF3TW9kZSxcbiAgVHJpYW5nbGVzRHJhd01vZGUsXG4gIFZlY3RvcjIsXG4gIFZlY3RvcjMsXG59IGZyb20gJ3RocmVlJztcblxudmFyIEJ1ZmZlckdlb21ldHJ5VXRpbHMgPSB7XG4gIGNvbXB1dGVUYW5nZW50czogZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgdmFyIGluZGV4ID0gZ2VvbWV0cnkuaW5kZXg7XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuXG4gICAgLy8gYmFzZWQgb24gaHR0cDovL3d3dy50ZXJhdGhvbi5jb20vY29kZS90YW5nZW50Lmh0bWxcbiAgICAvLyAocGVyIHZlcnRleCB0YW5nZW50cylcblxuICAgIGlmIChcbiAgICAgIGluZGV4ID09PSBudWxsIHx8XG4gICAgICBhdHRyaWJ1dGVzLnBvc2l0aW9uID09PSB1bmRlZmluZWQgfHxcbiAgICAgIGF0dHJpYnV0ZXMubm9ybWFsID09PSB1bmRlZmluZWQgfHxcbiAgICAgIGF0dHJpYnV0ZXMudXYgPT09IHVuZGVmaW5lZFxuICAgICkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5jb21wdXRlVGFuZ2VudHMoKSBmYWlsZWQuIE1pc3NpbmcgcmVxdWlyZWQgYXR0cmlidXRlcyAoaW5kZXgsIHBvc2l0aW9uLCBub3JtYWwgb3IgdXYpJ1xuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaW5kaWNlcyA9IGluZGV4LmFycmF5O1xuICAgIHZhciBwb3NpdGlvbnMgPSBhdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5O1xuICAgIHZhciBub3JtYWxzID0gYXR0cmlidXRlcy5ub3JtYWwuYXJyYXk7XG4gICAgdmFyIHV2cyA9IGF0dHJpYnV0ZXMudXYuYXJyYXk7XG5cbiAgICB2YXIgblZlcnRpY2VzID0gcG9zaXRpb25zLmxlbmd0aCAvIDM7XG5cbiAgICBpZiAoYXR0cmlidXRlcy50YW5nZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZSgndGFuZ2VudCcsIG5ldyBCdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheSg0ICogblZlcnRpY2VzKSwgNCkpO1xuICAgIH1cblxuICAgIHZhciB0YW5nZW50cyA9IGF0dHJpYnV0ZXMudGFuZ2VudC5hcnJheTtcblxuICAgIHZhciB0YW4xID0gW10sXG4gICAgICAgIHRhbjIgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgblZlcnRpY2VzOyBpKyspIHtcbiAgICAgIHRhbjFbaV0gPSBuZXcgVmVjdG9yMygpO1xuICAgICAgdGFuMltpXSA9IG5ldyBWZWN0b3IzKCk7XG4gICAgfVxuXG4gICAgdmFyIHZBID0gbmV3IFZlY3RvcjMoKSxcbiAgICAgICAgdkIgPSBuZXcgVmVjdG9yMygpLFxuICAgICAgICB2QyA9IG5ldyBWZWN0b3IzKCksXG4gICAgICAgIHV2QSA9IG5ldyBWZWN0b3IyKCksXG4gICAgICAgIHV2QiA9IG5ldyBWZWN0b3IyKCksXG4gICAgICAgIHV2QyA9IG5ldyBWZWN0b3IyKCksXG4gICAgICAgIHNkaXIgPSBuZXcgVmVjdG9yMygpLFxuICAgICAgICB0ZGlyID0gbmV3IFZlY3RvcjMoKTtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZVRyaWFuZ2xlKGEsIGIsIGMpIHtcbiAgICAgIHZBLmZyb21BcnJheShwb3NpdGlvbnMsIGEgKiAzKTtcbiAgICAgIHZCLmZyb21BcnJheShwb3NpdGlvbnMsIGIgKiAzKTtcbiAgICAgIHZDLmZyb21BcnJheShwb3NpdGlvbnMsIGMgKiAzKTtcblxuICAgICAgdXZBLmZyb21BcnJheSh1dnMsIGEgKiAyKTtcbiAgICAgIHV2Qi5mcm9tQXJyYXkodXZzLCBiICogMik7XG4gICAgICB1dkMuZnJvbUFycmF5KHV2cywgYyAqIDIpO1xuXG4gICAgICB2Qi5zdWIodkEpO1xuICAgICAgdkMuc3ViKHZBKTtcblxuICAgICAgdXZCLnN1Yih1dkEpO1xuICAgICAgdXZDLnN1Yih1dkEpO1xuXG4gICAgICB2YXIgciA9IDEuMCAvICh1dkIueCAqIHV2Qy55IC0gdXZDLnggKiB1dkIueSk7XG5cbiAgICAgIC8vIHNpbGVudGx5IGlnbm9yZSBkZWdlbmVyYXRlIHV2IHRyaWFuZ2xlcyBoYXZpbmcgY29pbmNpZGVudCBvciBjb2xpbmVhciB2ZXJ0aWNlc1xuXG4gICAgICBpZiAoIWlzRmluaXRlKHIpKSByZXR1cm47XG5cbiAgICAgIHNkaXIuY29weSh2QikubXVsdGlwbHlTY2FsYXIodXZDLnkpLmFkZFNjYWxlZFZlY3Rvcih2QywgLXV2Qi55KS5tdWx0aXBseVNjYWxhcihyKTtcbiAgICAgIHRkaXIuY29weSh2QykubXVsdGlwbHlTY2FsYXIodXZCLngpLmFkZFNjYWxlZFZlY3Rvcih2QiwgLXV2Qy54KS5tdWx0aXBseVNjYWxhcihyKTtcblxuICAgICAgdGFuMVthXS5hZGQoc2Rpcik7XG4gICAgICB0YW4xW2JdLmFkZChzZGlyKTtcbiAgICAgIHRhbjFbY10uYWRkKHNkaXIpO1xuXG4gICAgICB0YW4yW2FdLmFkZCh0ZGlyKTtcbiAgICAgIHRhbjJbYl0uYWRkKHRkaXIpO1xuICAgICAgdGFuMltjXS5hZGQodGRpcik7XG4gICAgfVxuXG4gICAgdmFyIGdyb3VwcyA9IGdlb21ldHJ5Lmdyb3VwcztcblxuICAgIGlmIChncm91cHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBncm91cHMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBzdGFydDogMCxcbiAgICAgICAgICBjb3VudDogaW5kaWNlcy5sZW5ndGgsXG4gICAgICAgIH0sXG4gICAgICBdO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGdyb3Vwcy5sZW5ndGg7IGkgPCBpbDsgKytpKSB7XG4gICAgICB2YXIgZ3JvdXAgPSBncm91cHNbaV07XG5cbiAgICAgIHZhciBzdGFydCA9IGdyb3VwLnN0YXJ0O1xuICAgICAgdmFyIGNvdW50ID0gZ3JvdXAuY291bnQ7XG5cbiAgICAgIGZvciAodmFyIGogPSBzdGFydCwgamwgPSBzdGFydCArIGNvdW50OyBqIDwgamw7IGogKz0gMykge1xuICAgICAgICBoYW5kbGVUcmlhbmdsZShpbmRpY2VzW2ogKyAwXSwgaW5kaWNlc1tqICsgMV0sIGluZGljZXNbaiArIDJdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdG1wID0gbmV3IFZlY3RvcjMoKSxcbiAgICAgICAgdG1wMiA9IG5ldyBWZWN0b3IzKCk7XG4gICAgdmFyIG4gPSBuZXcgVmVjdG9yMygpLFxuICAgICAgICBuMiA9IG5ldyBWZWN0b3IzKCk7XG4gICAgdmFyIHcsIHQsIHRlc3Q7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVWZXJ0ZXgodikge1xuICAgICAgbi5mcm9tQXJyYXkobm9ybWFscywgdiAqIDMpO1xuICAgICAgbjIuY29weShuKTtcblxuICAgICAgdCA9IHRhbjFbdl07XG5cbiAgICAgIC8vIEdyYW0tU2NobWlkdCBvcnRob2dvbmFsaXplXG5cbiAgICAgIHRtcC5jb3B5KHQpO1xuICAgICAgdG1wLnN1YihuLm11bHRpcGx5U2NhbGFyKG4uZG90KHQpKSkubm9ybWFsaXplKCk7XG5cbiAgICAgIC8vIENhbGN1bGF0ZSBoYW5kZWRuZXNzXG5cbiAgICAgIHRtcDIuY3Jvc3NWZWN0b3JzKG4yLCB0KTtcbiAgICAgIHRlc3QgPSB0bXAyLmRvdCh0YW4yW3ZdKTtcbiAgICAgIHcgPSB0ZXN0IDwgMC4wID8gLTEuMCA6IDEuMDtcblxuICAgICAgdGFuZ2VudHNbdiAqIDRdID0gdG1wLng7XG4gICAgICB0YW5nZW50c1t2ICogNCArIDFdID0gdG1wLnk7XG4gICAgICB0YW5nZW50c1t2ICogNCArIDJdID0gdG1wLno7XG4gICAgICB0YW5nZW50c1t2ICogNCArIDNdID0gdztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBncm91cHMubGVuZ3RoOyBpIDwgaWw7ICsraSkge1xuICAgICAgdmFyIGdyb3VwID0gZ3JvdXBzW2ldO1xuXG4gICAgICB2YXIgc3RhcnQgPSBncm91cC5zdGFydDtcbiAgICAgIHZhciBjb3VudCA9IGdyb3VwLmNvdW50O1xuXG4gICAgICBmb3IgKHZhciBqID0gc3RhcnQsIGpsID0gc3RhcnQgKyBjb3VudDsgaiA8IGpsOyBqICs9IDMpIHtcbiAgICAgICAgaGFuZGxlVmVydGV4KGluZGljZXNbaiArIDBdKTtcbiAgICAgICAgaGFuZGxlVmVydGV4KGluZGljZXNbaiArIDFdKTtcbiAgICAgICAgaGFuZGxlVmVydGV4KGluZGljZXNbaiArIDJdKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSAge0FycmF5PEJ1ZmZlckdlb21ldHJ5Pn0gZ2VvbWV0cmllc1xuICAgKiBAcGFyYW0gIHtCb29sZWFufSB1c2VHcm91cHNcbiAgICogQHJldHVybiB7QnVmZmVyR2VvbWV0cnl9XG4gICAqL1xuICBtZXJnZUJ1ZmZlckdlb21ldHJpZXM6IGZ1bmN0aW9uIChnZW9tZXRyaWVzLCB1c2VHcm91cHMpIHtcbiAgICB2YXIgaXNJbmRleGVkID0gZ2VvbWV0cmllc1swXS5pbmRleCAhPT0gbnVsbDtcblxuICAgIHZhciBhdHRyaWJ1dGVzVXNlZCA9IG5ldyBTZXQoT2JqZWN0LmtleXMoZ2VvbWV0cmllc1swXS5hdHRyaWJ1dGVzKSk7XG4gICAgdmFyIG1vcnBoQXR0cmlidXRlc1VzZWQgPSBuZXcgU2V0KE9iamVjdC5rZXlzKGdlb21ldHJpZXNbMF0ubW9ycGhBdHRyaWJ1dGVzKSk7XG5cbiAgICB2YXIgYXR0cmlidXRlcyA9IHt9O1xuICAgIHZhciBtb3JwaEF0dHJpYnV0ZXMgPSB7fTtcblxuICAgIHZhciBtb3JwaFRhcmdldHNSZWxhdGl2ZSA9IGdlb21ldHJpZXNbMF0ubW9ycGhUYXJnZXRzUmVsYXRpdmU7XG5cbiAgICB2YXIgbWVyZ2VkR2VvbWV0cnkgPSBuZXcgQnVmZmVyR2VvbWV0cnkoKTtcblxuICAgIHZhciBvZmZzZXQgPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xuICAgICAgdmFyIGF0dHJpYnV0ZXNDb3VudCA9IDA7XG5cbiAgICAgIC8vIGVuc3VyZSB0aGF0IGFsbCBnZW9tZXRyaWVzIGFyZSBpbmRleGVkLCBvciBub25lXG5cbiAgICAgIGlmIChpc0luZGV4ZWQgIT09IChnZW9tZXRyeS5pbmRleCAhPT0gbnVsbCkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4ICcgK1xuICAgICAgICAgIGkgK1xuICAgICAgICAgICcuIEFsbCBnZW9tZXRyaWVzIG11c3QgaGF2ZSBjb21wYXRpYmxlIGF0dHJpYnV0ZXM7IG1ha2Ugc3VyZSBpbmRleCBhdHRyaWJ1dGUgZXhpc3RzIGFtb25nIGFsbCBnZW9tZXRyaWVzLCBvciBpbiBub25lIG9mIHRoZW0uJ1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gZ2F0aGVyIGF0dHJpYnV0ZXMsIGV4aXQgZWFybHkgaWYgdGhleSdyZSBkaWZmZXJlbnRcblxuICAgICAgZm9yICh2YXIgbmFtZSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmICghYXR0cmlidXRlc1VzZWQuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggJyArXG4gICAgICAgICAgICBpICtcbiAgICAgICAgICAgICcuIEFsbCBnZW9tZXRyaWVzIG11c3QgaGF2ZSBjb21wYXRpYmxlIGF0dHJpYnV0ZXM7IG1ha2Ugc3VyZSBcIicgK1xuICAgICAgICAgICAgbmFtZSArXG4gICAgICAgICAgICAnXCIgYXR0cmlidXRlIGV4aXN0cyBhbW9uZyBhbGwgZ2VvbWV0cmllcywgb3IgaW4gbm9uZSBvZiB0aGVtLidcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF0dHJpYnV0ZXNbbmFtZV0gPT09IHVuZGVmaW5lZCkgYXR0cmlidXRlc1tuYW1lXSA9IFtdO1xuXG4gICAgICAgIGF0dHJpYnV0ZXNbbmFtZV0ucHVzaChnZW9tZXRyeS5hdHRyaWJ1dGVzW25hbWVdKTtcblxuICAgICAgICBhdHRyaWJ1dGVzQ291bnQrKztcbiAgICAgIH1cblxuICAgICAgLy8gZW5zdXJlIGdlb21ldHJpZXMgaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2YgYXR0cmlidXRlc1xuXG4gICAgICBpZiAoYXR0cmlidXRlc0NvdW50ICE9PSBhdHRyaWJ1dGVzVXNlZC5zaXplKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2l0aCBnZW9tZXRyeSBhdCBpbmRleCAnICtcbiAgICAgICAgICBpICtcbiAgICAgICAgICAnLiBNYWtlIHN1cmUgYWxsIGdlb21ldHJpZXMgaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2YgYXR0cmlidXRlcy4nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyBnYXRoZXIgbW9ycGggYXR0cmlidXRlcywgZXhpdCBlYXJseSBpZiB0aGV5J3JlIGRpZmZlcmVudFxuXG4gICAgICBpZiAobW9ycGhUYXJnZXRzUmVsYXRpdmUgIT09IGdlb21ldHJ5Lm1vcnBoVGFyZ2V0c1JlbGF0aXZlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2l0aCBnZW9tZXRyeSBhdCBpbmRleCAnICtcbiAgICAgICAgICBpICtcbiAgICAgICAgICAnLiAubW9ycGhUYXJnZXRzUmVsYXRpdmUgbXVzdCBiZSBjb25zaXN0ZW50IHRocm91Z2hvdXQgYWxsIGdlb21ldHJpZXMuJ1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgbmFtZSBpbiBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKCFtb3JwaEF0dHJpYnV0ZXNVc2VkLmhhcyhuYW1lKSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4ICcgK1xuICAgICAgICAgICAgaSArXG4gICAgICAgICAgICAnLiAgLm1vcnBoQXR0cmlidXRlcyBtdXN0IGJlIGNvbnNpc3RlbnQgdGhyb3VnaG91dCBhbGwgZ2VvbWV0cmllcy4nXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb3JwaEF0dHJpYnV0ZXNbbmFtZV0gPT09IHVuZGVmaW5lZCkgbW9ycGhBdHRyaWJ1dGVzW25hbWVdID0gW107XG5cbiAgICAgICAgbW9ycGhBdHRyaWJ1dGVzW25hbWVdLnB1c2goZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW25hbWVdKTtcbiAgICAgIH1cblxuICAgICAgLy8gZ2F0aGVyIC51c2VyRGF0YVxuXG4gICAgICBtZXJnZWRHZW9tZXRyeS51c2VyRGF0YS5tZXJnZWRVc2VyRGF0YSA9IG1lcmdlZEdlb21ldHJ5LnVzZXJEYXRhLm1lcmdlZFVzZXJEYXRhIHx8IFtdO1xuICAgICAgbWVyZ2VkR2VvbWV0cnkudXNlckRhdGEubWVyZ2VkVXNlckRhdGEucHVzaChnZW9tZXRyeS51c2VyRGF0YSk7XG5cbiAgICAgIGlmICh1c2VHcm91cHMpIHtcbiAgICAgICAgdmFyIGNvdW50O1xuXG4gICAgICAgIGlmIChpc0luZGV4ZWQpIHtcbiAgICAgICAgICBjb3VudCA9IGdlb21ldHJ5LmluZGV4LmNvdW50O1xuICAgICAgICB9IGVsc2UgaWYgKGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNvdW50ID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5jb3VudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2l0aCBnZW9tZXRyeSBhdCBpbmRleCAnICtcbiAgICAgICAgICAgIGkgK1xuICAgICAgICAgICAgJy4gVGhlIGdlb21ldHJ5IG11c3QgaGF2ZSBlaXRoZXIgYW4gaW5kZXggb3IgYSBwb3NpdGlvbiBhdHRyaWJ1dGUnXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lcmdlZEdlb21ldHJ5LmFkZEdyb3VwKG9mZnNldCwgY291bnQsIGkpO1xuXG4gICAgICAgIG9mZnNldCArPSBjb3VudDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBtZXJnZSBpbmRpY2VzXG5cbiAgICBpZiAoaXNJbmRleGVkKSB7XG4gICAgICB2YXIgaW5kZXhPZmZzZXQgPSAwO1xuICAgICAgdmFyIG1lcmdlZEluZGV4ID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgaW5kZXggPSBnZW9tZXRyaWVzW2ldLmluZGV4O1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaW5kZXguY291bnQ7ICsraikge1xuICAgICAgICAgIG1lcmdlZEluZGV4LnB1c2goaW5kZXguZ2V0WChqKSArIGluZGV4T2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGluZGV4T2Zmc2V0ICs9IGdlb21ldHJpZXNbaV0uYXR0cmlidXRlcy5wb3NpdGlvbi5jb3VudDtcbiAgICAgIH1cblxuICAgICAgbWVyZ2VkR2VvbWV0cnkuc2V0SW5kZXgobWVyZ2VkSW5kZXgpO1xuICAgIH1cblxuICAgIC8vIG1lcmdlIGF0dHJpYnV0ZXNcblxuICAgIGZvciAodmFyIG5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgICAgdmFyIG1lcmdlZEF0dHJpYnV0ZSA9IHRoaXMubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKGF0dHJpYnV0ZXNbbmFtZV0pO1xuXG4gICAgICBpZiAoIW1lcmdlZEF0dHJpYnV0ZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdoaWxlIHRyeWluZyB0byBtZXJnZSB0aGUgJyArXG4gICAgICAgICAgbmFtZSArXG4gICAgICAgICAgJyBhdHRyaWJ1dGUuJ1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgbWVyZ2VkR2VvbWV0cnkuc2V0QXR0cmlidXRlKG5hbWUsIG1lcmdlZEF0dHJpYnV0ZSk7XG4gICAgfVxuXG4gICAgLy8gbWVyZ2UgbW9ycGggYXR0cmlidXRlc1xuXG4gICAgZm9yICh2YXIgbmFtZSBpbiBtb3JwaEF0dHJpYnV0ZXMpIHtcbiAgICAgIHZhciBudW1Nb3JwaFRhcmdldHMgPSBtb3JwaEF0dHJpYnV0ZXNbbmFtZV1bMF0ubGVuZ3RoO1xuXG4gICAgICBpZiAobnVtTW9ycGhUYXJnZXRzID09PSAwKSBicmVhaztcblxuICAgICAgbWVyZ2VkR2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzID0gbWVyZ2VkR2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzIHx8IHt9O1xuICAgICAgbWVyZ2VkR2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW25hbWVdID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtTW9ycGhUYXJnZXRzOyArK2kpIHtcbiAgICAgICAgdmFyIG1vcnBoQXR0cmlidXRlc1RvTWVyZ2UgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1vcnBoQXR0cmlidXRlc1tuYW1lXS5sZW5ndGg7ICsraikge1xuICAgICAgICAgIG1vcnBoQXR0cmlidXRlc1RvTWVyZ2UucHVzaChtb3JwaEF0dHJpYnV0ZXNbbmFtZV1bal1baV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1lcmdlZE1vcnBoQXR0cmlidXRlID0gdGhpcy5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMobW9ycGhBdHRyaWJ1dGVzVG9NZXJnZSk7XG5cbiAgICAgICAgaWYgKCFtZXJnZWRNb3JwaEF0dHJpYnV0ZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aGlsZSB0cnlpbmcgdG8gbWVyZ2UgdGhlICcgK1xuICAgICAgICAgICAgbmFtZSArXG4gICAgICAgICAgICAnIG1vcnBoQXR0cmlidXRlLidcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVyZ2VkR2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW25hbWVdLnB1c2gobWVyZ2VkTW9ycGhBdHRyaWJ1dGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtZXJnZWRHZW9tZXRyeTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxCdWZmZXJBdHRyaWJ1dGU+fSBhdHRyaWJ1dGVzXG4gICAqIEByZXR1cm4ge0J1ZmZlckF0dHJpYnV0ZX1cbiAgICovXG4gIG1lcmdlQnVmZmVyQXR0cmlidXRlczogZnVuY3Rpb24gKGF0dHJpYnV0ZXMpIHtcbiAgICB2YXIgVHlwZWRBcnJheTtcbiAgICB2YXIgaXRlbVNpemU7XG4gICAgdmFyIG5vcm1hbGl6ZWQ7XG4gICAgdmFyIGFycmF5TGVuZ3RoID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbaV07XG5cbiAgICAgIGlmIChhdHRyaWJ1dGUuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKCkgZmFpbGVkLiBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWQuJ1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKFR5cGVkQXJyYXkgPT09IHVuZGVmaW5lZCkgVHlwZWRBcnJheSA9IGF0dHJpYnV0ZS5hcnJheS5jb25zdHJ1Y3RvcjtcbiAgICAgIGlmIChUeXBlZEFycmF5ICE9PSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyQXR0cmlidXRlcygpIGZhaWxlZC4gQnVmZmVyQXR0cmlidXRlLmFycmF5IG11c3QgYmUgb2YgY29uc2lzdGVudCBhcnJheSB0eXBlcyBhY3Jvc3MgbWF0Y2hpbmcgYXR0cmlidXRlcy4nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVNpemUgPT09IHVuZGVmaW5lZCkgaXRlbVNpemUgPSBhdHRyaWJ1dGUuaXRlbVNpemU7XG4gICAgICBpZiAoaXRlbVNpemUgIT09IGF0dHJpYnV0ZS5pdGVtU2l6ZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKCkgZmFpbGVkLiBCdWZmZXJBdHRyaWJ1dGUuaXRlbVNpemUgbXVzdCBiZSBjb25zaXN0ZW50IGFjcm9zcyBtYXRjaGluZyBhdHRyaWJ1dGVzLidcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChub3JtYWxpemVkID09PSB1bmRlZmluZWQpIG5vcm1hbGl6ZWQgPSBhdHRyaWJ1dGUubm9ybWFsaXplZDtcbiAgICAgIGlmIChub3JtYWxpemVkICE9PSBhdHRyaWJ1dGUubm9ybWFsaXplZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKCkgZmFpbGVkLiBCdWZmZXJBdHRyaWJ1dGUubm9ybWFsaXplZCBtdXN0IGJlIGNvbnNpc3RlbnQgYWNyb3NzIG1hdGNoaW5nIGF0dHJpYnV0ZXMuJ1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgYXJyYXlMZW5ndGggKz0gYXR0cmlidXRlLmFycmF5Lmxlbmd0aDtcbiAgICB9XG5cbiAgICB2YXIgYXJyYXkgPSBuZXcgVHlwZWRBcnJheShhcnJheUxlbmd0aCk7XG4gICAgdmFyIG9mZnNldCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGFycmF5LnNldChhdHRyaWJ1dGVzW2ldLmFycmF5LCBvZmZzZXQpO1xuXG4gICAgICBvZmZzZXQgKz0gYXR0cmlidXRlc1tpXS5hcnJheS5sZW5ndGg7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBCdWZmZXJBdHRyaWJ1dGUoYXJyYXksIGl0ZW1TaXplLCBub3JtYWxpemVkKTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxCdWZmZXJBdHRyaWJ1dGU+fSBhdHRyaWJ1dGVzXG4gICAqIEByZXR1cm4ge0FycmF5PEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlPn1cbiAgICovXG4gIGludGVybGVhdmVBdHRyaWJ1dGVzOiBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xuICAgIC8vIEludGVybGVhdmVzIHRoZSBwcm92aWRlZCBhdHRyaWJ1dGVzIGludG8gYW4gSW50ZXJsZWF2ZWRCdWZmZXIgYW5kIHJldHVybnNcbiAgICAvLyBhIHNldCBvZiBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZXMgZm9yIGVhY2ggYXR0cmlidXRlXG4gICAgdmFyIFR5cGVkQXJyYXk7XG4gICAgdmFyIGFycmF5TGVuZ3RoID0gMDtcbiAgICB2YXIgc3RyaWRlID0gMDtcblxuICAgIC8vIGNhbGN1bGF0ZSB0aGUgdGhlIGxlbmd0aCBhbmQgdHlwZSBvZiB0aGUgaW50ZXJsZWF2ZWRCdWZmZXJcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF0dHJpYnV0ZXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcblxuICAgICAgaWYgKFR5cGVkQXJyYXkgPT09IHVuZGVmaW5lZCkgVHlwZWRBcnJheSA9IGF0dHJpYnV0ZS5hcnJheS5jb25zdHJ1Y3RvcjtcbiAgICAgIGlmIChUeXBlZEFycmF5ICE9PSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQXR0cmlidXRlQnVmZmVycyBvZiBkaWZmZXJlbnQgdHlwZXMgY2Fubm90IGJlIGludGVybGVhdmVkJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBhcnJheUxlbmd0aCArPSBhdHRyaWJ1dGUuYXJyYXkubGVuZ3RoO1xuICAgICAgc3RyaWRlICs9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgdGhlIHNldCBvZiBidWZmZXIgYXR0cmlidXRlc1xuICAgIHZhciBpbnRlcmxlYXZlZEJ1ZmZlciA9IG5ldyBJbnRlcmxlYXZlZEJ1ZmZlcihuZXcgVHlwZWRBcnJheShhcnJheUxlbmd0aCksIHN0cmlkZSk7XG4gICAgdmFyIG9mZnNldCA9IDA7XG4gICAgdmFyIHJlcyA9IFtdO1xuICAgIHZhciBnZXR0ZXJzID0gWydnZXRYJywgJ2dldFknLCAnZ2V0WicsICdnZXRXJ107XG4gICAgdmFyIHNldHRlcnMgPSBbJ3NldFgnLCAnc2V0WScsICdzZXRaJywgJ3NldFcnXTtcblxuICAgIGZvciAodmFyIGogPSAwLCBsID0gYXR0cmlidXRlcy5sZW5ndGg7IGogPCBsOyBqKyspIHtcbiAgICAgIHZhciBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2pdO1xuICAgICAgdmFyIGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplO1xuICAgICAgdmFyIGNvdW50ID0gYXR0cmlidXRlLmNvdW50O1xuICAgICAgdmFyIGliYSA9IG5ldyBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShcbiAgICAgICAgaW50ZXJsZWF2ZWRCdWZmZXIsXG4gICAgICAgIGl0ZW1TaXplLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGF0dHJpYnV0ZS5ub3JtYWxpemVkXG4gICAgICApO1xuICAgICAgcmVzLnB1c2goaWJhKTtcblxuICAgICAgb2Zmc2V0ICs9IGl0ZW1TaXplO1xuXG4gICAgICAvLyBNb3ZlIHRoZSBkYXRhIGZvciBlYWNoIGF0dHJpYnV0ZSBpbnRvIHRoZSBuZXcgaW50ZXJsZWF2ZWRCdWZmZXJcbiAgICAgIC8vIGF0IHRoZSBhcHByb3ByaWF0ZSBvZmZzZXRcbiAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgY291bnQ7IGMrKykge1xuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGl0ZW1TaXplOyBrKyspIHtcbiAgICAgICAgICBpYmFbc2V0dGVyc1trXV0oYywgYXR0cmlidXRlW2dldHRlcnNba11dKGMpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8QnVmZmVyR2VvbWV0cnk+fSBnZW9tZXRyeVxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICBlc3RpbWF0ZUJ5dGVzVXNlZDogZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgLy8gUmV0dXJuIHRoZSBlc3RpbWF0ZWQgbWVtb3J5IHVzZWQgYnkgdGhpcyBnZW9tZXRyeSBpbiBieXRlc1xuICAgIC8vIENhbGN1bGF0ZSB1c2luZyBpdGVtU2l6ZSwgY291bnQsIGFuZCBCWVRFU19QRVJfRUxFTUVOVCB0byBhY2NvdW50XG4gICAgLy8gZm9yIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlcy5cbiAgICB2YXIgbWVtID0gMDtcbiAgICBmb3IgKHZhciBuYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcbiAgICAgIHZhciBhdHRyID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgICAgbWVtICs9IGF0dHIuY291bnQgKiBhdHRyLml0ZW1TaXplICogYXR0ci5hcnJheS5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICB9XG5cbiAgICB2YXIgaW5kaWNlcyA9IGdlb21ldHJ5LmdldEluZGV4KCk7XG4gICAgbWVtICs9IGluZGljZXMgPyBpbmRpY2VzLmNvdW50ICogaW5kaWNlcy5pdGVtU2l6ZSAqIGluZGljZXMuYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgOiAwO1xuICAgIHJldHVybiBtZW07XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2VcbiAgICogQHJldHVybiB7QnVmZmVyR2VvbWV0cnk+fVxuICAgKi9cbiAgbWVyZ2VWZXJ0aWNlczogZnVuY3Rpb24gKGdlb21ldHJ5LCB0b2xlcmFuY2UgPSAxZS00KSB7XG4gICAgdG9sZXJhbmNlID0gTWF0aC5tYXgodG9sZXJhbmNlLCBOdW1iZXIuRVBTSUxPTik7XG5cbiAgICAvLyBHZW5lcmF0ZSBhbiBpbmRleCBidWZmZXIgaWYgdGhlIGdlb21ldHJ5IGRvZXNuJ3QgaGF2ZSBvbmUsIG9yIG9wdGltaXplIGl0XG4gICAgLy8gaWYgaXQncyBhbHJlYWR5IGF2YWlsYWJsZS5cbiAgICB2YXIgaGFzaFRvSW5kZXggPSB7fTtcbiAgICB2YXIgaW5kaWNlcyA9IGdlb21ldHJ5LmdldEluZGV4KCk7XG4gICAgdmFyIHBvc2l0aW9ucyA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZSgncG9zaXRpb24nKTtcbiAgICB2YXIgdmVydGV4Q291bnQgPSBpbmRpY2VzID8gaW5kaWNlcy5jb3VudCA6IHBvc2l0aW9ucy5jb3VudDtcblxuICAgIC8vIG5leHQgdmFsdWUgZm9yIHRyaWFuZ2xlIGluZGljZXNcbiAgICB2YXIgbmV4dEluZGV4ID0gMDtcblxuICAgIC8vIGF0dHJpYnV0ZXMgYW5kIG5ldyBhdHRyaWJ1dGUgYXJyYXlzXG4gICAgdmFyIGF0dHJpYnV0ZU5hbWVzID0gT2JqZWN0LmtleXMoZ2VvbWV0cnkuYXR0cmlidXRlcyk7XG4gICAgdmFyIGF0dHJBcnJheXMgPSB7fTtcbiAgICB2YXIgbW9ycGhBdHRyc0FycmF5cyA9IHt9O1xuICAgIHZhciBuZXdJbmRpY2VzID0gW107XG4gICAgdmFyIGdldHRlcnMgPSBbJ2dldFgnLCAnZ2V0WScsICdnZXRaJywgJ2dldFcnXTtcblxuICAgIC8vIGluaXRpYWxpemUgdGhlIGFycmF5c1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXR0cmlidXRlTmFtZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2ldO1xuXG4gICAgICBhdHRyQXJyYXlzW25hbWVdID0gW107XG5cbiAgICAgIHZhciBtb3JwaEF0dHIgPSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXNbbmFtZV07XG4gICAgICBpZiAobW9ycGhBdHRyKSB7XG4gICAgICAgIG1vcnBoQXR0cnNBcnJheXNbbmFtZV0gPSBuZXcgQXJyYXkobW9ycGhBdHRyLmxlbmd0aCkuZmlsbCgpLm1hcCgoKSA9PiBbXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29udmVydCB0aGUgZXJyb3IgdG9sZXJhbmNlIHRvIGFuIGFtb3VudCBvZiBkZWNpbWFsIHBsYWNlcyB0byB0cnVuY2F0ZSB0b1xuICAgIHZhciBkZWNpbWFsU2hpZnQgPSBNYXRoLmxvZzEwKDEgLyB0b2xlcmFuY2UpO1xuICAgIHZhciBzaGlmdE11bHRpcGxpZXIgPSBNYXRoLnBvdygxMCwgZGVjaW1hbFNoaWZ0KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleENvdW50OyBpKyspIHtcbiAgICAgIHZhciBpbmRleCA9IGluZGljZXMgPyBpbmRpY2VzLmdldFgoaSkgOiBpO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBhIGhhc2ggZm9yIHRoZSB2ZXJ0ZXggYXR0cmlidXRlcyBhdCB0aGUgY3VycmVudCBpbmRleCAnaSdcbiAgICAgIHZhciBoYXNoID0gJyc7XG4gICAgICBmb3IgKHZhciBqID0gMCwgbCA9IGF0dHJpYnV0ZU5hbWVzLmxlbmd0aDsgaiA8IGw7IGorKykge1xuICAgICAgICB2YXIgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2pdO1xuICAgICAgICB2YXIgYXR0cmlidXRlID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgICAgICB2YXIgaXRlbVNpemUgPSBhdHRyaWJ1dGUuaXRlbVNpemU7XG5cbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBpdGVtU2l6ZTsgaysrKSB7XG4gICAgICAgICAgLy8gZG91YmxlIHRpbGRlIHRydW5jYXRlcyB0aGUgZGVjaW1hbCB2YWx1ZVxuICAgICAgICAgIGhhc2ggKz0gYCR7fn4oYXR0cmlidXRlW2dldHRlcnNba11dKGluZGV4KSAqIHNoaWZ0TXVsdGlwbGllcil9LGA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQWRkIGFub3RoZXIgcmVmZXJlbmNlIHRvIHRoZSB2ZXJ0ZXggaWYgaXQncyBhbHJlYWR5XG4gICAgICAvLyB1c2VkIGJ5IGFub3RoZXIgaW5kZXhcbiAgICAgIGlmIChoYXNoIGluIGhhc2hUb0luZGV4KSB7XG4gICAgICAgIG5ld0luZGljZXMucHVzaChoYXNoVG9JbmRleFtoYXNoXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb3B5IGRhdGEgdG8gdGhlIG5ldyBpbmRleCBpbiB0aGUgYXR0cmlidXRlIGFycmF5c1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgbCA9IGF0dHJpYnV0ZU5hbWVzLmxlbmd0aDsgaiA8IGw7IGorKykge1xuICAgICAgICAgIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZXNbal07XG4gICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICB2YXIgbW9ycGhBdHRyID0gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW25hbWVdO1xuICAgICAgICAgIHZhciBpdGVtU2l6ZSA9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcbiAgICAgICAgICB2YXIgbmV3YXJyYXkgPSBhdHRyQXJyYXlzW25hbWVdO1xuICAgICAgICAgIHZhciBuZXdNb3JwaEFycmF5cyA9IG1vcnBoQXR0cnNBcnJheXNbbmFtZV07XG5cbiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGl0ZW1TaXplOyBrKyspIHtcbiAgICAgICAgICAgIHZhciBnZXR0ZXJGdW5jID0gZ2V0dGVyc1trXTtcbiAgICAgICAgICAgIG5ld2FycmF5LnB1c2goYXR0cmlidXRlW2dldHRlckZ1bmNdKGluZGV4KSk7XG5cbiAgICAgICAgICAgIGlmIChtb3JwaEF0dHIpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgbSA9IDAsIG1sID0gbW9ycGhBdHRyLmxlbmd0aDsgbSA8IG1sOyBtKyspIHtcbiAgICAgICAgICAgICAgICBuZXdNb3JwaEFycmF5c1ttXS5wdXNoKG1vcnBoQXR0clttXVtnZXR0ZXJGdW5jXShpbmRleCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaGFzaFRvSW5kZXhbaGFzaF0gPSBuZXh0SW5kZXg7XG4gICAgICAgIG5ld0luZGljZXMucHVzaChuZXh0SW5kZXgpO1xuICAgICAgICBuZXh0SW5kZXgrKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBHZW5lcmF0ZSB0eXBlZCBhcnJheXMgZnJvbSBuZXcgYXR0cmlidXRlIGFycmF5cyBhbmQgdXBkYXRlXG4gICAgLy8gdGhlIGF0dHJpYnV0ZUJ1ZmZlcnNcbiAgICBjb25zdCByZXN1bHQgPSBnZW9tZXRyeS5jbG9uZSgpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXR0cmlidXRlTmFtZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2ldO1xuICAgICAgdmFyIG9sZEF0dHJpYnV0ZSA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZShuYW1lKTtcblxuICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBvbGRBdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3IoYXR0ckFycmF5c1tuYW1lXSk7XG4gICAgICB2YXIgYXR0cmlidXRlID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZShidWZmZXIsIG9sZEF0dHJpYnV0ZS5pdGVtU2l6ZSwgb2xkQXR0cmlidXRlLm5vcm1hbGl6ZWQpO1xuXG4gICAgICByZXN1bHQuc2V0QXR0cmlidXRlKG5hbWUsIGF0dHJpYnV0ZSk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgYXR0cmlidXRlIGFycmF5c1xuICAgICAgaWYgKG5hbWUgaW4gbW9ycGhBdHRyc0FycmF5cykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1vcnBoQXR0cnNBcnJheXNbbmFtZV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgb2xkTW9ycGhBdHRyaWJ1dGUgPSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXNbbmFtZV1bal07XG5cbiAgICAgICAgICB2YXIgYnVmZmVyID0gbmV3IG9sZE1vcnBoQXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yKG1vcnBoQXR0cnNBcnJheXNbbmFtZV1bal0pO1xuICAgICAgICAgIHZhciBtb3JwaEF0dHJpYnV0ZSA9IG5ldyBCdWZmZXJBdHRyaWJ1dGUoXG4gICAgICAgICAgICBidWZmZXIsXG4gICAgICAgICAgICBvbGRNb3JwaEF0dHJpYnV0ZS5pdGVtU2l6ZSxcbiAgICAgICAgICAgIG9sZE1vcnBoQXR0cmlidXRlLm5vcm1hbGl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlc3VsdC5tb3JwaEF0dHJpYnV0ZXNbbmFtZV1bal0gPSBtb3JwaEF0dHJpYnV0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGluZGljZXNcblxuICAgIHJlc3VsdC5zZXRJbmRleChuZXdJbmRpY2VzKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkcmF3TW9kZVxuICAgKiBAcmV0dXJuIHtCdWZmZXJHZW9tZXRyeT59XG4gICAqL1xuICB0b1RyaWFuZ2xlc0RyYXdNb2RlOiBmdW5jdGlvbiAoZ2VvbWV0cnksIGRyYXdNb2RlKSB7XG4gICAgaWYgKGRyYXdNb2RlID09PSBUcmlhbmdsZXNEcmF3TW9kZSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IEdlb21ldHJ5IGFscmVhZHkgZGVmaW5lZCBhcyB0cmlhbmdsZXMuJ1xuICAgICAgKTtcbiAgICAgIHJldHVybiBnZW9tZXRyeTtcbiAgICB9XG5cbiAgICBpZiAoZHJhd01vZGUgPT09IFRyaWFuZ2xlRmFuRHJhd01vZGUgfHwgZHJhd01vZGUgPT09IFRyaWFuZ2xlU3RyaXBEcmF3TW9kZSkge1xuICAgICAgdmFyIGluZGV4ID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcblxuICAgICAgLy8gZ2VuZXJhdGUgaW5kZXggaWYgbm90IHByZXNlbnRcblxuICAgICAgaWYgKGluZGV4ID09PSBudWxsKSB7XG4gICAgICAgIHZhciBpbmRpY2VzID0gW107XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCdwb3NpdGlvbicpO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3NpdGlvbi5jb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2goaSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZ2VvbWV0cnkuc2V0SW5kZXgoaW5kaWNlcyk7XG4gICAgICAgICAgaW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuZGVmaW5lZCBwb3NpdGlvbiBhdHRyaWJ1dGUuIFByb2Nlc3Npbmcgbm90IHBvc3NpYmxlLidcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBnZW9tZXRyeTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvL1xuXG4gICAgICB2YXIgbnVtYmVyT2ZUcmlhbmdsZXMgPSBpbmRleC5jb3VudCAtIDI7XG4gICAgICB2YXIgbmV3SW5kaWNlcyA9IFtdO1xuXG4gICAgICBpZiAoZHJhd01vZGUgPT09IFRyaWFuZ2xlRmFuRHJhd01vZGUpIHtcbiAgICAgICAgLy8gZ2wuVFJJQU5HTEVfRkFOXG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbnVtYmVyT2ZUcmlhbmdsZXM7IGkrKykge1xuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKDApKTtcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XG4gICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDEpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZ2wuVFJJQU5HTEVfU1RSSVBcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlck9mVHJpYW5nbGVzOyBpKyspIHtcbiAgICAgICAgICBpZiAoaSAlIDIgPT09IDApIHtcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAxKSk7XG4gICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMikpO1xuICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDEpKTtcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG5ld0luZGljZXMubGVuZ3RoIC8gMyAhPT0gbnVtYmVyT2ZUcmlhbmdsZXMpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuYWJsZSB0byBnZW5lcmF0ZSBjb3JyZWN0IGFtb3VudCBvZiB0cmlhbmdsZXMuJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBidWlsZCBmaW5hbCBnZW9tZXRyeVxuXG4gICAgICB2YXIgbmV3R2VvbWV0cnkgPSBnZW9tZXRyeS5jbG9uZSgpO1xuICAgICAgbmV3R2VvbWV0cnkuc2V0SW5kZXgobmV3SW5kaWNlcyk7XG4gICAgICBuZXdHZW9tZXRyeS5jbGVhckdyb3VwcygpO1xuXG4gICAgICByZXR1cm4gbmV3R2VvbWV0cnk7XG4gICAgfVxuXG4gICAgY29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVua25vd24gZHJhdyBtb2RlOicsIGRyYXdNb2RlKTtcbiAgICByZXR1cm4gZ2VvbWV0cnk7XG4gIH0sXG59O1xuXG5leHBvcnQgeyBCdWZmZXJHZW9tZXRyeVV0aWxzIH07XG4iLCIvKipcbiAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vXG4gKiBAYXV0aG9yIG1yLmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNhbnZhczogISF3aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICB3ZWJnbDogKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgIHJldHVybiAhISh3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0ICYmIChjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJykpKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pKCksXG5cbiAgd29ya2VyczogISF3aW5kb3cuV29ya2VyLFxuICBmaWxlYXBpOiB3aW5kb3cuRmlsZSAmJiB3aW5kb3cuRmlsZVJlYWRlciAmJiB3aW5kb3cuRmlsZUxpc3QgJiYgd2luZG93LkJsb2IsXG5cbiAgZ2V0V2ViR0xFcnJvck1lc3NhZ2U6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWxlbWVudC5pZCA9ICd3ZWJnbC1lcnJvci1tZXNzYWdlJztcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRGYW1pbHkgPSAnbW9ub3NwYWNlJztcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRTaXplID0gJzEzcHgnO1xuICAgIGVsZW1lbnQuc3R5bGUuZm9udFdlaWdodCA9ICdub3JtYWwnO1xuICAgIGVsZW1lbnQuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnO1xuICAgIGVsZW1lbnQuc3R5bGUuY29sb3IgPSAnIzAwMCc7XG4gICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nID0gJzEuNWVtJztcbiAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gJzQwMHB4JztcbiAgICBlbGVtZW50LnN0eWxlLm1hcmdpbiA9ICc1ZW0gYXV0byAwJztcblxuICAgIGlmKCF0aGlzLndlYmdsKSB7XG4gICAgICBlbGVtZW50LmlubmVySFRNTCA9IHdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQgPyBbXG4gICAgICAgICdZb3VyIGdyYXBoaWNzIGNhcmQgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5XZWJHTDwvYT4uPGJyIC8+JyxcbiAgICAgICAgJ0ZpbmQgb3V0IGhvdyB0byBnZXQgaXQgPGEgaHJlZj1cImh0dHA6Ly9nZXQud2ViZ2wub3JnL1wiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPmhlcmU8L2E+LidcbiAgICAgIF0uam9pbignXFxuJykgOiBbXG4gICAgICAgICdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5XZWJHTDwvYT4uPGJyLz4nLFxuICAgICAgICAnRmluZCBvdXQgaG93IHRvIGdldCBpdCA8YSBocmVmPVwiaHR0cDovL2dldC53ZWJnbC5vcmcvXCIgc3R5bGU9XCJjb2xvcjojMDAwMDAwXCI+aGVyZTwvYT4uJ1xuICAgICAgXS5qb2luKCdcXG4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSxcblxuICBhZGRHZXRXZWJHTE1lc3NhZ2U6IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgICB2YXIgcGFyZW50LCBpZCwgZWxlbWVudDtcblxuICAgIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzIHx8IHt9O1xuXG4gICAgcGFyZW50ID0gcGFyYW1ldGVycy5wYXJlbnQgIT09IHVuZGVmaW5lZCA/IHBhcmFtZXRlcnMucGFyZW50IDogZG9jdW1lbnQuYm9keTtcbiAgICBpZCA9IHBhcmFtZXRlcnMuaWQgIT09IHVuZGVmaW5lZCA/IHBhcmFtZXRlcnMuaWQgOiAnb2xkaWUnO1xuXG4gICAgZWxlbWVudCA9IHRoaXMuZ2V0V2ViR0xFcnJvck1lc3NhZ2UoKTtcbiAgICBlbGVtZW50LmlkID0gaWQ7XG5cbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH1cbn07XG4iLCIvLyBQcm92aWRlcyBzaW1wbGUgc3RhdGljIGZ1bmN0aW9ucyB0aGF0IGFyZSB1c2VkIG11bHRpcGxlIHRpbWVzIGluIHRoZSBhcHBcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlbHBlcnMge1xuICBzdGF0aWMgdGhyb3R0bGUoZm4sIHRocmVzaGhvbGQsIHNjb3BlKSB7XG4gICAgdGhyZXNoaG9sZCB8fCAodGhyZXNoaG9sZCA9IDI1MCk7XG4gICAgbGV0IGxhc3QsIGRlZmVyVGltZXI7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gc2NvcGUgfHwgdGhpcztcblxuICAgICAgY29uc3Qgbm93ICA9ICtuZXcgRGF0ZSxcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcblxuICAgICAgaWYobGFzdCAmJiBub3cgPCBsYXN0ICsgdGhyZXNoaG9sZCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoZGVmZXJUaW1lcik7XG4gICAgICAgIGRlZmVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGxhc3QgPSBub3c7XG4gICAgICAgICAgZm4uYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIH0sIHRocmVzaGhvbGQpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxhc3QgPSBub3c7XG4gICAgICAgIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgbG9nUHJvZ3Jlc3MoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHhocikge1xuICAgICAgaWYoeGhyLmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgY29uc3QgcGVyY2VudENvbXBsZXRlID0geGhyLmxvYWRlZCAvIHhoci50b3RhbCAqIDEwMDtcblxuICAgICAgICBjb25zb2xlLmxvZyhNYXRoLnJvdW5kKHBlcmNlbnRDb21wbGV0ZSwgMikgKyAnJSBkb3dubG9hZGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGxvZ0Vycm9yKCkge1xuICAgIHJldHVybiBmdW5jdGlvbih4aHIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoeGhyKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgaGFuZGxlQ29sb3JDaGFuZ2UoY29sb3IpIHtcbiAgICByZXR1cm4gKHZhbHVlKSA9PiB7XG4gICAgICBpZih0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgnIycsICcweCcpO1xuICAgICAgfVxuXG4gICAgICBjb2xvci5zZXRIZXgodmFsdWUpO1xuICAgIH07XG4gIH1cblxuICBzdGF0aWMgdXBkYXRlKG1lc2gpIHtcbiAgICB0aGlzLm5lZWRzVXBkYXRlKG1lc2gubWF0ZXJpYWwsIG1lc2guZ2VvbWV0cnkpO1xuICB9XG5cbiAgc3RhdGljIG5lZWRzVXBkYXRlKG1hdGVyaWFsLCBnZW9tZXRyeSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIG1hdGVyaWFsLnNoYWRpbmcgPSArbWF0ZXJpYWwuc2hhZGluZzsgLy9FbnN1cmUgbnVtYmVyXG4gICAgICBtYXRlcmlhbC52ZXJ0ZXhDb2xvcnMgPSArbWF0ZXJpYWwudmVydGV4Q29sb3JzOyAvL0Vuc3VyZSBudW1iZXJcbiAgICAgIG1hdGVyaWFsLnNpZGUgPSArbWF0ZXJpYWwuc2lkZTsgLy9FbnN1cmUgbnVtYmVyXG4gICAgICBtYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICBnZW9tZXRyeS52ZXJ0aWNlc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgICAgZ2VvbWV0cnkubm9ybWFsc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgICAgZ2VvbWV0cnkuY29sb3JzTmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyB1cGRhdGVUZXh0dXJlKG1hdGVyaWFsLCBtYXRlcmlhbEtleSwgdGV4dHVyZXMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICBtYXRlcmlhbFttYXRlcmlhbEtleV0gPSB0ZXh0dXJlc1trZXldO1xuICAgICAgbWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIH07XG4gIH1cbn1cbiIsImNvbnN0IEFMSUFTID0ge1xuICAnbGVmdCdcdFx0OiAzNyxcbiAgJ3VwJ1x0XHQgIDogMzgsXG4gICdyaWdodCdcdFx0OiAzOSxcbiAgJ2Rvd24nXHRcdDogNDAsXG4gICdzcGFjZSdcdFx0OiAzMixcbiAgJ3RhYidcdFx0ICA6IDksXG4gICdlc2NhcGUnXHQ6IDI3XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLZXlib2FyZCB7XG4gIGNvbnN0cnVjdG9yKGRvbUVsZW1lbnQpIHtcbiAgICB0aGlzLmRvbUVsZW1lbnQgPSBkb21FbGVtZW50IHx8IGRvY3VtZW50O1xuICAgIHRoaXMua2V5Q29kZXMgPSB7fTtcblxuICAgIC8vIGJpbmQga2V5RXZlbnRzXG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHRoaXMub25LZXlDaGFuZ2UoZXZlbnQpLCBmYWxzZSk7XG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB0aGlzLm9uS2V5Q2hhbmdlKGV2ZW50KSwgZmFsc2UpO1xuXG4gICAgLy8gYmluZCB3aW5kb3cgYmx1clxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4gdGhpcy5vbkJsdXIsIGZhbHNlKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHRoaXMub25LZXlDaGFuZ2UoZXZlbnQpLCBmYWxzZSk7XG4gICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB0aGlzLm9uS2V5Q2hhbmdlKGV2ZW50KSwgZmFsc2UpO1xuXG4gICAgLy8gdW5iaW5kIHdpbmRvdyBibHVyIGV2ZW50XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB0aGlzLm9uQmx1ciwgZmFsc2UpO1xuICB9XG5cbiAgb25CbHVyKCkge1xuICAgIGZvcihjb25zdCBwcm9wIGluIHRoaXMua2V5Q29kZXMpXG4gICAgICB0aGlzLmtleUNvZGVzW3Byb3BdID0gZmFsc2U7XG4gIH1cblxuICBvbktleUNoYW5nZShldmVudCkge1xuICAgIC8vIGxvZyB0byBkZWJ1Z1xuICAgIC8vY29uc29sZS5sb2coJ29uS2V5Q2hhbmdlJywgZXZlbnQsIGV2ZW50LmtleUNvZGUsIGV2ZW50LnNoaWZ0S2V5LCBldmVudC5jdHJsS2V5LCBldmVudC5hbHRLZXksIGV2ZW50Lm1ldGFLZXkpXG5cbiAgICAvLyB1cGRhdGUgdGhpcy5rZXlDb2Rlc1xuICAgIGNvbnN0IGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuICAgIHRoaXMua2V5Q29kZXNba2V5Q29kZV0gPSBldmVudC50eXBlID09PSAna2V5ZG93bic7XG4gIH1cblxuICBwcmVzc2VkKGtleURlc2MpIHtcbiAgICBjb25zdCBrZXlzID0ga2V5RGVzYy5zcGxpdCgnKycpO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgbGV0IHByZXNzZWQgPSBmYWxzZTtcbiAgICAgIGlmKE9iamVjdC5rZXlzKEFMSUFTKS5pbmRleE9mKGtleSkgIT0gLTEpIHtcbiAgICAgICAgcHJlc3NlZCA9IHRoaXMua2V5Q29kZXNbQUxJQVNba2V5XV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmVzc2VkID0gdGhpcy5rZXlDb2Rlc1trZXkudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApXTtcbiAgICAgIH1cbiAgICAgIGlmKCFwcmVzc2VkKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBldmVudE1hdGNoZXMoZXZlbnQsIGtleURlc2MpIHtcbiAgICBjb25zdCBhbGlhc2VzID0gQUxJQVM7XG4gICAgY29uc3QgYWxpYXNLZXlzID0gT2JqZWN0LmtleXMoYWxpYXNlcyk7XG4gICAgY29uc3Qga2V5cyA9IGtleURlc2Muc3BsaXQoJysnKTtcbiAgICAvLyBsb2cgdG8gZGVidWdcbiAgICAvLyBjb25zb2xlLmxvZygnZXZlbnRNYXRjaGVzJywgZXZlbnQsIGV2ZW50LmtleUNvZGUsIGV2ZW50LnNoaWZ0S2V5LCBldmVudC5jdHJsS2V5LCBldmVudC5hbHRLZXksIGV2ZW50Lm1ldGFLZXkpXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICBsZXQgcHJlc3NlZCA9IGZhbHNlO1xuICAgICAgaWYoa2V5ID09PSAnc2hpZnQnKSB7XG4gICAgICAgIHByZXNzZWQgPSBldmVudC5zaGlmdEtleSA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZihrZXkgPT09ICdjdHJsJykge1xuICAgICAgICBwcmVzc2VkID0gZXZlbnQuY3RybEtleSA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZihrZXkgPT09ICdhbHQnKSB7XG4gICAgICAgIHByZXNzZWQgPSBldmVudC5hbHRLZXkgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9IGVsc2UgaWYoa2V5ID09PSAnbWV0YScpIHtcbiAgICAgICAgcHJlc3NlZCA9IGV2ZW50Lm1ldGFLZXkgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9IGVsc2UgaWYoYWxpYXNLZXlzLmluZGV4T2Yoa2V5KSAhPT0gLTEpIHtcbiAgICAgICAgcHJlc3NlZCA9IGV2ZW50LmtleUNvZGUgPT09IGFsaWFzZXNba2V5XTtcbiAgICAgIH0gZWxzZSBpZihldmVudC5rZXlDb2RlID09PSBrZXkudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApKSB7XG4gICAgICAgIHByZXNzZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYoIXByZXNzZWQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoVEhSRUUpIHtcbiAgdmFyIE1PVVNFID0gVEhSRUUuTU9VU0U7XG4gIGlmICghTU9VU0UpIE1PVVNFID0geyBMRUZUOiAwLCBNSURETEU6IDEsIFJJR0hUOiAyIH07XG5cbiAgLyoqXG4gICAqIEBhdXRob3IgcWlhbyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9xaWFvXG4gICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb21cbiAgICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS9cbiAgICogQGF1dGhvciBXZXN0TGFuZ2xleSAvIGh0dHA6Ly9naXRodWIuY29tL1dlc3RMYW5nbGV5XG4gICAqIEBhdXRob3IgZXJpY2g2NjYgLyBodHRwOi8vZXJpY2hhaW5lcy5jb21cbiAgICovXG4gIC8qZ2xvYmFsIFRIUkVFLCBjb25zb2xlICovXG5cbiAgZnVuY3Rpb24gT3JiaXRDb25zdHJhaW50KG9iamVjdCkge1xuICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuXG4gICAgLy8gXCJ0YXJnZXRcIiBzZXRzIHRoZSBsb2NhdGlvbiBvZiBmb2N1cywgd2hlcmUgdGhlIG9iamVjdCBvcmJpdHMgYXJvdW5kXG4gICAgLy8gYW5kIHdoZXJlIGl0IHBhbnMgd2l0aCByZXNwZWN0IHRvLlxuICAgIHRoaXMudGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuICAgIC8vIExpbWl0cyB0byBob3cgZmFyIHlvdSBjYW4gZG9sbHkgaW4gYW5kIG91dCAoIFBlcnNwZWN0aXZlQ2FtZXJhIG9ubHkgKVxuICAgIHRoaXMubWluRGlzdGFuY2UgPSAwO1xuICAgIHRoaXMubWF4RGlzdGFuY2UgPSBJbmZpbml0eTtcblxuICAgIC8vIExpbWl0cyB0byBob3cgZmFyIHlvdSBjYW4gem9vbSBpbiBhbmQgb3V0ICggT3J0aG9ncmFwaGljQ2FtZXJhIG9ubHkgKVxuICAgIHRoaXMubWluWm9vbSA9IDA7XG4gICAgdGhpcy5tYXhab29tID0gSW5maW5pdHk7XG5cbiAgICAvLyBIb3cgZmFyIHlvdSBjYW4gb3JiaXQgdmVydGljYWxseSwgdXBwZXIgYW5kIGxvd2VyIGxpbWl0cy5cbiAgICAvLyBSYW5nZSBpcyAwIHRvIE1hdGguUEkgcmFkaWFucy5cbiAgICB0aGlzLm1pblBvbGFyQW5nbGUgPSAwOyAvLyByYWRpYW5zXG4gICAgdGhpcy5tYXhQb2xhckFuZ2xlID0gTWF0aC5QSTsgLy8gcmFkaWFuc1xuXG4gICAgLy8gSG93IGZhciB5b3UgY2FuIG9yYml0IGhvcml6b250YWxseSwgdXBwZXIgYW5kIGxvd2VyIGxpbWl0cy5cbiAgICAvLyBJZiBzZXQsIG11c3QgYmUgYSBzdWItaW50ZXJ2YWwgb2YgdGhlIGludGVydmFsIFsgLSBNYXRoLlBJLCBNYXRoLlBJIF0uXG4gICAgdGhpcy5taW5BemltdXRoQW5nbGUgPSAtSW5maW5pdHk7IC8vIHJhZGlhbnNcbiAgICB0aGlzLm1heEF6aW11dGhBbmdsZSA9IEluZmluaXR5OyAvLyByYWRpYW5zXG5cbiAgICAvLyBTZXQgdG8gdHJ1ZSB0byBlbmFibGUgZGFtcGluZyAoaW5lcnRpYSlcbiAgICAvLyBJZiBkYW1waW5nIGlzIGVuYWJsZWQsIHlvdSBtdXN0IGNhbGwgY29udHJvbHMudXBkYXRlKCkgaW4geW91ciBhbmltYXRpb24gbG9vcFxuICAgIHRoaXMuZW5hYmxlRGFtcGluZyA9IGZhbHNlO1xuICAgIHRoaXMuZGFtcGluZ0ZhY3RvciA9IDAuMjU7XG5cbiAgICAvLy8vLy8vLy8vLy9cbiAgICAvLyBpbnRlcm5hbHNcblxuICAgIHZhciBzY29wZSA9IHRoaXM7XG5cbiAgICB2YXIgRVBTID0gMC4wMDAwMDE7XG5cbiAgICAvLyBDdXJyZW50IHBvc2l0aW9uIGluIHNwaGVyaWNhbCBjb29yZGluYXRlIHN5c3RlbS5cbiAgICB2YXIgdGhldGE7XG4gICAgdmFyIHBoaTtcblxuICAgIC8vIFBlbmRpbmcgY2hhbmdlc1xuICAgIHZhciBwaGlEZWx0YSA9IDA7XG4gICAgdmFyIHRoZXRhRGVsdGEgPSAwO1xuICAgIHZhciBzY2FsZSA9IDE7XG4gICAgdmFyIHBhbk9mZnNldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgdmFyIHpvb21DaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAvLyBBUElcblxuICAgIHRoaXMuZ2V0UG9sYXJBbmdsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwaGk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0QXppbXV0aGFsQW5nbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhldGE7XG4gICAgfTtcblxuICAgIHRoaXMucm90YXRlTGVmdCA9IGZ1bmN0aW9uIChhbmdsZSkge1xuICAgICAgdGhldGFEZWx0YSAtPSBhbmdsZTtcbiAgICB9O1xuXG4gICAgdGhpcy5yb3RhdGVVcCA9IGZ1bmN0aW9uIChhbmdsZSkge1xuICAgICAgcGhpRGVsdGEgLT0gYW5nbGU7XG4gICAgfTtcblxuICAgIC8vIHBhc3MgaW4gZGlzdGFuY2UgaW4gd29ybGQgc3BhY2UgdG8gbW92ZSBsZWZ0XG4gICAgdGhpcy5wYW5MZWZ0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHBhbkxlZnQoZGlzdGFuY2UpIHtcbiAgICAgICAgdmFyIHRlID0gdGhpcy5vYmplY3QubWF0cml4LmVsZW1lbnRzO1xuXG4gICAgICAgIC8vIGdldCBYIGNvbHVtbiBvZiBtYXRyaXhcbiAgICAgICAgdi5zZXQodGVbMF0sIHRlWzFdLCB0ZVsyXSk7XG4gICAgICAgIHYubXVsdGlwbHlTY2FsYXIoLWRpc3RhbmNlKTtcblxuICAgICAgICBwYW5PZmZzZXQuYWRkKHYpO1xuICAgICAgfTtcbiAgICB9KSgpO1xuXG4gICAgLy8gcGFzcyBpbiBkaXN0YW5jZSBpbiB3b3JsZCBzcGFjZSB0byBtb3ZlIHVwXG4gICAgdGhpcy5wYW5VcCA9IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBwYW5VcChkaXN0YW5jZSkge1xuICAgICAgICB2YXIgdGUgPSB0aGlzLm9iamVjdC5tYXRyaXguZWxlbWVudHM7XG5cbiAgICAgICAgLy8gZ2V0IFkgY29sdW1uIG9mIG1hdHJpeFxuICAgICAgICB2LnNldCh0ZVs0XSwgdGVbNV0sIHRlWzZdKTtcbiAgICAgICAgdi5tdWx0aXBseVNjYWxhcihkaXN0YW5jZSk7XG5cbiAgICAgICAgcGFuT2Zmc2V0LmFkZCh2KTtcbiAgICAgIH07XG4gICAgfSkoKTtcblxuICAgIC8vIHBhc3MgaW4geCx5IG9mIGNoYW5nZSBkZXNpcmVkIGluIHBpeGVsIHNwYWNlLFxuICAgIC8vIHJpZ2h0IGFuZCBkb3duIGFyZSBwb3NpdGl2ZVxuICAgIHRoaXMucGFuID0gZnVuY3Rpb24gKGRlbHRhWCwgZGVsdGFZLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XG4gICAgICBpZiAoc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEpIHtcbiAgICAgICAgLy8gcGVyc3BlY3RpdmVcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gc2NvcGUub2JqZWN0LnBvc2l0aW9uO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gcG9zaXRpb24uY2xvbmUoKS5zdWIoc2NvcGUudGFyZ2V0KTtcbiAgICAgICAgdmFyIHRhcmdldERpc3RhbmNlID0gb2Zmc2V0Lmxlbmd0aCgpO1xuXG4gICAgICAgIC8vIGhhbGYgb2YgdGhlIGZvdiBpcyBjZW50ZXIgdG8gdG9wIG9mIHNjcmVlblxuICAgICAgICB0YXJnZXREaXN0YW5jZSAqPSBNYXRoLnRhbigoKHNjb3BlLm9iamVjdC5mb3YgLyAyKSAqIE1hdGguUEkpIC8gMTgwLjApO1xuXG4gICAgICAgIC8vIHdlIGFjdHVhbGx5IGRvbid0IHVzZSBzY3JlZW5XaWR0aCwgc2luY2UgcGVyc3BlY3RpdmUgY2FtZXJhIGlzIGZpeGVkIHRvIHNjcmVlbiBoZWlnaHRcbiAgICAgICAgc2NvcGUucGFuTGVmdCgoMiAqIGRlbHRhWCAqIHRhcmdldERpc3RhbmNlKSAvIHNjcmVlbkhlaWdodCk7XG4gICAgICAgIHNjb3BlLnBhblVwKCgyICogZGVsdGFZICogdGFyZ2V0RGlzdGFuY2UpIC8gc2NyZWVuSGVpZ2h0KTtcbiAgICAgIH0gZWxzZSBpZiAoc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKSB7XG4gICAgICAgIC8vIG9ydGhvZ3JhcGhpY1xuICAgICAgICBzY29wZS5wYW5MZWZ0KChkZWx0YVggKiAoc2NvcGUub2JqZWN0LnJpZ2h0IC0gc2NvcGUub2JqZWN0LmxlZnQpKSAvIHNjcmVlbldpZHRoKTtcbiAgICAgICAgc2NvcGUucGFuVXAoKGRlbHRhWSAqIChzY29wZS5vYmplY3QudG9wIC0gc2NvcGUub2JqZWN0LmJvdHRvbSkpIC8gc2NyZWVuSGVpZ2h0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNhbWVyYSBuZWl0aGVyIG9ydGhvZ3JhcGhpYyBvciBwZXJzcGVjdGl2ZVxuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1dBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIHBhbiBkaXNhYmxlZC4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZG9sbHlJbiA9IGZ1bmN0aW9uIChkb2xseVNjYWxlKSB7XG4gICAgICBpZiAoc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEpIHtcbiAgICAgICAgc2NhbGUgLz0gZG9sbHlTY2FsZTtcbiAgICAgIH0gZWxzZSBpZiAoc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKSB7XG4gICAgICAgIHNjb3BlLm9iamVjdC56b29tID0gTWF0aC5tYXgoXG4gICAgICAgICAgdGhpcy5taW5ab29tLFxuICAgICAgICAgIE1hdGgubWluKHRoaXMubWF4Wm9vbSwgdGhpcy5vYmplY3Quem9vbSAqIGRvbGx5U2NhbGUpXG4gICAgICAgICk7XG4gICAgICAgIHNjb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIHpvb21DaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnV0FSTklORzogT3JiaXRDb250cm9scy5qcyBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGNhbWVyYSB0eXBlIC0gZG9sbHkvem9vbSBkaXNhYmxlZC4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZG9sbHlPdXQgPSBmdW5jdGlvbiAoZG9sbHlTY2FsZSkge1xuICAgICAgaWYgKHNjb3BlLm9iamVjdCBpbnN0YW5jZW9mIFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKSB7XG4gICAgICAgIHNjYWxlICo9IGRvbGx5U2NhbGU7XG4gICAgICB9IGVsc2UgaWYgKHNjb3BlLm9iamVjdCBpbnN0YW5jZW9mIFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSkge1xuICAgICAgICBzY29wZS5vYmplY3Quem9vbSA9IE1hdGgubWF4KFxuICAgICAgICAgIHRoaXMubWluWm9vbSxcbiAgICAgICAgICBNYXRoLm1pbih0aGlzLm1heFpvb20sIHRoaXMub2JqZWN0Lnpvb20gLyBkb2xseVNjYWxlKVxuICAgICAgICApO1xuICAgICAgICBzY29wZS5vYmplY3QudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB6b29tQ2hhbmdlZCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1dBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIGRvbGx5L3pvb20gZGlzYWJsZWQuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuICAgICAgLy8gc28gY2FtZXJhLnVwIGlzIHRoZSBvcmJpdCBheGlzXG4gICAgICB2YXIgcXVhdCA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCkuc2V0RnJvbVVuaXRWZWN0b3JzKG9iamVjdC51cCwgbmV3IFRIUkVFLlZlY3RvcjMoMCwgMSwgMCkpO1xuICAgICAgdmFyIHF1YXRJbnZlcnNlID0gcXVhdC5jbG9uZSgpLmludmVyc2UoKTtcblxuICAgICAgdmFyIGxhc3RQb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgICB2YXIgbGFzdFF1YXRlcm5pb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLm9iamVjdC5wb3NpdGlvbjtcblxuICAgICAgICBvZmZzZXQuY29weShwb3NpdGlvbikuc3ViKHRoaXMudGFyZ2V0KTtcblxuICAgICAgICAvLyByb3RhdGUgb2Zmc2V0IHRvIFwieS1heGlzLWlzLXVwXCIgc3BhY2VcbiAgICAgICAgb2Zmc2V0LmFwcGx5UXVhdGVybmlvbihxdWF0KTtcblxuICAgICAgICAvLyBhbmdsZSBmcm9tIHotYXhpcyBhcm91bmQgeS1heGlzXG5cbiAgICAgICAgdGhldGEgPSBNYXRoLmF0YW4yKG9mZnNldC54LCBvZmZzZXQueik7XG5cbiAgICAgICAgLy8gYW5nbGUgZnJvbSB5LWF4aXNcblxuICAgICAgICBwaGkgPSBNYXRoLmF0YW4yKE1hdGguc3FydChvZmZzZXQueCAqIG9mZnNldC54ICsgb2Zmc2V0LnogKiBvZmZzZXQueiksIG9mZnNldC55KTtcblxuICAgICAgICB0aGV0YSArPSB0aGV0YURlbHRhO1xuICAgICAgICBwaGkgKz0gcGhpRGVsdGE7XG5cbiAgICAgICAgLy8gcmVzdHJpY3QgdGhldGEgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xuICAgICAgICB0aGV0YSA9IE1hdGgubWF4KHRoaXMubWluQXppbXV0aEFuZ2xlLCBNYXRoLm1pbih0aGlzLm1heEF6aW11dGhBbmdsZSwgdGhldGEpKTtcblxuICAgICAgICAvLyByZXN0cmljdCBwaGkgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xuICAgICAgICBwaGkgPSBNYXRoLm1heCh0aGlzLm1pblBvbGFyQW5nbGUsIE1hdGgubWluKHRoaXMubWF4UG9sYXJBbmdsZSwgcGhpKSk7XG5cbiAgICAgICAgLy8gcmVzdHJpY3QgcGhpIHRvIGJlIGJldHdlZSBFUFMgYW5kIFBJLUVQU1xuICAgICAgICBwaGkgPSBNYXRoLm1heChFUFMsIE1hdGgubWluKE1hdGguUEkgLSBFUFMsIHBoaSkpO1xuXG4gICAgICAgIHZhciByYWRpdXMgPSBvZmZzZXQubGVuZ3RoKCkgKiBzY2FsZTtcblxuICAgICAgICAvLyByZXN0cmljdCByYWRpdXMgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xuICAgICAgICByYWRpdXMgPSBNYXRoLm1heCh0aGlzLm1pbkRpc3RhbmNlLCBNYXRoLm1pbih0aGlzLm1heERpc3RhbmNlLCByYWRpdXMpKTtcblxuICAgICAgICAvLyBtb3ZlIHRhcmdldCB0byBwYW5uZWQgbG9jYXRpb25cbiAgICAgICAgdGhpcy50YXJnZXQuYWRkKHBhbk9mZnNldCk7XG5cbiAgICAgICAgb2Zmc2V0LnggPSByYWRpdXMgKiBNYXRoLnNpbihwaGkpICogTWF0aC5zaW4odGhldGEpO1xuICAgICAgICBvZmZzZXQueSA9IHJhZGl1cyAqIE1hdGguY29zKHBoaSk7XG4gICAgICAgIG9mZnNldC56ID0gcmFkaXVzICogTWF0aC5zaW4ocGhpKSAqIE1hdGguY29zKHRoZXRhKTtcblxuICAgICAgICAvLyByb3RhdGUgb2Zmc2V0IGJhY2sgdG8gXCJjYW1lcmEtdXAtdmVjdG9yLWlzLXVwXCIgc3BhY2VcbiAgICAgICAgb2Zmc2V0LmFwcGx5UXVhdGVybmlvbihxdWF0SW52ZXJzZSk7XG5cbiAgICAgICAgcG9zaXRpb24uY29weSh0aGlzLnRhcmdldCkuYWRkKG9mZnNldCk7XG5cbiAgICAgICAgdGhpcy5vYmplY3QubG9va0F0KHRoaXMudGFyZ2V0KTtcblxuICAgICAgICBpZiAodGhpcy5lbmFibGVEYW1waW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgdGhldGFEZWx0YSAqPSAxIC0gdGhpcy5kYW1waW5nRmFjdG9yO1xuICAgICAgICAgIHBoaURlbHRhICo9IDEgLSB0aGlzLmRhbXBpbmdGYWN0b3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhldGFEZWx0YSA9IDA7XG4gICAgICAgICAgcGhpRGVsdGEgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NhbGUgPSAxO1xuICAgICAgICBwYW5PZmZzZXQuc2V0KDAsIDAsIDApO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBjb25kaXRpb24gaXM6XG4gICAgICAgIC8vIG1pbihjYW1lcmEgZGlzcGxhY2VtZW50LCBjYW1lcmEgcm90YXRpb24gaW4gcmFkaWFucyleMiA+IEVQU1xuICAgICAgICAvLyB1c2luZyBzbWFsbC1hbmdsZSBhcHByb3hpbWF0aW9uIGNvcyh4LzIpID0gMSAtIHheMiAvIDhcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgem9vbUNoYW5nZWQgfHxcbiAgICAgICAgICBsYXN0UG9zaXRpb24uZGlzdGFuY2VUb1NxdWFyZWQodGhpcy5vYmplY3QucG9zaXRpb24pID4gRVBTIHx8XG4gICAgICAgICAgOCAqICgxIC0gbGFzdFF1YXRlcm5pb24uZG90KHRoaXMub2JqZWN0LnF1YXRlcm5pb24pKSA+IEVQU1xuICAgICAgICApIHtcbiAgICAgICAgICBsYXN0UG9zaXRpb24uY29weSh0aGlzLm9iamVjdC5wb3NpdGlvbik7XG4gICAgICAgICAgbGFzdFF1YXRlcm5pb24uY29weSh0aGlzLm9iamVjdC5xdWF0ZXJuaW9uKTtcbiAgICAgICAgICB6b29tQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9O1xuICAgIH0pKCk7XG4gIH1cblxuICAvLyBUaGlzIHNldCBvZiBjb250cm9scyBwZXJmb3JtcyBvcmJpdGluZywgZG9sbHlpbmcgKHpvb21pbmcpLCBhbmQgcGFubmluZy4gSXQgbWFpbnRhaW5zXG4gIC8vIHRoZSBcInVwXCIgZGlyZWN0aW9uIGFzICtZLCB1bmxpa2UgdGhlIFRyYWNrYmFsbENvbnRyb2xzLiBUb3VjaCBvbiB0YWJsZXQgYW5kIHBob25lcyBpc1xuICAvLyBzdXBwb3J0ZWQuXG4gIC8vXG4gIC8vICAgIE9yYml0IC0gbGVmdCBtb3VzZSAvIHRvdWNoOiBvbmUgZmluZ2VyIG1vdmVcbiAgLy8gICAgWm9vbSAtIG1pZGRsZSBtb3VzZSwgb3IgbW91c2V3aGVlbCAvIHRvdWNoOiB0d28gZmluZ2VyIHNwcmVhZCBvciBzcXVpc2hcbiAgLy8gICAgUGFuIC0gcmlnaHQgbW91c2UsIG9yIGFycm93IGtleXMgLyB0b3VjaDogdGhyZWUgZmludGVyIHN3aXBlXG5cbiAgZnVuY3Rpb24gT3JiaXRDb250cm9scyhvYmplY3QsIGRvbUVsZW1lbnQpIHtcbiAgICB2YXIgY29uc3RyYWludCA9IG5ldyBPcmJpdENvbnN0cmFpbnQob2JqZWN0KTtcblxuICAgIHRoaXMuZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQgIT09IHVuZGVmaW5lZCA/IGRvbUVsZW1lbnQgOiBkb2N1bWVudDtcblxuICAgIC8vIEFQSVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdjb25zdHJhaW50Jywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJhaW50O1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuZ2V0UG9sYXJBbmdsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjb25zdHJhaW50LmdldFBvbGFyQW5nbGUoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRBemltdXRoYWxBbmdsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjb25zdHJhaW50LmdldEF6aW11dGhhbEFuZ2xlKCk7XG4gICAgfTtcblxuICAgIC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHRoaXMgY29udHJvbFxuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAvLyBjZW50ZXIgaXMgb2xkLCBkZXByZWNhdGVkOyB1c2UgXCJ0YXJnZXRcIiBpbnN0ZWFkXG4gICAgdGhpcy5jZW50ZXIgPSB0aGlzLnRhcmdldDtcblxuICAgIC8vIFRoaXMgb3B0aW9uIGFjdHVhbGx5IGVuYWJsZXMgZG9sbHlpbmcgaW4gYW5kIG91dDsgbGVmdCBhcyBcInpvb21cIiBmb3JcbiAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB6b29taW5nXG4gICAgdGhpcy5lbmFibGVab29tID0gdHJ1ZTtcbiAgICB0aGlzLnpvb21TcGVlZCA9IDEuMDtcblxuICAgIC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHJvdGF0aW5nXG4gICAgdGhpcy5lbmFibGVSb3RhdGUgPSB0cnVlO1xuICAgIHRoaXMucm90YXRlU3BlZWQgPSAxLjA7XG5cbiAgICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSBwYW5uaW5nXG4gICAgdGhpcy5lbmFibGVQYW4gPSB0cnVlO1xuICAgIHRoaXMua2V5UGFuU3BlZWQgPSA3LjA7IC8vIHBpeGVscyBtb3ZlZCBwZXIgYXJyb3cga2V5IHB1c2hcblxuICAgIC8vIFNldCB0byB0cnVlIHRvIGF1dG9tYXRpY2FsbHkgcm90YXRlIGFyb3VuZCB0aGUgdGFyZ2V0XG4gICAgLy8gSWYgYXV0by1yb3RhdGUgaXMgZW5hYmxlZCwgeW91IG11c3QgY2FsbCBjb250cm9scy51cGRhdGUoKSBpbiB5b3VyIGFuaW1hdGlvbiBsb29wXG4gICAgdGhpcy5hdXRvUm90YXRlID0gZmFsc2U7XG4gICAgdGhpcy5hdXRvUm90YXRlU3BlZWQgPSAyLjA7IC8vIDMwIHNlY29uZHMgcGVyIHJvdW5kIHdoZW4gZnBzIGlzIDYwXG5cbiAgICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB1c2Ugb2YgdGhlIGtleXNcbiAgICB0aGlzLmVuYWJsZUtleXMgPSB0cnVlO1xuXG4gICAgLy8gVGhlIGZvdXIgYXJyb3cga2V5c1xuICAgIHRoaXMua2V5cyA9IHsgTEVGVDogMzcsIFVQOiAzOCwgUklHSFQ6IDM5LCBCT1RUT006IDQwIH07XG5cbiAgICAvLyBNb3VzZSBidXR0b25zXG4gICAgdGhpcy5tb3VzZUJ1dHRvbnMgPSB7XG4gICAgICBPUkJJVDogVEhSRUUuTU9VU0UuTEVGVCxcbiAgICAgIFpPT006IFRIUkVFLk1PVVNFLk1JRERMRSxcbiAgICAgIFBBTjogVEhSRUUuTU9VU0UuUklHSFQsXG4gICAgfTtcblxuICAgIC8vLy8vLy8vLy8vL1xuICAgIC8vIGludGVybmFsc1xuXG4gICAgdmFyIHNjb3BlID0gdGhpcztcblxuICAgIHZhciByb3RhdGVTdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgdmFyIHJvdGF0ZUVuZCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgdmFyIHJvdGF0ZURlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuICAgIHZhciBwYW5TdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgdmFyIHBhbkVuZCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgdmFyIHBhbkRlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuICAgIHZhciBkb2xseVN0YXJ0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICB2YXIgZG9sbHlFbmQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgIHZhciBkb2xseURlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuICAgIHZhciBTVEFURSA9IHtcbiAgICAgIE5PTkU6IC0xLFxuICAgICAgUk9UQVRFOiAwLFxuICAgICAgRE9MTFk6IDEsXG4gICAgICBQQU46IDIsXG4gICAgICBUT1VDSF9ST1RBVEU6IDMsXG4gICAgICBUT1VDSF9ET0xMWTogNCxcbiAgICAgIFRPVUNIX1BBTjogNSxcbiAgICB9O1xuXG4gICAgdmFyIHN0YXRlID0gU1RBVEUuTk9ORTtcblxuICAgIC8vIGZvciByZXNldFxuXG4gICAgdGhpcy50YXJnZXQwID0gdGhpcy50YXJnZXQuY2xvbmUoKTtcbiAgICB0aGlzLnBvc2l0aW9uMCA9IHRoaXMub2JqZWN0LnBvc2l0aW9uLmNsb25lKCk7XG4gICAgdGhpcy56b29tMCA9IHRoaXMub2JqZWN0Lnpvb207XG5cbiAgICAvLyBldmVudHNcblxuICAgIHZhciBjaGFuZ2VFdmVudCA9IHsgdHlwZTogJ2NoYW5nZScgfTtcbiAgICB2YXIgc3RhcnRFdmVudCA9IHsgdHlwZTogJ3N0YXJ0JyB9O1xuICAgIHZhciBlbmRFdmVudCA9IHsgdHlwZTogJ2VuZCcgfTtcblxuICAgIC8vIHBhc3MgaW4geCx5IG9mIGNoYW5nZSBkZXNpcmVkIGluIHBpeGVsIHNwYWNlLFxuICAgIC8vIHJpZ2h0IGFuZCBkb3duIGFyZSBwb3NpdGl2ZVxuICAgIGZ1bmN0aW9uIHBhbihkZWx0YVgsIGRlbHRhWSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50ID09PSBkb2N1bWVudCA/IHNjb3BlLmRvbUVsZW1lbnQuYm9keSA6IHNjb3BlLmRvbUVsZW1lbnQ7XG5cbiAgICAgIGNvbnN0cmFpbnQucGFuKGRlbHRhWCwgZGVsdGFZLCBlbGVtZW50LmNsaWVudFdpZHRoLCBlbGVtZW50LmNsaWVudEhlaWdodCk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5hdXRvUm90YXRlICYmIHN0YXRlID09PSBTVEFURS5OT05FKSB7XG4gICAgICAgIGNvbnN0cmFpbnQucm90YXRlTGVmdChnZXRBdXRvUm90YXRpb25BbmdsZSgpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbnN0cmFpbnQudXBkYXRlKCkgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGNoYW5nZUV2ZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHN0YXRlID0gU1RBVEUuTk9ORTtcblxuICAgICAgdGhpcy50YXJnZXQuY29weSh0aGlzLnRhcmdldDApO1xuICAgICAgdGhpcy5vYmplY3QucG9zaXRpb24uY29weSh0aGlzLnBvc2l0aW9uMCk7XG4gICAgICB0aGlzLm9iamVjdC56b29tID0gdGhpcy56b29tMDtcblxuICAgICAgdGhpcy5vYmplY3QudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGNoYW5nZUV2ZW50KTtcblxuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZ2V0QXV0b1JvdGF0aW9uQW5nbGUoKSB7XG4gICAgICByZXR1cm4gKCgyICogTWF0aC5QSSkgLyA2MCAvIDYwKSAqIHNjb3BlLmF1dG9Sb3RhdGVTcGVlZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRab29tU2NhbGUoKSB7XG4gICAgICByZXR1cm4gTWF0aC5wb3coMC45NSwgc2NvcGUuem9vbVNwZWVkKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1vdXNlRG93bihldmVudCkge1xuICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGlmIChldmVudC5idXR0b24gPT09IHNjb3BlLm1vdXNlQnV0dG9ucy5PUkJJVCkge1xuICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgICAgIHN0YXRlID0gU1RBVEUuUk9UQVRFO1xuXG4gICAgICAgIHJvdGF0ZVN0YXJ0LnNldChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQuYnV0dG9uID09PSBzY29wZS5tb3VzZUJ1dHRvbnMuWk9PTSkge1xuICAgICAgICBpZiAoc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UpIHJldHVybjtcblxuICAgICAgICBzdGF0ZSA9IFNUQVRFLkRPTExZO1xuXG4gICAgICAgIGRvbGx5U3RhcnQuc2V0KGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xuICAgICAgfSBlbHNlIGlmIChldmVudC5idXR0b24gPT09IHNjb3BlLm1vdXNlQnV0dG9ucy5QQU4pIHtcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpIHJldHVybjtcblxuICAgICAgICBzdGF0ZSA9IFNUQVRFLlBBTjtcblxuICAgICAgICBwYW5TdGFydC5zZXQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSAhPT0gU1RBVEUuTk9ORSkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSwgZmFsc2UpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwLCBmYWxzZSk7XG4gICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoc3RhcnRFdmVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZlbnQpIHtcbiAgICAgIGlmIChzY29wZS5lbmFibGVkID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICB2YXIgZWxlbWVudCA9IHNjb3BlLmRvbUVsZW1lbnQgPT09IGRvY3VtZW50ID8gc2NvcGUuZG9tRWxlbWVudC5ib2R5IDogc2NvcGUuZG9tRWxlbWVudDtcblxuICAgICAgaWYgKHN0YXRlID09PSBTVEFURS5ST1RBVEUpIHtcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UpIHJldHVybjtcblxuICAgICAgICByb3RhdGVFbmQuc2V0KGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xuICAgICAgICByb3RhdGVEZWx0YS5zdWJWZWN0b3JzKHJvdGF0ZUVuZCwgcm90YXRlU3RhcnQpO1xuXG4gICAgICAgIC8vIHJvdGF0aW5nIGFjcm9zcyB3aG9sZSBzY3JlZW4gZ29lcyAzNjAgZGVncmVlcyBhcm91bmRcbiAgICAgICAgY29uc3RyYWludC5yb3RhdGVMZWZ0KFxuICAgICAgICAgICgoMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS54KSAvIGVsZW1lbnQuY2xpZW50V2lkdGgpICogc2NvcGUucm90YXRlU3BlZWRcbiAgICAgICAgKTtcblxuICAgICAgICAvLyByb3RhdGluZyB1cCBhbmQgZG93biBhbG9uZyB3aG9sZSBzY3JlZW4gYXR0ZW1wdHMgdG8gZ28gMzYwLCBidXQgbGltaXRlZCB0byAxODBcbiAgICAgICAgY29uc3RyYWludC5yb3RhdGVVcChcbiAgICAgICAgICAoKDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueSkgLyBlbGVtZW50LmNsaWVudEhlaWdodCkgKiBzY29wZS5yb3RhdGVTcGVlZFxuICAgICAgICApO1xuXG4gICAgICAgIHJvdGF0ZVN0YXJ0LmNvcHkocm90YXRlRW5kKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFLkRPTExZKSB7XG4gICAgICAgIGlmIChzY29wZS5lbmFibGVab29tID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgICAgIGRvbGx5RW5kLnNldChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgICAgICAgZG9sbHlEZWx0YS5zdWJWZWN0b3JzKGRvbGx5RW5kLCBkb2xseVN0YXJ0KTtcblxuICAgICAgICBpZiAoZG9sbHlEZWx0YS55ID4gMCkge1xuICAgICAgICAgIGNvbnN0cmFpbnQuZG9sbHlJbihnZXRab29tU2NhbGUoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9sbHlEZWx0YS55IDwgMCkge1xuICAgICAgICAgIGNvbnN0cmFpbnQuZG9sbHlPdXQoZ2V0Wm9vbVNjYWxlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9sbHlTdGFydC5jb3B5KGRvbGx5RW5kKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFLlBBTikge1xuICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUGFuID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgICAgIHBhbkVuZC5zZXQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgICAgIHBhbkRlbHRhLnN1YlZlY3RvcnMocGFuRW5kLCBwYW5TdGFydCk7XG5cbiAgICAgICAgcGFuKHBhbkRlbHRhLngsIHBhbkRlbHRhLnkpO1xuXG4gICAgICAgIHBhblN0YXJ0LmNvcHkocGFuRW5kKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlICE9PSBTVEFURS5OT05FKSBzY29wZS51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1vdXNlVXAoLyogZXZlbnQgKi8pIHtcbiAgICAgIGlmIChzY29wZS5lbmFibGVkID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSwgZmFsc2UpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCwgZmFsc2UpO1xuICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudChlbmRFdmVudCk7XG4gICAgICBzdGF0ZSA9IFNUQVRFLk5PTkU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Nb3VzZVdoZWVsKGV2ZW50KSB7XG4gICAgICBpZiAoc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgfHwgc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgfHwgc3RhdGUgIT09IFNUQVRFLk5PTkUpIHJldHVybjtcblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICB2YXIgZGVsdGEgPSAwO1xuXG4gICAgICBpZiAoZXZlbnQud2hlZWxEZWx0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIFdlYktpdCAvIE9wZXJhIC8gRXhwbG9yZXIgOVxuXG4gICAgICAgIGRlbHRhID0gZXZlbnQud2hlZWxEZWx0YTtcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQuZGV0YWlsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gRmlyZWZveFxuXG4gICAgICAgIGRlbHRhID0gLWV2ZW50LmRldGFpbDtcbiAgICAgIH1cblxuICAgICAgaWYgKGRlbHRhID4gMCkge1xuICAgICAgICBjb25zdHJhaW50LmRvbGx5T3V0KGdldFpvb21TY2FsZSgpKTtcbiAgICAgIH0gZWxzZSBpZiAoZGVsdGEgPCAwKSB7XG4gICAgICAgIGNvbnN0cmFpbnQuZG9sbHlJbihnZXRab29tU2NhbGUoKSk7XG4gICAgICB9XG5cbiAgICAgIHNjb3BlLnVwZGF0ZSgpO1xuICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudChzdGFydEV2ZW50KTtcbiAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoZW5kRXZlbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlIHx8IHNjb3BlLmVuYWJsZUtleXMgPT09IGZhbHNlIHx8IHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpXG4gICAgICAgIHJldHVybjtcblxuICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2Ugc2NvcGUua2V5cy5VUDpcbiAgICAgICAgICBwYW4oMCwgc2NvcGUua2V5UGFuU3BlZWQpO1xuICAgICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2Ugc2NvcGUua2V5cy5CT1RUT006XG4gICAgICAgICAgcGFuKDAsIC1zY29wZS5rZXlQYW5TcGVlZCk7XG4gICAgICAgICAgc2NvcGUudXBkYXRlKCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBzY29wZS5rZXlzLkxFRlQ6XG4gICAgICAgICAgcGFuKHNjb3BlLmtleVBhblNwZWVkLCAwKTtcbiAgICAgICAgICBzY29wZS51cGRhdGUoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIHNjb3BlLmtleXMuUklHSFQ6XG4gICAgICAgICAgcGFuKC1zY29wZS5rZXlQYW5TcGVlZCwgMCk7XG4gICAgICAgICAgc2NvcGUudXBkYXRlKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG91Y2hzdGFydChldmVudCkge1xuICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICAgIHN3aXRjaCAoZXZlbnQudG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOiAvLyBvbmUtZmluZ2VyZWQgdG91Y2g6IHJvdGF0ZVxuICAgICAgICAgIGlmIChzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFLlRPVUNIX1JPVEFURTtcblxuICAgICAgICAgIHJvdGF0ZVN0YXJ0LnNldChldmVudC50b3VjaGVzWzBdLnBhZ2VYLCBldmVudC50b3VjaGVzWzBdLnBhZ2VZKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDI6IC8vIHR3by1maW5nZXJlZCB0b3VjaDogZG9sbHlcbiAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UpIHJldHVybjtcblxuICAgICAgICAgIHN0YXRlID0gU1RBVEUuVE9VQ0hfRE9MTFk7XG5cbiAgICAgICAgICB2YXIgZHggPSBldmVudC50b3VjaGVzWzBdLnBhZ2VYIC0gZXZlbnQudG91Y2hlc1sxXS5wYWdlWDtcbiAgICAgICAgICB2YXIgZHkgPSBldmVudC50b3VjaGVzWzBdLnBhZ2VZIC0gZXZlbnQudG91Y2hlc1sxXS5wYWdlWTtcbiAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgICAgICAgIGRvbGx5U3RhcnQuc2V0KDAsIGRpc3RhbmNlKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDM6IC8vIHRocmVlLWZpbmdlcmVkIHRvdWNoOiBwYW5cbiAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUGFuID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgICAgICAgc3RhdGUgPSBTVEFURS5UT1VDSF9QQU47XG5cbiAgICAgICAgICBwYW5TdGFydC5zZXQoZXZlbnQudG91Y2hlc1swXS5wYWdlWCwgZXZlbnQudG91Y2hlc1swXS5wYWdlWSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFLk5PTkU7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSAhPT0gU1RBVEUuTk9ORSkgc2NvcGUuZGlzcGF0Y2hFdmVudChzdGFydEV2ZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b3VjaG1vdmUoZXZlbnQpIHtcbiAgICAgIGlmIChzY29wZS5lbmFibGVkID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgIHZhciBlbGVtZW50ID0gc2NvcGUuZG9tRWxlbWVudCA9PT0gZG9jdW1lbnQgPyBzY29wZS5kb21FbGVtZW50LmJvZHkgOiBzY29wZS5kb21FbGVtZW50O1xuXG4gICAgICBzd2l0Y2ggKGV2ZW50LnRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTogLy8gb25lLWZpbmdlcmVkIHRvdWNoOiByb3RhdGVcbiAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICAgIGlmIChzdGF0ZSAhPT0gU1RBVEUuVE9VQ0hfUk9UQVRFKSByZXR1cm47XG5cbiAgICAgICAgICByb3RhdGVFbmQuc2V0KGV2ZW50LnRvdWNoZXNbMF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpO1xuICAgICAgICAgIHJvdGF0ZURlbHRhLnN1YlZlY3RvcnMocm90YXRlRW5kLCByb3RhdGVTdGFydCk7XG5cbiAgICAgICAgICAvLyByb3RhdGluZyBhY3Jvc3Mgd2hvbGUgc2NyZWVuIGdvZXMgMzYwIGRlZ3JlZXMgYXJvdW5kXG4gICAgICAgICAgY29uc3RyYWludC5yb3RhdGVMZWZ0KFxuICAgICAgICAgICAgKCgyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLngpIC8gZWxlbWVudC5jbGllbnRXaWR0aCkgKiBzY29wZS5yb3RhdGVTcGVlZFxuICAgICAgICAgICk7XG4gICAgICAgICAgLy8gcm90YXRpbmcgdXAgYW5kIGRvd24gYWxvbmcgd2hvbGUgc2NyZWVuIGF0dGVtcHRzIHRvIGdvIDM2MCwgYnV0IGxpbWl0ZWQgdG8gMTgwXG4gICAgICAgICAgY29uc3RyYWludC5yb3RhdGVVcChcbiAgICAgICAgICAgICgoMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS55KSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0KSAqIHNjb3BlLnJvdGF0ZVNwZWVkXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHJvdGF0ZVN0YXJ0LmNvcHkocm90YXRlRW5kKTtcblxuICAgICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMjogLy8gdHdvLWZpbmdlcmVkIHRvdWNoOiBkb2xseVxuICAgICAgICAgIGlmIChzY29wZS5lbmFibGVab29tID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICAgIGlmIChzdGF0ZSAhPT0gU1RBVEUuVE9VQ0hfRE9MTFkpIHJldHVybjtcblxuICAgICAgICAgIHZhciBkeCA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVggLSBldmVudC50b3VjaGVzWzFdLnBhZ2VYO1xuICAgICAgICAgIHZhciBkeSA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkgLSBldmVudC50b3VjaGVzWzFdLnBhZ2VZO1xuICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cbiAgICAgICAgICBkb2xseUVuZC5zZXQoMCwgZGlzdGFuY2UpO1xuICAgICAgICAgIGRvbGx5RGVsdGEuc3ViVmVjdG9ycyhkb2xseUVuZCwgZG9sbHlTdGFydCk7XG5cbiAgICAgICAgICBpZiAoZG9sbHlEZWx0YS55ID4gMCkge1xuICAgICAgICAgICAgY29uc3RyYWludC5kb2xseU91dChnZXRab29tU2NhbGUoKSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChkb2xseURlbHRhLnkgPCAwKSB7XG4gICAgICAgICAgICBjb25zdHJhaW50LmRvbGx5SW4oZ2V0Wm9vbVNjYWxlKCkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRvbGx5U3RhcnQuY29weShkb2xseUVuZCk7XG5cbiAgICAgICAgICBzY29wZS51cGRhdGUoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDM6IC8vIHRocmVlLWZpbmdlcmVkIHRvdWNoOiBwYW5cbiAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUGFuID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICAgIGlmIChzdGF0ZSAhPT0gU1RBVEUuVE9VQ0hfUEFOKSByZXR1cm47XG5cbiAgICAgICAgICBwYW5FbmQuc2V0KGV2ZW50LnRvdWNoZXNbMF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpO1xuICAgICAgICAgIHBhbkRlbHRhLnN1YlZlY3RvcnMocGFuRW5kLCBwYW5TdGFydCk7XG5cbiAgICAgICAgICBwYW4ocGFuRGVsdGEueCwgcGFuRGVsdGEueSk7XG5cbiAgICAgICAgICBwYW5TdGFydC5jb3B5KHBhbkVuZCk7XG5cbiAgICAgICAgICBzY29wZS51cGRhdGUoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHN0YXRlID0gU1RBVEUuTk9ORTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b3VjaGVuZCgvKiBldmVudCAqLykge1xuICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoZW5kRXZlbnQpO1xuICAgICAgc3RhdGUgPSBTVEFURS5OT05FO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbnRleHRtZW51KGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHRoaXMuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGNvbnRleHRtZW51LCBmYWxzZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Nb3VzZURvd24sIGZhbHNlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgb25Nb3VzZVdoZWVsLCBmYWxzZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignTW96TW91c2VQaXhlbFNjcm9sbCcsIG9uTW91c2VXaGVlbCwgZmFsc2UpOyAvLyBmaXJlZm94XG5cbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdG91Y2hzdGFydCwgZmFsc2UpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdG91Y2hlbmQsIGZhbHNlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0b3VjaG1vdmUsIGZhbHNlKTtcblxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIGZhbHNlKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNlVXAsIGZhbHNlKTtcblxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbktleURvd24sIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgY29udGV4dG1lbnUsIGZhbHNlKTtcblxuICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbk1vdXNlRG93biwgZmFsc2UpO1xuICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgb25Nb3VzZVdoZWVsLCBmYWxzZSk7XG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ01vek1vdXNlUGl4ZWxTY3JvbGwnLCBvbk1vdXNlV2hlZWwsIGZhbHNlKTsgLy8gZmlyZWZveFxuXG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0b3VjaHN0YXJ0LCBmYWxzZSk7XG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdG91Y2hlbmQsIGZhbHNlKTtcbiAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdG91Y2htb3ZlLCBmYWxzZSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uS2V5RG93biwgZmFsc2UpO1xuXG4gICAgLy8gZm9yY2UgYW4gdXBkYXRlIGF0IHN0YXJ0XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIE9yYml0Q29udHJvbHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShUSFJFRS5FdmVudERpc3BhdGNoZXIucHJvdG90eXBlKTtcbiAgT3JiaXRDb250cm9scy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBPcmJpdENvbnRyb2xzO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE9yYml0Q29udHJvbHMucHJvdG90eXBlLCB7XG4gICAgb2JqZWN0OiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludC5vYmplY3Q7XG4gICAgICB9LFxuICAgIH0sXG5cbiAgICB0YXJnZXQ6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50LnRhcmdldDtcbiAgICAgIH0sXG5cbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuT3JiaXRDb250cm9sczogdGFyZ2V0IGlzIG5vdyBpbW11dGFibGUuIFVzZSB0YXJnZXQuc2V0KCkgaW5zdGVhZC4nKTtcbiAgICAgICAgdGhpcy5jb25zdHJhaW50LnRhcmdldC5jb3B5KHZhbHVlKTtcbiAgICAgIH0sXG4gICAgfSxcblxuICAgIG1pbkRpc3RhbmNlOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludC5taW5EaXN0YW5jZTtcbiAgICAgIH0sXG5cbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuY29uc3RyYWludC5taW5EaXN0YW5jZSA9IHZhbHVlO1xuICAgICAgfSxcbiAgICB9LFxuXG4gICAgbWF4RGlzdGFuY2U6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50Lm1heERpc3RhbmNlO1xuICAgICAgfSxcblxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5jb25zdHJhaW50Lm1heERpc3RhbmNlID0gdmFsdWU7XG4gICAgICB9LFxuICAgIH0sXG5cbiAgICBtaW5ab29tOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludC5taW5ab29tO1xuICAgICAgfSxcblxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5jb25zdHJhaW50Lm1pblpvb20gPSB2YWx1ZTtcbiAgICAgIH0sXG4gICAgfSxcblxuICAgIG1heFpvb206IHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50Lm1heFpvb207XG4gICAgICB9LFxuXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnQubWF4Wm9vbSA9IHZhbHVlO1xuICAgICAgfSxcbiAgICB9LFxuXG4gICAgbWluUG9sYXJBbmdsZToge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnQubWluUG9sYXJBbmdsZTtcbiAgICAgIH0sXG5cbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuY29uc3RyYWludC5taW5Qb2xhckFuZ2xlID0gdmFsdWU7XG4gICAgICB9LFxuICAgIH0sXG5cbiAgICBtYXhQb2xhckFuZ2xlOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludC5tYXhQb2xhckFuZ2xlO1xuICAgICAgfSxcblxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5jb25zdHJhaW50Lm1heFBvbGFyQW5nbGUgPSB2YWx1ZTtcbiAgICAgIH0sXG4gICAgfSxcblxuICAgIG1pbkF6aW11dGhBbmdsZToge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnQubWluQXppbXV0aEFuZ2xlO1xuICAgICAgfSxcblxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5jb25zdHJhaW50Lm1pbkF6aW11dGhBbmdsZSA9IHZhbHVlO1xuICAgICAgfSxcbiAgICB9LFxuXG4gICAgbWF4QXppbXV0aEFuZ2xlOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludC5tYXhBemltdXRoQW5nbGU7XG4gICAgICB9LFxuXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnQubWF4QXppbXV0aEFuZ2xlID0gdmFsdWU7XG4gICAgICB9LFxuICAgIH0sXG5cbiAgICBlbmFibGVEYW1waW5nOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludC5lbmFibGVEYW1waW5nO1xuICAgICAgfSxcblxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5jb25zdHJhaW50LmVuYWJsZURhbXBpbmcgPSB2YWx1ZTtcbiAgICAgIH0sXG4gICAgfSxcblxuICAgIGRhbXBpbmdGYWN0b3I6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50LmRhbXBpbmdGYWN0b3I7XG4gICAgICB9LFxuXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnQuZGFtcGluZ0ZhY3RvciA9IHZhbHVlO1xuICAgICAgfSxcbiAgICB9LFxuXG4gICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuXG4gICAgbm9ab29tOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9ab29tIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlWm9vbSBpbnN0ZWFkLicpO1xuICAgICAgICByZXR1cm4gIXRoaXMuZW5hYmxlWm9vbTtcbiAgICAgIH0sXG5cbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuT3JiaXRDb250cm9sczogLm5vWm9vbSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVpvb20gaW5zdGVhZC4nKTtcbiAgICAgICAgdGhpcy5lbmFibGVab29tID0gIXZhbHVlO1xuICAgICAgfSxcbiAgICB9LFxuXG4gICAgbm9Sb3RhdGU6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub1JvdGF0ZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVJvdGF0ZSBpbnN0ZWFkLidcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLmVuYWJsZVJvdGF0ZTtcbiAgICAgIH0sXG5cbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnVEhSRUUuT3JiaXRDb250cm9sczogLm5vUm90YXRlIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlUm90YXRlIGluc3RlYWQuJ1xuICAgICAgICApO1xuICAgICAgICB0aGlzLmVuYWJsZVJvdGF0ZSA9ICF2YWx1ZTtcbiAgICAgIH0sXG4gICAgfSxcblxuICAgIG5vUGFuOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9QYW4gaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVQYW4gaW5zdGVhZC4nKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLmVuYWJsZVBhbjtcbiAgICAgIH0sXG5cbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuT3JiaXRDb250cm9sczogLm5vUGFuIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlUGFuIGluc3RlYWQuJyk7XG4gICAgICAgIHRoaXMuZW5hYmxlUGFuID0gIXZhbHVlO1xuICAgICAgfSxcbiAgICB9LFxuXG4gICAgbm9LZXlzOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9LZXlzIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlS2V5cyBpbnN0ZWFkLicpO1xuICAgICAgICByZXR1cm4gIXRoaXMuZW5hYmxlS2V5cztcbiAgICAgIH0sXG5cbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuT3JiaXRDb250cm9sczogLm5vS2V5cyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZUtleXMgaW5zdGVhZC4nKTtcbiAgICAgICAgdGhpcy5lbmFibGVLZXlzID0gIXZhbHVlO1xuICAgICAgfSxcbiAgICB9LFxuXG4gICAgc3RhdGljTW92aW5nOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdUSFJFRS5PcmJpdENvbnRyb2xzOiAuc3RhdGljTW92aW5nIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlRGFtcGluZyBpbnN0ZWFkLidcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLmNvbnN0cmFpbnQuZW5hYmxlRGFtcGluZztcbiAgICAgIH0sXG5cbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnVEhSRUUuT3JiaXRDb250cm9sczogLnN0YXRpY01vdmluZyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZURhbXBpbmcgaW5zdGVhZC4nXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY29uc3RyYWludC5lbmFibGVEYW1waW5nID0gIXZhbHVlO1xuICAgICAgfSxcbiAgICB9LFxuXG4gICAgZHluYW1pY0RhbXBpbmdGYWN0b3I6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5keW5hbWljRGFtcGluZ0ZhY3RvciBoYXMgYmVlbiByZW5hbWVkLiBVc2UgLmRhbXBpbmdGYWN0b3IgaW5zdGVhZC4nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnQuZGFtcGluZ0ZhY3RvcjtcbiAgICAgIH0sXG5cbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnVEhSRUUuT3JiaXRDb250cm9sczogLmR5bmFtaWNEYW1waW5nRmFjdG9yIGhhcyBiZWVuIHJlbmFtZWQuIFVzZSAuZGFtcGluZ0ZhY3RvciBpbnN0ZWFkLidcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jb25zdHJhaW50LmRhbXBpbmdGYWN0b3IgPSB2YWx1ZTtcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIE9yYml0Q29udHJvbHM7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==